<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Book Appointment - Oregon Tires Auto Care Portland, OR</title>
  <meta name="description" content="Schedule tire installation, oil change, brake service or auto repair at Oregon Tires in Portland, OR. Bilingual English & Spanish service.">
  <link rel="icon" href="/assets/favicon.ico" sizes="any">
  <link rel="icon" href="/assets/favicon.png" type="image/png" sizes="32x32">
  <link rel="apple-touch-icon" href="/assets/apple-touch-icon.png">
  <meta name="theme-color" content="#15803d">
  <meta name="msapplication-TileColor" content="#15803d">
  <link rel="canonical" href="https://oregon.tires/book-appointment/">

  <!-- Open Graph -->
  <meta property="og:title" content="Book an Appointment - Oregon Tires Auto Care">
  <meta property="og:description" content="Schedule your tire installation, repair, oil change, or brake service online. Bilingual service in English and Spanish.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://oregon.tires/book-appointment/">
  <meta property="og:image" content="https://oregon.tires/assets/og-image.jpg">
  <meta property="og:locale" content="en_US">
  <meta property="og:locale:alternate" content="es_MX">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Book an Appointment - Oregon Tires Auto Care">
  <meta name="twitter:description" content="Schedule your tire or auto service online. Bilingual English/Spanish.">
  <meta name="twitter:image" content="https://oregon.tires/assets/og-image.jpg">

  <!-- Tailwind CSS (built) -->
  <link rel="stylesheet" href="/assets/styles.css">

  <style>
    html { scroll-behavior: smooth; }
    .fade-in { animation: fadeIn 0.6s ease-in; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    .time-slot { transition: all 0.15s ease; }
    .time-slot:hover { transform: translateY(-1px); }
    .time-slot.selected { background-color: #15803d; color: white; border-color: #15803d; }
    .service-card input:checked + label {
      border-color: #15803d;
      background-color: rgba(13, 54, 24, 0.05);
      box-shadow: 0 0 0 2px #15803d;
    }
    .dark .service-card input:checked + label {
      background-color: rgba(74, 222, 128, 0.1);
    }
  </style>

  <!-- Google Analytics 4 -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-CHYMTNB6LH"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-CHYMTNB6LH');
  </script>
  <!-- Dark mode init (prevent FOUC) -->
  <script>(function(){var s=localStorage.getItem('theme'),d=window.matchMedia('(prefers-color-scheme:dark)').matches;if(s==='dark'||(!s&&d))document.documentElement.classList.add('dark');})();</script>
</head>
<body class="bg-white text-gray-800 dark:bg-gray-900 dark:text-gray-100">
  <a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:bg-white focus:px-4 focus:py-2 focus:rounded-lg focus:shadow-lg focus:text-green-700 focus:font-semibold">Skip to main content</a>

  <!-- Top Bar -->
  <div class="bg-brand text-white text-sm py-2">
    <div class="container mx-auto px-4 flex flex-wrap justify-between items-center gap-2">
      <div class="flex flex-wrap items-center gap-4">
        <span>üìû <a href="tel:5033679714" class="hover:text-yellow-300">(503) 367-9714</a></span>
        <span>‚úâÔ∏è <a href="mailto:oregontirespdx@gmail.com">oregontirespdx@gmail.com</a></span>
        <span class="hidden md:inline">üìç 8536 SE 82nd Ave, Portland, OR 97266</span>
        <span class="hidden lg:inline" id="top-hours">üïê Mon-Sat 7AM-7PM</span>
      </div>
      <div class="flex items-center gap-3">
        <a href="https://www.instagram.com/oregontires" target="_blank" class="hover:text-yellow-300">Instagram</a>
        <a href="https://www.facebook.com/61571913202998/" target="_blank" class="hover:text-yellow-300">Facebook</a>
        <button id="dark-mode-toggle" onclick="toggleDarkMode()" aria-label="Toggle dark mode" class="text-sm text-white hover:text-yellow-300 transition-colors">üåô</button>
        <button onclick="toggleLanguage()" class="hover:text-yellow-300 font-medium" id="lang-toggle" aria-label="Switch language">üåê ES</button>
      </div>
    </div>
  </div>

  <!-- Header -->
  <header class="bg-white shadow-md sticky top-0 z-50 dark:bg-gray-800">
    <div class="container mx-auto px-4 py-3 flex justify-between items-center">
      <a href="/">
        <img src="/assets/logo.png" alt="Oregon Tires Auto Care" class="h-14 w-auto" loading="eager" fetchpriority="high">
      </a>
      <nav class="hidden md:flex items-center gap-6">
        <a href="/" class="text-brand dark:text-green-400 font-medium hover:opacity-70" data-t="home">Home</a>
        <a href="/#services" class="text-brand dark:text-green-400 font-medium hover:opacity-70" data-t="services">Services</a>
        <a href="/#about" class="text-brand dark:text-green-400 font-medium hover:opacity-70" data-t="about">About</a>
        <a href="/#reviews" class="text-brand dark:text-green-400 font-medium hover:opacity-70" data-t="testimonials">Reviews</a>
        <a href="/#gallery" class="text-brand dark:text-green-400 font-medium hover:opacity-70" data-t="gallery">Promotions</a>
        <a href="/#contact" class="text-brand dark:text-green-400 font-medium hover:opacity-70" data-t="contact">Contact</a>
        <a href="/book-appointment" class="bg-yellow-400 text-black px-5 py-2 rounded-lg font-semibold hover:bg-yellow-500 transition" data-t="scheduleService">Schedule Service</a>
      </nav>
      <button onclick="toggleMobileMenu()" class="md:hidden text-brand dark:text-green-400 text-2xl" id="mobile-menu-btn" aria-label="Toggle navigation menu" aria-expanded="false">‚ò∞</button>
    </div>
    <div id="mobile-menu" class="hidden md:hidden bg-white border-t px-4 pb-4 dark:bg-gray-800 dark:border-gray-700">
      <a href="/" class="block py-2 text-brand dark:text-green-400" data-t="home">Home</a>
      <a href="/#services" class="block py-2 text-brand dark:text-green-400" data-t="services">Services</a>
      <a href="/#about" class="block py-2 text-brand dark:text-green-400" data-t="about">About</a>
      <a href="/#reviews" class="block py-2 text-brand dark:text-green-400" data-t="testimonials">Reviews</a>
      <a href="/#gallery" class="block py-2 text-brand dark:text-green-400" data-t="gallery">Promotions</a>
      <a href="/#contact" class="block py-2 text-brand dark:text-green-400" data-t="contact">Contact</a>
      <a href="/book-appointment" class="block py-2 text-brand dark:text-green-400 font-semibold" data-t="scheduleService">Schedule Service</a>
    </div>
  </header>

  <!-- Main Content -->
  <main id="main-content">

  <!-- Hero Banner -->
  <section class="bg-brand text-white py-12">
    <div class="container mx-auto px-4 text-center">
      <h1 class="text-3xl md:text-4xl font-bold mb-3" data-t="bookAppointment">Book an Appointment</h1>
      <p class="text-lg opacity-90 max-w-2xl mx-auto" data-t="bookSubtitle">Schedule your service online. We will confirm your appointment shortly.</p>
    </div>
  </section>

  <!-- Booking Form -->
  <section class="py-12 bg-gray-50 dark:bg-gray-800">
    <div class="container mx-auto px-4 max-w-3xl">

      <form id="booking-form" class="space-y-8">

        <!-- Step 1: Service Selection -->
        <div class="bg-white rounded-xl shadow-md p-6 dark:bg-gray-700">
          <h2 class="text-xl font-bold text-brand dark:text-green-400 mb-4 flex items-center gap-2">
            <span class="bg-brand text-white w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold">1</span>
            <span data-t="selectService">Select a Service</span>
          </h2>
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3">
            <div class="service-card">
              <input type="radio" name="service" value="tire-installation" id="svc-tire-installation" required class="sr-only">
              <label for="svc-tire-installation" class="block border-2 border-gray-200 dark:border-gray-600 rounded-lg p-3 cursor-pointer hover:border-green-400 transition text-center">
                <span class="block font-semibold text-brand dark:text-green-400" data-t="tireInstallation">Tire Installation</span>
              </label>
            </div>
            <div class="service-card">
              <input type="radio" name="service" value="tire-repair" id="svc-tire-repair" required class="sr-only">
              <label for="svc-tire-repair" class="block border-2 border-gray-200 dark:border-gray-600 rounded-lg p-3 cursor-pointer hover:border-green-400 transition text-center">
                <span class="block font-semibold text-brand dark:text-green-400" data-t="tireRepair">Tire Repair</span>
              </label>
            </div>
            <div class="service-card">
              <input type="radio" name="service" value="wheel-alignment" id="svc-wheel-alignment" required class="sr-only">
              <label for="svc-wheel-alignment" class="block border-2 border-gray-200 dark:border-gray-600 rounded-lg p-3 cursor-pointer hover:border-green-400 transition text-center">
                <span class="block font-semibold text-brand dark:text-green-400" data-t="wheelAlignment">Wheel Alignment</span>
              </label>
            </div>
            <div class="service-card">
              <input type="radio" name="service" value="oil-change" id="svc-oil-change" required class="sr-only">
              <label for="svc-oil-change" class="block border-2 border-gray-200 dark:border-gray-600 rounded-lg p-3 cursor-pointer hover:border-green-400 transition text-center">
                <span class="block font-semibold text-brand dark:text-green-400" data-t="oilChange">Oil Change</span>
              </label>
            </div>
            <div class="service-card">
              <input type="radio" name="service" value="brake-service" id="svc-brake-service" required class="sr-only">
              <label for="svc-brake-service" class="block border-2 border-gray-200 dark:border-gray-600 rounded-lg p-3 cursor-pointer hover:border-green-400 transition text-center">
                <span class="block font-semibold text-brand dark:text-green-400" data-t="brakeService">Brake Service</span>
              </label>
            </div>
            <div class="service-card">
              <input type="radio" name="service" value="tuneup" id="svc-tuneup" required class="sr-only">
              <label for="svc-tuneup" class="block border-2 border-gray-200 dark:border-gray-600 rounded-lg p-3 cursor-pointer hover:border-green-400 transition text-center">
                <span class="block font-semibold text-brand dark:text-green-400" data-t="tuneup">Tuneup</span>
              </label>
            </div>
            <div class="service-card">
              <input type="radio" name="service" value="mechanical-inspection" id="svc-mechanical-inspection" required class="sr-only">
              <label for="svc-mechanical-inspection" class="block border-2 border-gray-200 dark:border-gray-600 rounded-lg p-3 cursor-pointer hover:border-green-400 transition text-center">
                <span class="block font-semibold text-brand dark:text-green-400" data-t="mechanicalInspection">Mechanical Inspection</span>
              </label>
            </div>
            <div class="service-card">
              <input type="radio" name="service" value="mobile-service" id="svc-mobile-service" required class="sr-only">
              <label for="svc-mobile-service" class="block border-2 border-gray-200 dark:border-gray-600 rounded-lg p-3 cursor-pointer hover:border-green-400 transition text-center">
                <span class="block font-semibold text-brand dark:text-green-400" data-t="mobileService">Mobile Service</span>
              </label>
            </div>
            <div class="service-card">
              <input type="radio" name="service" value="other" id="svc-other" required class="sr-only">
              <label for="svc-other" class="block border-2 border-gray-200 dark:border-gray-600 rounded-lg p-3 cursor-pointer hover:border-green-400 transition text-center">
                <span class="block font-semibold text-brand dark:text-green-400" data-t="otherService">Other</span>
              </label>
            </div>
          </div>
        </div>

        <!-- Step 2: Date & Time -->
        <div class="bg-white rounded-xl shadow-md p-6 dark:bg-gray-700">
          <h2 class="text-xl font-bold text-brand dark:text-green-400 mb-4 flex items-center gap-2">
            <span class="bg-brand text-white w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold">2</span>
            <span data-t="selectDateTime">Choose Date & Time</span>
          </h2>

          <!-- Date -->
          <div class="mb-6">
            <label for="booking-date" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" data-t="preferredDate">Preferred Date</label>
            <input type="date" name="date" id="booking-date" required class="w-full max-w-xs p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-green-500 dark:bg-gray-600 dark:text-gray-100 dark:border-gray-500">
            <p class="text-xs text-gray-500 dark:text-gray-400 mt-1" data-t="dateNote">Monday - Saturday only. No Sundays.</p>
          </div>

          <!-- Time Slots -->
          <div>
            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2" data-t="preferredTime">Preferred Time</label>
            <input type="hidden" name="time" id="booking-time" required>
            <div class="grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-2" id="time-slots-grid">
              <button type="button" class="time-slot border-2 border-gray-200 dark:border-gray-600 rounded-lg py-2 px-3 text-sm font-medium hover:border-green-400 transition" data-time="07:00">7:00 AM</button>
              <button type="button" class="time-slot border-2 border-gray-200 dark:border-gray-600 rounded-lg py-2 px-3 text-sm font-medium hover:border-green-400 transition" data-time="08:00">8:00 AM</button>
              <button type="button" class="time-slot border-2 border-gray-200 dark:border-gray-600 rounded-lg py-2 px-3 text-sm font-medium hover:border-green-400 transition" data-time="09:00">9:00 AM</button>
              <button type="button" class="time-slot border-2 border-gray-200 dark:border-gray-600 rounded-lg py-2 px-3 text-sm font-medium hover:border-green-400 transition" data-time="10:00">10:00 AM</button>
              <button type="button" class="time-slot border-2 border-gray-200 dark:border-gray-600 rounded-lg py-2 px-3 text-sm font-medium hover:border-green-400 transition" data-time="11:00">11:00 AM</button>
              <button type="button" class="time-slot border-2 border-gray-200 dark:border-gray-600 rounded-lg py-2 px-3 text-sm font-medium hover:border-green-400 transition" data-time="12:00">12:00 PM</button>
              <button type="button" class="time-slot border-2 border-gray-200 dark:border-gray-600 rounded-lg py-2 px-3 text-sm font-medium hover:border-green-400 transition" data-time="13:00">1:00 PM</button>
              <button type="button" class="time-slot border-2 border-gray-200 dark:border-gray-600 rounded-lg py-2 px-3 text-sm font-medium hover:border-green-400 transition" data-time="14:00">2:00 PM</button>
              <button type="button" class="time-slot border-2 border-gray-200 dark:border-gray-600 rounded-lg py-2 px-3 text-sm font-medium hover:border-green-400 transition" data-time="15:00">3:00 PM</button>
              <button type="button" class="time-slot border-2 border-gray-200 dark:border-gray-600 rounded-lg py-2 px-3 text-sm font-medium hover:border-green-400 transition" data-time="16:00">4:00 PM</button>
              <button type="button" class="time-slot border-2 border-gray-200 dark:border-gray-600 rounded-lg py-2 px-3 text-sm font-medium hover:border-green-400 transition" data-time="17:00">5:00 PM</button>
              <button type="button" class="time-slot border-2 border-gray-200 dark:border-gray-600 rounded-lg py-2 px-3 text-sm font-medium hover:border-green-400 transition" data-time="18:00">6:00 PM</button>
            </div>
          </div>
        </div>

        <!-- Step 3: Vehicle Info (optional) -->
        <div class="bg-white rounded-xl shadow-md p-6 dark:bg-gray-700">
          <h2 class="text-xl font-bold text-brand dark:text-green-400 mb-1 flex items-center gap-2">
            <span class="bg-brand text-white w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold">3</span>
            <span data-t="vehicleInfo">Vehicle Information</span>
          </h2>
          <p class="text-sm text-gray-500 dark:text-gray-400 mb-4 ml-10" data-t="vehicleOptional">Optional but helps us prepare for your visit</p>

          <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
            <div>
              <label for="vehicle-year" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" data-t="vehicleYear">Year</label>
              <select name="vehicleYear" id="vehicle-year" class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-green-500 dark:bg-gray-600 dark:text-gray-100 dark:border-gray-500">
                <option value="">--</option>
              </select>
            </div>
            <div>
              <label for="vehicle-make" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" data-t="vehicleMake">Make</label>
              <input type="text" name="vehicleMake" id="vehicle-make" placeholder="e.g. Toyota" class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-green-500 dark:bg-gray-600 dark:text-gray-100 dark:border-gray-500">
            </div>
            <div>
              <label for="vehicle-model" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" data-t="vehicleModel">Model</label>
              <input type="text" name="vehicleModel" id="vehicle-model" placeholder="e.g. Camry" class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-green-500 dark:bg-gray-600 dark:text-gray-100 dark:border-gray-500">
            </div>
          </div>
        </div>

        <!-- Step 4: Customer Info -->
        <div class="bg-white rounded-xl shadow-md p-6 dark:bg-gray-700">
          <h2 class="text-xl font-bold text-brand dark:text-green-400 mb-4 flex items-center gap-2">
            <span class="bg-brand text-white w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold">4</span>
            <span data-t="yourInfo">Your Information</span>
          </h2>

          <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4">
            <div>
              <label for="booking-first-name" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" data-t="firstName">First Name</label>
              <input type="text" name="firstName" id="booking-first-name" required autocomplete="given-name" class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-green-500 dark:bg-gray-600 dark:text-gray-100 dark:border-gray-500">
            </div>
            <div>
              <label for="booking-last-name" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" data-t="lastName">Last Name</label>
              <input type="text" name="lastName" id="booking-last-name" required autocomplete="family-name" class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-green-500 dark:bg-gray-600 dark:text-gray-100 dark:border-gray-500">
            </div>
          </div>
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4">
            <div>
              <label for="booking-phone" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" data-t="phone">Phone</label>
              <input type="tel" name="phone" id="booking-phone" required autocomplete="tel" placeholder="(503) 123-4567" class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-green-500 dark:bg-gray-600 dark:text-gray-100 dark:border-gray-500">
            </div>
            <div>
              <label for="booking-email" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" data-t="email">Email</label>
              <input type="email" name="email" id="booking-email" required autocomplete="email" placeholder="your@email.com" class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-green-500 dark:bg-gray-600 dark:text-gray-100 dark:border-gray-500">
            </div>
          </div>

          <!-- Notes -->
          <div>
            <label for="booking-notes" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" data-t="notes">Notes</label>
            <textarea name="notes" id="booking-notes" rows="3" placeholder="" class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-green-500 dark:bg-gray-600 dark:text-gray-100 dark:border-gray-500"></textarea>
          </div>
        </div>

        <!-- Submit -->
        <div class="text-center">
          <button type="submit" id="booking-submit" class="bg-yellow-400 text-black px-10 py-4 rounded-lg font-bold text-lg hover:bg-yellow-500 transition shadow-lg disabled:opacity-50 disabled:cursor-not-allowed" data-t="bookNow">Book Appointment</button>
        </div>
      </form>

      <!-- Status Message -->
      <div id="booking-status" class="mt-6 text-center hidden"></div>

      <!-- Confirmation Section -->
      <div id="booking-confirmation" class="hidden mt-8 bg-white rounded-xl shadow-lg p-8 text-center fade-in dark:bg-gray-700">
        <div class="text-5xl mb-4">‚úÖ</div>
        <h2 class="text-2xl font-bold text-brand dark:text-green-400 mb-2" data-t="confirmationTitle">Appointment Requested!</h2>
        <p class="text-gray-600 dark:text-gray-300 mb-6" data-t="confirmationSubtitle">We will call or text you to confirm. Thank you!</p>
        <div id="confirmation-details" class="text-left max-w-md mx-auto space-y-2 mb-6"></div>
        <div class="flex justify-center gap-4 flex-wrap">
          <a href="/" class="bg-brand text-white px-6 py-2 rounded-lg font-semibold hover:opacity-90 transition" data-t="backToHome">Back to Home</a>
          <button onclick="resetBookingForm()" class="border-2 border-brand dark:border-green-400 text-brand dark:text-green-400 px-6 py-2 rounded-lg font-semibold hover:bg-brand/5 dark:hover:bg-green-400/10 transition" data-t="bookAnother">Book Another</button>
        </div>
      </div>

      <!-- Contact info reminder -->
      <div class="mt-8 bg-white rounded-xl shadow-md p-6 text-center dark:bg-gray-700">
        <p class="text-gray-600 dark:text-gray-300 mb-2" data-t="preferCall">Prefer to call? We are happy to help!</p>
        <a href="tel:5033679714" class="text-2xl font-bold text-brand dark:text-green-400 hover:opacity-80 transition">üìû (503) 367-9714</a>
        <p class="text-sm text-gray-500 dark:text-gray-400 mt-2" data-t="monSat">Mon-Sat 7AM-7PM</p>
      </div>

    </div>
  </section>

  </main>

  <!-- Footer -->
  <footer class="bg-brand text-white py-12">
    <div class="container mx-auto px-4">
      <div class="grid md:grid-cols-3 gap-8">
        <div>
          <h3 class="text-xl font-bold mb-4" data-t="contactInfo">Contact Information</h3>
          <div class="space-y-2 text-gray-200">
            <p>üìû <a href="tel:5033679714" class="hover:text-yellow-300">(503) 367-9714</a></p>
            <p>‚úâÔ∏è <a href="mailto:oregontirespdx@gmail.com">oregontirespdx@gmail.com</a></p>
            <p>üìç 8536 SE 82nd Ave, Portland, OR 97266</p>
            <p>üïê <span data-t="monSat">Mon-Sat 7AM-7PM</span></p>
          </div>
        </div>
        <div>
          <h3 class="text-xl font-bold mb-4" data-t="services">Services</h3>
          <ul class="space-y-1 text-gray-200">
            <li data-t="tireInstallation">Tire Installation</li>
            <li data-t="tireRepair">Tire Repair</li>
            <li data-t="wheelAlignment">Wheel Alignment</li>
            <li data-t="brakeService">Brake Service</li>
            <li data-t="oilChange">Oil Change</li>
          </ul>
        </div>
        <div>
          <h3 class="text-xl font-bold mb-4" data-t="followUs">Follow Us</h3>
          <div class="space-y-2">
            <a href="https://www.facebook.com/61571913202998/" target="_blank" class="block text-gray-200 hover:text-yellow-300">Facebook</a>
            <a href="https://www.instagram.com/oregontires" target="_blank" class="block text-gray-200 hover:text-yellow-300">Instagram</a>
          </div>
          <div class="mt-4">
            <button onclick="toggleLanguage()" class="text-gray-200 hover:text-yellow-300" id="footer-lang-toggle" aria-label="Switch language" data-t="langToggleFooter">English | Espa√±ol</button>
          </div>
        </div>
      </div>
      <div class="border-t border-green-700 mt-8 pt-8 text-center text-gray-300">
        <p>&copy; <span data-t="copyright">2026 Oregon Tires Auto Care. All rights reserved.</span></p>
        <p class="mt-3 text-xs text-gray-300"><span data-t="poweredBy">Powered by</span> <a href="https://1vsM.com" target="_blank" rel="noopener noreferrer" class="text-yellow-200 hover:text-yellow-100 transition-colors">1vsM.com</a></p>
      </div>
    </div>
  </footer>

<script>
// ===== PHP API =====
const API_BASE = '/api';

// ===== TRANSLATIONS =====
// Detect language: URL param > localStorage > browser > default English
let currentLang = (function() {
  var urlLang = new URLSearchParams(window.location.search).get('lang');
  if (urlLang === 'es' || urlLang === 'en') { localStorage.setItem('oregontires_lang', urlLang); return urlLang; }
  var saved = localStorage.getItem('oregontires_lang');
  if (saved === 'es' || saved === 'en') return saved;
  if (navigator.language && navigator.language.startsWith('es')) return 'es';
  return 'en';
})();
const t = {
  en: {
    home: 'Home',
    services: 'Services',
    about: 'About',
    testimonials: 'Reviews',
    gallery: 'Promotions',
    contact: 'Contact',
    scheduleService: 'Schedule Service',
    bookAppointment: 'Book an Appointment',
    bookSubtitle: 'Schedule your service online. We will confirm your appointment shortly.',
    selectService: 'Select a Service',
    tireInstallation: 'Tire Installation',
    tireRepair: 'Tire Repair',
    wheelAlignment: 'Wheel Alignment',
    oilChange: 'Oil Change',
    brakeService: 'Brake Service',
    tuneup: 'Tuneup',
    mechanicalInspection: 'Mechanical Inspection',
    mobileService: 'Mobile Service',
    otherService: 'Other',
    selectDateTime: 'Choose Date & Time',
    preferredDate: 'Preferred Date',
    dateNote: 'Monday - Saturday only. No Sundays.',
    preferredTime: 'Preferred Time',
    vehicleInfo: 'Vehicle Information',
    vehicleOptional: 'Optional but helps us prepare for your visit',
    vehicleYear: 'Year',
    vehicleMake: 'Make',
    vehicleModel: 'Model',
    yourInfo: 'Your Information',
    firstName: 'First Name',
    lastName: 'Last Name',
    phone: 'Phone',
    email: 'Email',
    notes: 'Notes',
    bookNow: 'Book Appointment',
    confirmationTitle: 'Appointment Requested!',
    confirmationSubtitle: 'We will call or text you to confirm. A confirmation email has been sent to your inbox. Thank you!',
    backToHome: 'Back to Home',
    bookAnother: 'Book Another',
    preferCall: 'Prefer to call? We are happy to help!',
    monSat: 'Mon-Sat 7AM-7PM',
    contactInfo: 'Contact Information',
    followUs: 'Follow Us',
    copyright: '2026 Oregon Tires Auto Care. All rights reserved.',
    poweredBy: 'Powered by',
    langToggleFooter: 'English | Espa√±ol',
    submitting: 'Submitting...',
    bookingSuccess: 'Appointment booked successfully!',
    bookingError: 'Error booking appointment. Please try again or call us.',
    pleaseSelectTime: 'Please select a preferred time slot.',
    pleaseSelectService: 'Please select a service.',
    pleaseWait: 'Please wait 30 seconds before submitting again.',
    sundayNotAvailable: 'We are closed on Sundays. Please choose another day.',
    pastDateNotAllowed: 'Please choose a future date.',
    confirmService: 'Service',
    confirmDate: 'Date',
    confirmTime: 'Time',
    confirmVehicle: 'Vehicle',
    confirmName: 'Name',
    confirmPhone: 'Phone',
    confirmEmail: 'Email',
    vehicleMakePlaceholder: 'e.g. Toyota',
    vehicleModelPlaceholder: 'e.g. Camry',
    phonePlaceholder: '(503) 123-4567',
    emailPlaceholder: 'your@email.com'
  },
  es: {
    home: 'Inicio',
    services: 'Servicios',
    about: 'Acerca de',
    testimonials: 'Rese√±as',
    gallery: 'Promociones',
    contact: 'Contacto',
    scheduleService: 'Programar Servicio',
    bookAppointment: 'Programar una Cita',
    bookSubtitle: 'Programe su servicio en l√≠nea. Confirmaremos su cita en breve.',
    selectService: 'Seleccione un Servicio',
    tireInstallation: 'Instalaci√≥n de Llantas',
    tireRepair: 'Reparaci√≥n de Llantas',
    wheelAlignment: 'Alineaci√≥n de Ruedas',
    oilChange: 'Cambio de Aceite',
    brakeService: 'Servicio de Frenos',
    tuneup: 'Afinaci√≥n',
    mechanicalInspection: 'Inspecci√≥n Mec√°nica',
    mobileService: 'Servicio M√≥vil',
    otherService: 'Otro',
    selectDateTime: 'Elija Fecha y Hora',
    preferredDate: 'Fecha Preferida',
    dateNote: 'Solo lunes a s√°bado. No domingos.',
    preferredTime: 'Hora Preferida',
    vehicleInfo: 'Informaci√≥n del Veh√≠culo',
    vehicleOptional: 'Opcional pero nos ayuda a prepararnos para su visita',
    vehicleYear: 'A√±o',
    vehicleMake: 'Marca',
    vehicleModel: 'Modelo',
    yourInfo: 'Su Informaci√≥n',
    firstName: 'Nombre',
    lastName: 'Apellido',
    phone: 'Tel√©fono',
    email: 'Correo Electr√≥nico',
    notes: 'Notas',
    bookNow: 'Programar Cita',
    confirmationTitle: '¬°Cita Solicitada!',
    confirmationSubtitle: 'Le llamaremos o enviaremos un mensaje para confirmar. Se ha enviado un correo de confirmacion a su bandeja de entrada. ¬°Gracias!',
    backToHome: 'Volver al Inicio',
    bookAnother: 'Programar Otra',
    preferCall: '¬øPrefiere llamar? ¬°Con gusto le ayudamos!',
    monSat: 'Lun-S√°b 7AM-7PM',
    contactInfo: 'Informaci√≥n de Contacto',
    followUs: 'S√≠guenos',
    copyright: '2026 Oregon Tires Auto Care. Todos los derechos reservados.',
    poweredBy: 'Desarrollado por',
    langToggleFooter: 'English | Espa√±ol',
    submitting: 'Enviando...',
    bookingSuccess: '¬°Cita agendada exitosamente!',
    bookingError: 'Error al agendar cita. Intente de nuevo o ll√°menos.',
    pleaseSelectTime: 'Por favor seleccione un horario.',
    pleaseSelectService: 'Por favor seleccione un servicio.',
    pleaseWait: 'Por favor espere 30 segundos antes de enviar de nuevo.',
    sundayNotAvailable: 'Estamos cerrados los domingos. Elija otro d√≠a.',
    pastDateNotAllowed: 'Por favor elija una fecha futura.',
    confirmService: 'Servicio',
    confirmDate: 'Fecha',
    confirmTime: 'Hora',
    confirmVehicle: 'Veh√≠culo',
    confirmName: 'Nombre',
    confirmPhone: 'Tel√©fono',
    confirmEmail: 'Correo',
    vehicleMakePlaceholder: 'ej. Toyota',
    vehicleModelPlaceholder: 'ej. Camry',
    phonePlaceholder: '(503) 123-4567',
    emailPlaceholder: 'tu@correo.com'
  }
};

// ===== SERVICE LABELS FOR CONFIRMATION =====
const serviceLabels = {
  en: {
    'tire-installation': 'Tire Installation',
    'tire-repair': 'Tire Repair',
    'wheel-alignment': 'Wheel Alignment',
    'oil-change': 'Oil Change',
    'brake-service': 'Brake Service',
    'tuneup': 'Tuneup',
    'mechanical-inspection': 'Mechanical Inspection',
    'mobile-service': 'Mobile Service',
    'other': 'Other'
  },
  es: {
    'tire-installation': 'Instalaci√≥n de Llantas',
    'tire-repair': 'Reparaci√≥n de Llantas',
    'wheel-alignment': 'Alineaci√≥n de Ruedas',
    'oil-change': 'Cambio de Aceite',
    'brake-service': 'Servicio de Frenos',
    'tuneup': 'Afinaci√≥n',
    'mechanical-inspection': 'Inspecci√≥n Mec√°nica',
    'mobile-service': 'Servicio M√≥vil',
    'other': 'Otro'
  }
};

// ===== DATE CONSTRAINTS =====
function setupDateInput() {
  const dateInput = document.getElementById('booking-date');
  // Set min to today
  const today = new Date();
  const yyyy = today.getFullYear();
  const mm = String(today.getMonth() + 1).padStart(2, '0');
  const dd = String(today.getDate()).padStart(2, '0');
  dateInput.setAttribute('min', yyyy + '-' + mm + '-' + dd);

  // Validate on change: no Sundays, no past dates
  dateInput.addEventListener('change', function() {
    const val = this.value;
    if (!val) return;
    const selected = new Date(val + 'T00:00:00');
    const dayOfWeek = selected.getDay();

    if (dayOfWeek === 0) {
      showStatus(t[currentLang].sundayNotAvailable, 'orange');
      this.value = '';
      return;
    }

    const todayDate = new Date();
    todayDate.setHours(0, 0, 0, 0);
    if (selected < todayDate) {
      showStatus(t[currentLang].pastDateNotAllowed, 'orange');
      this.value = '';
      return;
    }

    hideStatus();
  });
}

// ===== TIME SLOT SELECTION =====
function setupTimeSlots() {
  const slots = document.querySelectorAll('[data-time]');
  const hiddenInput = document.getElementById('booking-time');

  slots.forEach(function(slot) {
    slot.addEventListener('click', function() {
      // Remove selected from all
      slots.forEach(function(s) { s.classList.remove('selected'); });
      // Select this one
      slot.classList.add('selected');
      hiddenInput.value = slot.getAttribute('data-time');
    });
  });
}

// ===== STATUS MESSAGES =====
function showStatus(message, color) {
  var statusEl = document.getElementById('booking-status');
  statusEl.textContent = message;
  var isDark = document.documentElement.classList.contains('dark');
  var colorClass = isDark ? 'text-green-400' : 'text-green-600';
  if (color === 'red') colorClass = isDark ? 'text-red-400' : 'text-red-600';
  if (color === 'orange') colorClass = isDark ? 'text-orange-400' : 'text-orange-600';
  statusEl.className = 'mt-6 text-center font-semibold ' + colorClass;
}

function hideStatus() {
  var statusEl = document.getElementById('booking-status');
  statusEl.textContent = '';
  statusEl.className = 'mt-6 text-center hidden';
}

// ===== FORMAT TIME FOR DISPLAY =====
function formatTimeDisplay(timeStr) {
  var parts = timeStr.split(':');
  var hour = parseInt(parts[0], 10);
  var suffix = hour >= 12 ? 'PM' : 'AM';
  var displayHour = hour > 12 ? hour - 12 : hour;
  if (displayHour === 0) displayHour = 12;
  return displayHour + ':00 ' + suffix;
}

// ===== FORMAT DATE FOR DISPLAY =====
function formatDateDisplay(dateStr) {
  var parts = dateStr.split('-');
  var d = new Date(parseInt(parts[0]), parseInt(parts[1]) - 1, parseInt(parts[2]));
  var locale = currentLang === 'es' ? 'es-MX' : 'en-US';
  return d.toLocaleDateString(locale, { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
}

// ===== SHOW CONFIRMATION =====
function showConfirmation(data) {
  var form = document.getElementById('booking-form');
  var confirmation = document.getElementById('booking-confirmation');
  var details = document.getElementById('confirmation-details');

  form.classList.add('hidden');
  hideStatus();

  // Build confirmation details using createElement/textContent (no innerHTML with user data)
  details.textContent = '';

  var fields = [
    { label: t[currentLang].confirmService, value: serviceLabels[currentLang][data.service] || data.service },
    { label: t[currentLang].confirmDate, value: formatDateDisplay(data.preferred_date) },
    { label: t[currentLang].confirmTime, value: formatTimeDisplay(data.preferred_time) },
    { label: t[currentLang].confirmName, value: data.first_name + ' ' + data.last_name },
    { label: t[currentLang].confirmPhone, value: data.phone },
    { label: t[currentLang].confirmEmail, value: data.email }
  ];

  if (data.vehicle_year || data.vehicle_make || data.vehicle_model) {
    var vehicleParts = [data.vehicle_year, data.vehicle_make, data.vehicle_model].filter(Boolean);
    fields.splice(3, 0, { label: t[currentLang].confirmVehicle, value: vehicleParts.join(' ') });
  }

  fields.forEach(function(field) {
    var row = document.createElement('div');
    row.className = 'flex justify-between py-1 border-b border-gray-100 dark:border-gray-600';
    var labelEl = document.createElement('span');
    labelEl.className = 'font-medium text-gray-700 dark:text-gray-300';
    labelEl.textContent = field.label + ':';
    var valueEl = document.createElement('span');
    valueEl.className = 'text-gray-900 dark:text-gray-100';
    valueEl.textContent = field.value;
    row.appendChild(labelEl);
    row.appendChild(valueEl);
    details.appendChild(row);
  });

  confirmation.classList.remove('hidden');
  confirmation.scrollIntoView({ behavior: 'smooth', block: 'start' });
}

// ===== RESET FORM =====
function resetBookingForm() {
  var form = document.getElementById('booking-form');
  var confirmation = document.getElementById('booking-confirmation');
  form.reset();
  form.classList.remove('hidden');
  confirmation.classList.add('hidden');
  document.getElementById('booking-time').value = '';
  document.querySelectorAll('.time-slot').forEach(function(s) { s.classList.remove('selected'); });
  setupDateInput();
  window.scrollTo({ top: 0, behavior: 'smooth' });
}

// ===== FORM SUBMISSION =====
var lastBookingSubmitTime = 0;

document.getElementById('booking-form').addEventListener('submit', async function(e) {
  e.preventDefault();

  // Rate limiting: 30 seconds
  var now = Date.now();
  if (now - lastBookingSubmitTime < 30000) {
    showStatus(t[currentLang].pleaseWait, 'orange');
    return;
  }

  var form = e.target;
  var submitBtn = document.getElementById('booking-submit');

  // Get selected service
  var serviceEl = form.querySelector('input[name="service"]:checked');
  if (!serviceEl) {
    showStatus(t[currentLang].pleaseSelectService, 'orange');
    return;
  }

  // Get selected time
  var timeVal = document.getElementById('booking-time').value;
  if (!timeVal) {
    showStatus(t[currentLang].pleaseSelectTime, 'orange');
    return;
  }

  // Disable submit
  submitBtn.disabled = true;
  submitBtn.textContent = t[currentLang].submitting;

  var data = {
    service: serviceEl.value,
    preferred_date: form.date.value,
    preferred_time: timeVal,
    vehicle_year: form.vehicleYear.value || null,
    vehicle_make: form.vehicleMake.value.trim() || null,
    vehicle_model: form.vehicleModel.value.trim() || null,
    first_name: form.firstName.value.trim(),
    last_name: form.lastName.value.trim(),
    phone: form.phone.value.trim(),
    email: form.email.value.trim(),
    notes: form.notes.value.trim() || null,
    language: currentLang === 'en' ? 'english' : 'spanish'
  };

  try {
    var res = await fetch(API_BASE + '/book.php', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      credentials: 'include',
      body: JSON.stringify(data)
    });
    var json = await res.json();
    if (!res.ok || !json.success) throw new Error(json.error || 'Failed');

    lastBookingSubmitTime = Date.now();
    showConfirmation(data);

    if (typeof gtag === 'function') {
      gtag('event', 'form_submit', {
        event_category: 'booking',
        event_label: data.service
      });
    }
  } catch (err) {
    console.error('Booking error:', err);
    showStatus(t[currentLang].bookingError, 'red');
  } finally {
    submitBtn.disabled = false;
    submitBtn.textContent = t[currentLang].bookNow;
  }
});

// ===== LANGUAGE TOGGLE =====
function toggleLanguage() {
  currentLang = currentLang === 'en' ? 'es' : 'en';
  localStorage.setItem('oregontires_lang', currentLang);
  document.documentElement.lang = currentLang;
  if (typeof gtag === 'function') gtag('event', 'language_switch', { event_category: 'engagement', event_label: currentLang });
  document.getElementById('lang-toggle').textContent = currentLang === 'en' ? 'üåê ES' : 'üåê EN';
  document.getElementById('top-hours').textContent = 'üïê ' + t[currentLang].monSat;
  document.querySelectorAll('[data-t]').forEach(function(el) {
    var key = el.getAttribute('data-t');
    if (t[currentLang][key]) el.textContent = t[currentLang][key];
  });
  // Update placeholders
  var phoneInput = document.querySelector('input[name="phone"]');
  if (phoneInput) phoneInput.placeholder = t[currentLang].phonePlaceholder;
  var emailInput = document.querySelector('input[name="email"]');
  if (emailInput) emailInput.placeholder = t[currentLang].emailPlaceholder;
  var makeInput = document.querySelector('input[name="vehicleMake"]');
  if (makeInput) makeInput.placeholder = t[currentLang].vehicleMakePlaceholder;
  var modelInput = document.querySelector('input[name="vehicleModel"]');
  if (modelInput) modelInput.placeholder = t[currentLang].vehicleModelPlaceholder;
}

// Apply saved language preference on page load
if (currentLang !== 'en') {
  document.documentElement.lang = currentLang;
  document.getElementById('lang-toggle').textContent = currentLang === 'en' ? 'üåê ES' : 'üåê EN';
  document.getElementById('top-hours').textContent = 'üïê ' + t[currentLang].monSat;
  document.querySelectorAll('[data-t]').forEach(function(el) {
    var key = el.getAttribute('data-t');
    if (t[currentLang][key]) el.textContent = t[currentLang][key];
  });
  // Update form placeholders for Spanish
  var phoneInput = document.querySelector('input[name="phone"]');
  if (phoneInput) phoneInput.placeholder = t[currentLang].phonePlaceholder;
  var emailInput = document.querySelector('input[name="email"]');
  if (emailInput) emailInput.placeholder = t[currentLang].emailPlaceholder;
  var makeInput = document.querySelector('input[name="vehicleMake"]');
  if (makeInput) makeInput.placeholder = t[currentLang].vehicleMakePlaceholder;
  var modelInput = document.querySelector('input[name="vehicleModel"]');
  if (modelInput) modelInput.placeholder = t[currentLang].vehicleModelPlaceholder;
}

// ===== MOBILE MENU =====
function toggleMobileMenu() {
  var menu = document.getElementById('mobile-menu');
  var btn = document.getElementById('mobile-menu-btn');
  menu.classList.toggle('hidden');
  var isExpanded = !menu.classList.contains('hidden');
  btn.setAttribute('aria-expanded', isExpanded ? 'true' : 'false');
}

// ===== DARK MODE =====
function toggleDarkMode() {
  var html = document.documentElement;
  var isDark = html.classList.toggle('dark');
  localStorage.setItem('theme', isDark ? 'dark' : 'light');
  document.getElementById('dark-mode-toggle').textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
}

(function() {
  var saved = localStorage.getItem('theme');
  var prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
  if (saved === 'dark' || (!saved && prefersDark)) {
    document.documentElement.classList.add('dark');
    var btn = document.getElementById('dark-mode-toggle');
    if (btn) btn.textContent = '‚òÄÔ∏è';
  }
})();

// ===== VEHICLE YEAR DROPDOWN (dynamic, back to 1990) =====
function populateYearDropdown() {
  var select = document.getElementById('vehicle-year');
  var currentYear = new Date().getFullYear() + 1; // include next year
  for (var y = currentYear; y >= 1990; y--) {
    var opt = document.createElement('option');
    opt.value = String(y);
    opt.textContent = String(y);
    select.appendChild(opt);
  }
}

// ===== MOBILE MENU ‚Äî CLOSE ON NAV CLICK =====
document.querySelectorAll('#mobile-menu a').forEach(function(link) {
  link.addEventListener('click', function() {
    document.getElementById('mobile-menu').classList.add('hidden');
    document.getElementById('mobile-menu-btn').setAttribute('aria-expanded', 'false');
  });
});

// ===== AVAILABLE TIMES ‚Äî GREY OUT FULL SLOTS =====
async function loadAvailableTimes(date) {
  if (!date) return;
  var slots = document.querySelectorAll('[data-time]');
  // Reset all slots
  slots.forEach(function(s) {
    s.disabled = false;
    s.classList.remove('opacity-40', 'cursor-not-allowed', 'line-through');
    s.title = '';
  });
  try {
    var res = await fetch(API_BASE + '/available-times.php?date=' + encodeURIComponent(date), { credentials: 'include' });
    var json = await res.json();
    if (json.success && json.data && json.data.slots) {
      var slotData = json.data.slots;
      slots.forEach(function(s) {
        var time = s.getAttribute('data-time');
        var info = slotData[time];
        if (info && !info.available) {
          s.disabled = true;
          s.classList.add('opacity-40', 'cursor-not-allowed', 'line-through');
          s.title = currentLang === 'es' ? 'Horario lleno' : 'Time slot full';
          // Deselect if currently selected
          if (s.classList.contains('selected')) {
            s.classList.remove('selected');
            document.getElementById('booking-time').value = '';
          }
        }
      });
    }
  } catch (e) {
    console.warn('Could not load available times:', e);
  }
}

// Hook into date change to load availability
document.getElementById('booking-date').addEventListener('change', function() {
  if (this.value) loadAvailableTimes(this.value);
});

// ===== BOOKING FUNNEL TRACKING (GA4) =====
// Track service selection
document.querySelectorAll('input[name="service"]').forEach(function(radio) {
  radio.addEventListener('change', function() {
    if (typeof gtag === 'function') gtag('event', 'booking_step', {
      event_category: 'booking_funnel', step: 'service_selected', service: this.value
    });
  });
});

// Track date selection
document.getElementById('booking-date').addEventListener('change', function() {
  if (this.value && typeof gtag === 'function') gtag('event', 'booking_step', {
    event_category: 'booking_funnel', step: 'date_selected'
  });
});

// Track time selection (via existing setupTimeSlots, add tracking)
document.querySelectorAll('[data-time]').forEach(function(slot) {
  slot.addEventListener('click', function() {
    if (!this.disabled && typeof gtag === 'function') gtag('event', 'booking_step', {
      event_category: 'booking_funnel', step: 'time_selected'
    });
  });
});

// Track form field focus (first interaction with customer info)
var formTracked = false;
document.querySelectorAll('#booking-first-name, #booking-last-name, #booking-phone, #booking-email').forEach(function(input) {
  input.addEventListener('focus', function() {
    if (!formTracked) {
      formTracked = true;
      if (typeof gtag === 'function') gtag('event', 'booking_step', {
        event_category: 'booking_funnel', step: 'info_started'
      });
    }
  });
});

// ===== PHONE CLICK TRACKING =====
document.querySelectorAll('a[href^="tel:"]').forEach(function(link) {
  link.addEventListener('click', function() {
    if (typeof gtag === 'function') gtag('event', 'phone_call', {
      event_category: 'contact', event_label: this.href
    });
  });
});

// ===== INIT =====
populateYearDropdown();
setupDateInput();
setupTimeSlots();
</script>
</body>
</html>
