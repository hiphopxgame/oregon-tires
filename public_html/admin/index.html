<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Oregon Tires Admin Dashboard</title>
  <meta name="robots" content="noindex, nofollow">
  <link rel="icon" href="/assets/favicon.ico" sizes="any">
  <link rel="icon" href="/assets/favicon.png" type="image/png" sizes="32x32">
  <link rel="apple-touch-icon" href="/assets/apple-touch-icon.png">
  <!-- Tailwind CSS (built) -->
  <link rel="stylesheet" href="/assets/styles.css">
  <style>
    .tab-active { background-color: white; color: #007030; }
    .dark .tab-active { background-color: #1f2937; color: #4ade80; }
    .status-new, .status-pending { background: #dbeafe; color: #1e40af; }
    .status-confirmed { background: #d1fae5; color: #065f46; }
    .status-completed { background: #f3f4f6; color: #374151; }
    .status-cancelled { background: #fee2e2; color: #991b1b; }
    .status-priority { background: #fef3c7; color: #92400e; }
    .status-read, .status-replied { background: #e0e7ff; color: #3730a3; }
    .dark .status-new, .dark .status-pending { background: #1e3a5f; color: #93c5fd; }
    .dark .status-confirmed { background: #064e3b; color: #6ee7b7; }
    .dark .status-completed { background: #374151; color: #d1d5db; }
    .dark .status-cancelled { background: #7f1d1d; color: #fca5a5; }
    .dark .status-priority { background: #78350f; color: #fcd34d; }
    .dark .status-read, .dark .status-replied { background: #312e81; color: #c7d2fe; }
    .fade-in { animation: fadeIn 0.3s ease-in; }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    .modal-overlay { background: rgba(0,0,0,0.5); }
    /* Calendar sync badges */
    .cal-sync-badge { display: inline-flex; align-items: center; gap: 3px; padding: 2px 6px; border-radius: 9999px; font-size: 11px; font-weight: 500; vertical-align: middle; margin-left: 4px; cursor: default; }
    .cal-sync-success { background: #d1fae5; color: #065f46; }
    .cal-sync-failed  { background: #fee2e2; color: #991b1b; }
    .cal-sync-pending { background: #fef3c7; color: #92400e; }
    .dark .cal-sync-success { background: #064e3b; color: #6ee7b7; }
    .dark .cal-sync-failed  { background: #7f1d1d; color: #fca5a5; }
    .dark .cal-sync-pending { background: #78350f; color: #fcd34d; }
    @keyframes calPulse { 0%,100% { opacity: 1; } 50% { opacity: 0.4; } }
    .cal-sync-pending { animation: calPulse 1.5s ease-in-out infinite; }
    .scrollbar-thin::-webkit-scrollbar { width: 6px; }
    .scrollbar-thin::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; }
    /* Drag-and-drop upload zones */
    .drop-zone {
      border: 2px dashed #cbd5e1;
      border-radius: 0.5rem;
      padding: 1.5rem;
      text-align: center;
      cursor: pointer;
      transition: border-color 0.2s, background-color 0.2s;
    }
    .dark .drop-zone { border-color: #4b5563; }
    .drop-zone:hover { border-color: #007030; background: #f0fdf4; }
    .dark .drop-zone:hover { background: rgba(0,112,48,0.15); }
    .drag-over {
      border: 2px dashed green !important;
      background: #f0fdf4 !important;
      box-shadow: inset 0 0 0 2px rgba(22,163,74,0.15);
    }
    .dark .drag-over { background: rgba(0,112,48,0.2) !important; }
    .dark .scrollbar-thin::-webkit-scrollbar-thumb { background: #4b5563; }
    /* Crop preview overlay mask */
    .crop-overlay { position: absolute; background: rgba(0,0,0,0.55); pointer-events: none; }
    .crop-preview-overlay { position: absolute; inset: 0; pointer-events: none; z-index: 10; }
    .crop-preview-visible { border: 2px solid #FFFE03; box-shadow: 0 0 0 9999px rgba(0,0,0,0.5); z-index: 10; pointer-events: none; }

    /* ‚îÄ‚îÄ Dark mode overrides for admin dashboard ‚îÄ‚îÄ */
    /* Text colors */
    .dark .text-gray-800:not(.dark\:text-gray-100) { color: #e5e7eb; }
    .dark .text-gray-700:not([class*="dark:text"]) { color: #d1d5db; }
    .dark .text-gray-600:not([class*="dark:text"]) { color: #d1d5db; }
    .dark .text-gray-500:not([class*="dark:text"]) { color: #9ca3af; }
    .dark .text-blue-600:not([class*="dark:text"]) { color: #93c5fd; }
    .dark .text-green-700:not([class*="dark:text"]) { color: #4ade80; }
    .dark .text-green-800:not([class*="dark:text"]) { color: #6ee7b7; }
    .dark .text-red-700:not([class*="dark:text"]) { color: #fca5a5; }
    /* Backgrounds */
    .dark .bg-white:not([class*="dark:bg"]) { background-color: #1f2937; }
    .dark .bg-gray-50:not([class*="dark:bg"]) { background-color: #374151; }
    .dark .bg-gray-100:not([class*="dark:bg"]) { background-color: #1f2937; }
    .dark .bg-gray-200:not([class*="dark:bg"]) { background-color: #374151; }
    .dark .bg-green-50:not([class*="dark:bg"]) { background-color: rgba(0,112,48,0.15); }
    .dark .bg-blue-50:not([class*="dark:bg"]) { background-color: rgba(30,58,95,0.3); }
    .dark .bg-red-50:not([class*="dark:bg"]) { background-color: rgba(127,29,29,0.2); }
    .dark .bg-amber-50:not([class*="dark:bg"]) { background-color: rgba(120,53,15,0.2); }
    .dark .from-green-50:not([class*="dark:from"]) { --tw-gradient-from: rgba(0,112,48,0.15); }
    .dark .to-amber-50:not([class*="dark:to"]) { --tw-gradient-to: rgba(120,53,15,0.15); }
    .dark .border-green-300:not([class*="dark:border"]) { border-color: #065f46; }
    .dark .bg-green-100:not([class*="dark:bg"]) { background-color: rgba(0,112,48,0.2); }
    /* Borders */
    .dark .border-gray-200:not([class*="dark:border"]) { border-color: #4b5563; }
    .dark .border-gray-300:not([class*="dark:border"]) { border-color: #4b5563; }
    .dark .border-green-200:not([class*="dark:border"]) { border-color: #065f46; }
    .dark .border-blue-200:not([class*="dark:border"]) { border-color: #1e3a5f; }
    /* Inputs */
    .dark input:not([type="checkbox"]):not([type="radio"]):not([class*="dark:bg"]),
    .dark select:not([class*="dark:bg"]),
    .dark textarea:not([class*="dark:bg"]) {
      background-color: #374151; color: #e5e7eb; border-color: #4b5563;
    }
    .dark input::placeholder, .dark textarea::placeholder { color: #9ca3af; }
    /* Hover overrides */
    .dark .hover\:bg-gray-50:hover { background-color: #374151 !important; }
    .dark .hover\:bg-gray-100:hover { background-color: #4b5563 !important; }
    /* Code blocks */
    .dark code:not([class*="dark:bg"]) { background-color: #374151; color: #e5e7eb; }
    .dark pre:not([class*="dark:bg"]) { background-color: #1f2937; color: #e5e7eb; }
    /* Blockquotes */
    .dark blockquote { background-color: rgba(0,112,48,0.1); color: #d1d5db; }
  </style>

  <!-- Dark mode init (prevent FOUC) -->
  <script>
    (function(){if(localStorage.getItem('theme')==='dark')document.documentElement.classList.add('dark');})();
  </script>

  <!-- Google Analytics 4 ‚Äî Hybrid loader (configurable via admin panel) -->
  <script>
  (function(){
    var DEFAULT_GA = 'G-CHYMTNB6LH';
    var cached = null;
    try { cached = localStorage.getItem('oregontires_ga_id'); } catch(e){}
    var id = cached || DEFAULT_GA;
    var s = document.createElement('script');
    s.async = true; s.src = 'https://www.googletagmanager.com/gtag/js?id=' + id;
    document.head.appendChild(s);
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    window.gtag = gtag;
    gtag('js', new Date());
    gtag('config', id);
    window.__gaId = id;
    window.__updateGaId = function(newId) {
      if (!newId || newId === window.__gaId) return;
      if (!/^G-[A-Z0-9]{6,12}$/.test(newId)) return;
      window.__gaId = newId;
      try { localStorage.setItem('oregontires_ga_id', newId); } catch(e){}
      gtag('config', newId, { send_page_view: false });
    };
  })();
  </script>

  <!-- Basic error tracking via GA4 -->
  <script>
    window.addEventListener('error', function(e) {
      if (typeof gtag === 'function') gtag('event', 'exception', {
        description: e.message + ' at ' + (e.filename || 'unknown') + ':' + (e.lineno || 0),
        fatal: false
      });
    });
    window.addEventListener('unhandledrejection', function(e) {
      if (typeof gtag === 'function') gtag('event', 'exception', {
        description: 'Unhandled promise rejection: ' + (e.reason?.message || e.reason || 'unknown'),
        fatal: false
      });
    });
  </script>
</head>
<body class="bg-gray-100 min-h-screen dark:bg-gray-900 dark:text-gray-100">

<!-- LOGIN SCREEN -->
<div id="login-screen" class="min-h-screen flex items-center justify-center bg-brand">
  <div class="bg-white rounded-xl shadow-2xl p-8 w-full max-w-md dark:bg-gray-800 dark:border-gray-700">
    <div class="text-center mb-6">
      <a href="/"><img src="../assets/logo.png" alt="Oregon Tires" class="h-16 mx-auto mb-4"></a>
      <h1 class="text-2xl font-bold text-brand dark:text-green-400" data-t="adminDashboard">Admin Dashboard</h1>
      <p class="text-gray-500 mt-1 dark:text-gray-400" data-t="signInSubtitle">Sign in to manage your business</p>
    </div>
    <form id="login-form" class="space-y-4">
      <div>
        <label for="login-email" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" data-t="emailLabel">Email</label>
        <input type="email" id="login-email" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 dark:bg-gray-700 dark:text-gray-100 dark:border-gray-600">
      </div>
      <div>
        <label for="login-password" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" data-t="passwordLabel">Password</label>
        <input type="password" id="login-password" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 dark:bg-gray-700 dark:text-gray-100 dark:border-gray-600">
      </div>
      <button type="submit" id="login-btn" data-t="signIn" class="w-full bg-brand-light text-white py-3 rounded-lg font-semibold hover:opacity-90 transition">Sign In</button>
      <div id="lockout-message" class="hidden bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-400 px-4 py-3 rounded-lg text-sm mb-4"></div>
      <div id="login-error" class="text-red-600 dark:text-red-400 text-sm text-center hidden"></div>
    </form>
    <div class="mt-4 text-center space-y-2">
      <button type="button" onclick="showForgotPassword()" class="text-brand dark:text-green-400 text-sm hover:underline cursor-pointer" data-t="forgotPassword">Forgot Password?</button>
      <br>
      <a href="/" class="text-brand dark:text-green-400 text-sm hover:underline" data-t="backToWebsite">‚Üê Back to website</a>
    </div>
  </div>
</div>

<!-- FORGOT PASSWORD SCREEN -->
<div id="forgot-password-screen" class="min-h-screen flex items-center justify-center bg-brand hidden">
  <div class="bg-white rounded-xl shadow-2xl p-8 w-full max-w-md dark:bg-gray-800 dark:border-gray-700">
    <div class="text-center mb-6">
      <a href="/"><img src="../assets/logo.png" alt="Oregon Tires" class="h-16 mx-auto mb-4"></a>
      <h1 class="text-2xl font-bold text-brand dark:text-green-400" data-t="resetPassword">Reset Password</h1>
      <p class="text-gray-500 mt-1 dark:text-gray-400" data-t="resetSubtitle">Enter your email to receive a reset link</p>
    </div>
    <form id="forgot-form" class="space-y-4">
      <div>
        <label for="forgot-email" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" data-t="emailLabel">Email</label>
        <input type="email" id="forgot-email" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 dark:bg-gray-700 dark:text-gray-100 dark:border-gray-600">
      </div>
      <button type="submit" id="forgot-btn" class="w-full bg-brand text-white py-3 rounded-lg font-semibold hover:opacity-90 transition" data-t="sendResetLink">Send Reset Link</button>
      <div id="forgot-status" class="text-sm text-center hidden"></div>
    </form>
    <div class="mt-4 text-center space-y-2">
      <button type="button" onclick="showLoginScreen()" class="text-brand dark:text-green-400 text-sm hover:underline cursor-pointer" data-t="backToLogin">‚Üê Back to Sign In</button>
      <br>
      <a href="/" class="text-brand dark:text-green-400 text-sm hover:underline" data-t="backToWebsite">‚Üê Back to website</a>
    </div>
  </div>
</div>

<!-- ADMIN DASHBOARD -->
<div id="admin-dashboard" class="hidden">
  <!-- Header -->
  <header class="bg-brand-light text-white shadow-lg">
    <div class="container mx-auto px-4 py-4">
      <div class="flex justify-between items-center mb-4">
        <div class="flex items-center gap-3">
          <a href="/"><img src="../assets/logo.png" alt="Oregon Tires" class="h-12"></a>
          <div>
            <h1 class="text-2xl font-bold"><span data-t="headerTitle">Admin Dashboard</span></h1>
            <p class="text-white/80 text-sm" data-t="managementSubtitle">Oregon Tires Management</p>
          </div>
        </div>
        <div class="flex items-center gap-3">
          <div class="bg-white/10 px-3 py-2 rounded-lg text-sm cursor-pointer hover:bg-white/20 transition" onclick="openAccountSettings()">
            <div class="font-medium" id="admin-email"></div>
            <div class="text-xs text-amber-200" id="admin-role" data-t="accountSettings">‚öôÔ∏è Account Settings</div>
          </div>
          <button id="admin-dark-toggle" onclick="toggleAdminDarkMode()" aria-label="Toggle dark mode" class="text-sm text-white hover:text-green-200 transition-colors">üåô</button>
          <button id="admin-lang-toggle" onclick="toggleAdminLanguage()" aria-label="Toggle language" class="text-sm text-white hover:text-green-200 transition-colors">EN</button>
          <a href="/" class="text-sm hover:text-amber-200" data-t="viewSite">View Site</a>
          <button onclick="signOut()" class="bg-red-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-red-700 transition" data-t="signOut">Sign Out</button>
        </div>
      </div>
      <!-- Navigation -->
      <nav class="flex flex-wrap gap-1" id="nav-tabs">
        <button onclick="switchTab('overview')" data-tab="overview" role="tab" aria-selected="true" class="tab-btn tab-active px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition">üìä <span data-t="tabOverview">Overview</span></button>
        <button onclick="switchTab('appointments')" data-tab="appointments" role="tab" aria-selected="false" class="tab-btn px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition text-white hover:bg-green-600">üìÖ <span data-t="tabAppointments">Appointments</span></button>
        <button onclick="switchTab('messages')" data-tab="messages" role="tab" aria-selected="false" class="tab-btn px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition text-white hover:bg-green-600">üí¨ <span data-t="tabMessages">Messages</span></button>
        <button onclick="switchTab('employees')" data-tab="employees" role="tab" aria-selected="false" class="tab-btn px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition text-white hover:bg-green-600">üë• <span data-t="tabEmployees">Employees</span></button>
        <button onclick="switchTab('gallery')" data-tab="gallery" role="tab" aria-selected="false" class="tab-btn px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition text-white hover:bg-green-600">üñº <span data-t="tabGallery">Gallery</span></button>
        <button onclick="switchTab('analytics')" data-tab="analytics" role="tab" aria-selected="false" class="tab-btn px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition text-white hover:bg-green-600">üìà <span data-t="tabAnalytics">Analytics</span></button>
        <button onclick="switchTab('docs')" data-tab="docs" role="tab" aria-selected="false" class="tab-btn px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition text-white hover:bg-green-600">üìñ <span data-t="tabDocs">Docs</span></button>
        <button onclick="switchTab('sitecontent')" data-tab="sitecontent" role="tab" aria-selected="false" class="tab-btn px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition text-white hover:bg-green-600">üìù <span data-t="tabSiteContent">Site Content</span></button>
      </nav>
    </div>
  </header>

  <div class="container mx-auto px-4 py-6">

    <!-- OVERVIEW TAB -->
    <div id="tab-overview" class="tab-content fade-in">
      <h2 class="text-2xl font-bold text-brand dark:text-green-400 mb-6" data-t="dashboardOverview">Dashboard Overview</h2>
      <div class="grid md:grid-cols-4 gap-4 mb-8">
        <div class="bg-white rounded-xl shadow p-6 dark:bg-gray-800 dark:border-gray-700"><div class="text-sm text-gray-500 dark:text-gray-400" data-t="totalAppointments">Total Appointments</div><div class="text-3xl font-bold text-brand dark:text-green-400" id="stat-total">0</div><p class="text-xs text-gray-400 dark:text-gray-500" data-t="next14Days">Next 14 days</p></div>
        <div class="bg-white rounded-xl shadow p-6 dark:bg-gray-800 dark:border-gray-700"><div class="text-sm text-gray-500 dark:text-gray-400" data-t="pending">Pending</div><div class="text-3xl font-bold text-blue-600" id="stat-pending">0</div><p class="text-xs text-gray-400 dark:text-gray-500" data-t="awaitingConfirmation">Awaiting confirmation</p></div>
        <div class="bg-white rounded-xl shadow p-6 dark:bg-gray-800 dark:border-gray-700"><div class="text-sm text-gray-500 dark:text-gray-400" data-t="confirmed">Confirmed</div><div class="text-3xl font-bold text-green-600" id="stat-confirmed">0</div><p class="text-xs text-gray-400 dark:text-gray-500" data-t="readyToGo">Ready to go</p></div>
        <div class="bg-white rounded-xl shadow p-6 dark:bg-gray-800 dark:border-gray-700"><div class="text-sm text-gray-500 dark:text-gray-400" data-t="completed">Completed</div><div class="text-3xl font-bold text-gray-600 dark:text-gray-300" id="stat-completed">0</div><p class="text-xs text-gray-400 dark:text-gray-500" data-t="finished">Finished</p></div>
      </div>
      <div class="grid lg:grid-cols-2 gap-6">
        <div class="bg-white rounded-xl shadow p-6 dark:bg-gray-800"><h3 class="text-lg font-bold text-brand dark:text-green-400 mb-4" data-t="upcoming14Days">Upcoming Appointments (14 Days)</h3><div id="overview-upcoming" class="space-y-3 max-h-[500px] overflow-y-auto scrollbar-thin"></div></div>
        <div class="bg-white rounded-xl shadow p-6 dark:bg-gray-800"><h3 class="text-lg font-bold text-brand dark:text-green-400 mb-4" data-t="employeeSchedule">Employee Schedule</h3><div id="overview-employees" class="space-y-3 max-h-[500px] overflow-y-auto scrollbar-thin"></div></div>
      </div>
    </div>

    <!-- APPOINTMENTS TAB (combined calendar + list) -->
    <div id="tab-appointments" class="tab-content hidden fade-in">
      <div class="bg-brand-light text-white px-6 py-4 rounded-t-xl flex justify-between items-center">
        <div><h2 class="text-2xl font-bold">üìÖ <span data-t="appointmentsHeading">Appointments</span></h2><p class="text-green-100" data-t="calendarSubtitle">Calendar view with employee assignment</p></div>
        <div class="flex gap-2">
          <button onclick="showNewApptModal()" class="bg-white text-brand-light px-4 py-2 rounded-lg text-sm font-semibold hover:bg-green-50 transition">+ <span data-t="newAppointment">New Appointment</span></button>
          <button onclick="loadAppointments()" class="bg-white/20 text-white px-4 py-2 rounded-lg text-sm hover:bg-white/30">‚Üª Refresh</button>
        </div>
      </div>
      <div class="bg-white rounded-b-xl shadow dark:bg-gray-800">
        <!-- Sub-tabs: Calendar vs List view -->
        <div class="flex gap-2 p-4 border-b">
          <button onclick="switchApptView('calendar')" id="appt-view-calendar" class="px-4 py-2 rounded-lg text-sm font-medium bg-brand text-white">üìÖ <span data-t="calendarViewBtn">Calendar View</span></button>
          <button onclick="switchApptView('list')" id="appt-view-list" class="px-4 py-2 rounded-lg text-sm font-medium border hover:bg-gray-50">üìã <span data-t="listViewBtn">List View</span></button>
        </div>

        <!-- Calendar View -->
        <div id="appt-subtab-calendar" class="p-6">
          <div class="grid lg:grid-cols-3 gap-6">
            <!-- Mini Calendar -->
            <div class="bg-gray-50 dark:bg-gray-700 rounded-xl p-4 border">
              <div class="flex justify-between items-center mb-4">
                <button onclick="calNavMonth(-1)" class="px-3 py-1 border rounded hover:bg-gray-100 bg-white">‚óÄ</button>
                <h3 class="font-bold text-brand dark:text-green-400" id="cal-month-label"></h3>
                <button onclick="calNavMonth(1)" class="px-3 py-1 border rounded hover:bg-gray-100 bg-white">‚ñ∂</button>
              </div>
              <div id="cal-grid" class="grid grid-cols-7 gap-1 text-center text-sm"></div>
              <!-- Legend -->
              <div class="mt-4 pt-3 border-t text-xs text-gray-500 dark:text-gray-400 space-y-1">
                <div class="flex items-center gap-2"><div class="w-3 h-3 rounded bg-green-100 border-2 border-green-500"></div> Has appointments</div>
                <div class="flex items-center gap-2"><div class="w-3 h-3 rounded ring-2 ring-amber-500"></div> Today</div>
                <div class="flex items-center gap-2"><div class="w-3 h-3 rounded bg-brand"></div> Selected</div>
              </div>
            </div>
            <!-- Day Detail with Assignment -->
            <div class="lg:col-span-2">
              <div class="flex justify-between items-center mb-4">
                <button onclick="calNavDay(-1)" class="px-3 py-1 border rounded hover:bg-gray-100" data-t="prevDay">‚óÄ Prev Day</button>
                <h3 class="text-xl font-bold text-brand dark:text-green-400" id="cal-day-label"></h3>
                <button onclick="calNavDay(1)" class="px-3 py-1 border rounded hover:bg-gray-100" data-t="nextDay">Next Day ‚ñ∂</button>
              </div>
              <div id="cal-day-appointments" class="space-y-3"></div>
            </div>
          </div>
        </div>

        <!-- List View -->
        <div id="appt-subtab-list" class="hidden p-6">
          <div class="flex flex-wrap gap-3 mb-4">
            <input type="text" id="appt-search" data-t="searchPlaceholder" placeholder="Search by name, email, service..." onkeyup="renderAppointments()" class="border rounded-lg px-3 py-2 text-sm flex-1 min-w-[200px]">
            <select id="appt-filter" onchange="renderAppointments()" class="border rounded-lg px-3 py-2 text-sm">
              <option value="all">All Status</option><option value="new">New</option><option value="confirmed">Confirmed</option><option value="completed">Completed</option><option value="cancelled">Cancelled</option>
            </select>
            <select id="appt-month" onchange="renderAppointments()" class="border rounded-lg px-3 py-2 text-sm">
              <option value="all">All Months</option>
            </select>
            <select id="appt-per-page" onchange="apptPage=1;renderAppointments()" class="border rounded-lg px-3 py-2 text-sm">
              <option value="10">10</option><option value="25">25</option><option value="50">50</option><option value="100">100</option><option value="all">All</option>
            </select>
          </div>
          <!-- Bulk Action Toolbar -->
          <div id="bulk-toolbar" class="hidden bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-lg p-3 mb-4 flex items-center justify-between">
            <span id="bulk-count" class="text-sm font-medium text-blue-700" data-t="selectedCount">0 selected</span>
            <div class="flex gap-2">
              <select id="bulk-status" class="text-sm border border-gray-300 rounded-lg px-3 py-1.5">
                <option value="" data-t="changeStatus">Change Status</option>
                <option value="new">New</option>
                <option value="confirmed">Confirmed</option>
                <option value="completed">Completed</option>
                <option value="cancelled">Cancelled</option>
              </select>
              <button onclick="applyBulkStatus()" class="text-sm bg-blue-600 text-white px-3 py-1.5 rounded-lg hover:bg-blue-700" data-t="applyStatus">Apply</button>
              <select id="bulk-employee" class="text-sm border border-gray-300 rounded-lg px-3 py-1.5">
                <option value="" data-t="assignEmployee">Assign Employee</option>
              </select>
              <button onclick="applyBulkAssign()" class="text-sm bg-green-600 text-white px-3 py-1.5 rounded-lg hover:bg-green-700" data-t="applyAssign">Assign</button>
              <button onclick="exportAppointmentsCsv()" class="text-sm bg-gray-600 text-white px-3 py-1.5 rounded-lg hover:bg-gray-700" data-t="exportCsv">Export CSV</button>
            </div>
          </div>
          <div class="overflow-x-auto">
            <table class="w-full text-sm">
              <thead><tr class="bg-amber-100 border-b text-left dark:bg-gray-700 dark:text-gray-200">
                <th class="px-4 py-3"><input type="checkbox" id="select-all-appts" onchange="toggleSelectAll(this.checked)" class="rounded"></th>
                <th class="p-3 cursor-pointer" onclick="sortAppts('customer')" data-t="thCustomer">Customer ‚Üï</th>
                <th class="p-3 cursor-pointer" onclick="sortAppts('service')" data-t="thService">Service ‚Üï</th>
                <th class="p-3 cursor-pointer" onclick="sortAppts('date')" data-t="thDateTime">Date & Time ‚Üï</th>
                <th class="p-3" data-t="thContact">Contact</th>
                <th class="p-3" data-t="thEmployee">Employee</th>
                <th class="p-3 cursor-pointer" onclick="sortAppts('status')" data-t="thStatus">Status ‚Üï</th>
                <th class="p-3" data-t="thActions">Actions</th>
              </tr></thead>
              <tbody id="appointments-table"></tbody>
            </table>
          </div>
          <div id="appt-pagination" class="flex justify-center gap-2 mt-4"></div>
        </div>
      </div>
    </div>

    <!-- MESSAGES TAB (with Email Logs sub-tab) -->
    <div id="tab-messages" class="tab-content hidden fade-in">
      <div class="bg-brand-light text-white px-6 py-4 rounded-t-xl"><h2 class="text-2xl font-bold" data-t="messagesWebsiteChanges">Messages & Website Changes</h2><p class="text-green-100" data-t="messagesSubtitle">Manage all messages and website change history</p></div>
      <div class="bg-white rounded-b-xl shadow p-6 dark:bg-gray-800">
        <div class="flex gap-2 mb-6 border-b pb-3">
          <button onclick="switchMessagesSubTab('contacts')" id="msg-sub-contacts" class="px-4 py-2 rounded-lg text-sm font-medium bg-brand text-white">üí¨ <span data-t="contactMessages">Contact Messages</span></button>
          <button onclick="switchMessagesSubTab('emaillogs')" id="msg-sub-emaillogs" class="px-4 py-2 rounded-lg text-sm font-medium border hover:bg-gray-50">üìù <span data-t="websiteChanges">Website Changes</span></button>
        </div>
        <div id="msg-subtab-contacts">
          <div class="flex justify-end mb-4"><button onclick="loadMessages()" class="bg-brand text-white px-4 py-2 rounded-lg text-sm hover:opacity-90">‚Üª Refresh</button></div>
          <div class="overflow-x-auto">
            <table class="w-full text-sm">
              <thead><tr class="bg-amber-100 border-b text-left dark:bg-gray-700 dark:text-gray-200">
                <th class="p-3" data-t="thCustomer">Customer</th><th class="p-3" data-t="thContact">Contact</th><th class="p-3" data-t="thMessage">Message</th><th class="p-3" data-t="thDate">Date</th><th class="p-3" data-t="thStatus">Status</th>
              </tr></thead>
              <tbody id="messages-table"></tbody>
            </table>
          </div>
        </div>
        <div id="msg-subtab-emaillogs" class="hidden">
          <div class="flex justify-between items-center mb-4"><h2 class="text-2xl font-bold text-brand dark:text-green-400" data-t="websiteChanges">Website Changes</h2><button onclick="loadEmailLogs()" class="bg-brand text-white px-4 py-2 rounded-lg text-sm hover:opacity-90">‚Üª Refresh</button></div>
          <div id="email-logs-list" class="space-y-3"></div>
        </div>
      </div>
    </div>

    <!-- EMPLOYEES TAB -->
    <div id="tab-employees" class="tab-content hidden fade-in">
      <div class="bg-brand-light text-white px-6 py-4 rounded-t-xl flex justify-between items-center">
        <div><h2 class="text-2xl font-bold">üë• <span data-t="employeeAdminMgmt">Employee & Admin Management</span></h2><p class="text-green-100" data-t="employeesSubtitle">Manage team members and admin access</p></div>
      </div>
      <div class="bg-white rounded-b-xl shadow p-6 dark:bg-gray-800">
        <!-- Add Employee Form -->
        <div id="add-employee-form" class="hidden mb-6 p-4 border rounded-lg bg-gray-50 dark:bg-gray-700">
          <h4 class="font-medium mb-3" data-t="addNewEmployee">Add New Employee</h4>
          <div class="grid md:grid-cols-4 gap-3">
            <div><label class="text-sm font-medium dark:text-gray-300" data-t="nameRequired">Name *</label><input id="new-emp-name" class="w-full p-2 border rounded mt-1" placeholder="Employee name"></div>
            <div><label class="text-sm font-medium dark:text-gray-300" data-t="emailLabel2">Email</label><input id="new-emp-email" type="email" class="w-full p-2 border rounded mt-1" placeholder="email@example.com"></div>
            <div><label class="text-sm font-medium dark:text-gray-300" data-t="phone">Phone</label><input id="new-emp-phone" class="w-full p-2 border rounded mt-1" placeholder="(555) 123-4567"></div>
            <div><label class="text-sm font-medium dark:text-gray-300" data-t="role">Role</label><select id="new-emp-role" class="w-full p-2 border rounded mt-1"><option value="Employee">Employee</option><option value="Manager">Manager</option></select></div>
          </div>
          <div class="flex gap-2 mt-3">
            <button onclick="addEmployee()" class="bg-brand text-white px-4 py-2 rounded-lg text-sm" data-t="save">üíæ Save</button>
            <button onclick="toggleAddEmployeeForm()" class="border px-4 py-2 rounded-lg text-sm" data-t="cancel">Cancel</button>
          </div>
        </div>
        <!-- Add Admin Form -->
        <div id="add-admin-form" class="hidden mb-6 p-4 border rounded-lg bg-blue-50 dark:bg-blue-900/30">
          <h4 class="font-medium mb-3" data-t="createAdminAccount">Create Admin Account</h4>
          <div class="grid md:grid-cols-2 gap-3 mb-3">
            <div><label class="text-sm font-medium dark:text-gray-300">Email Address *</label><input id="new-admin-email" type="email" class="w-full p-2 border rounded mt-1" placeholder="admin@company.com"></div>
            <div><label class="text-sm font-medium dark:text-gray-300">Display Name *</label><input id="new-admin-name" class="w-full p-2 border rounded mt-1" placeholder="Full name"></div>
            <div><label class="text-sm font-medium dark:text-gray-300">Role</label>
              <select id="new-admin-role" class="w-full p-2 border rounded mt-1">
                <option value="admin">Admin</option>
                <option value="superadmin">Super Admin</option>
              </select>
            </div>
            <div><label class="text-sm font-medium dark:text-gray-300">Language Preference / Idioma</label>
              <select id="new-admin-language" class="w-full p-2 border rounded mt-1">
                <option value="es">üá≤üáΩ Espa√±ol (Primary)</option>
                <option value="en">üá∫üá∏ English (Primary)</option>
                <option value="both" selected>üåê Both / Ambos</option>
              </select>
              <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">Primary language appears first in bilingual emails</p>
            </div>
          </div>
          <div class="flex gap-2">
            <button onclick="addAdmin()" class="bg-blue-600 text-white px-4 py-2 rounded-lg text-sm">üõ° Create & Send Invite</button>
            <button onclick="toggleAddAdminForm()" class="border px-4 py-2 rounded-lg text-sm">Cancel</button>
          </div>
        </div>
        <div id="employees-content"></div>
      </div>
    </div>

    <!-- GALLERY TAB (with Service Images sub-tab) -->
    <div id="tab-gallery" class="tab-content hidden fade-in">
      <div class="bg-brand-light text-white px-6 py-4 rounded-t-xl flex justify-between items-center">
        <h2 class="text-2xl font-bold" data-t="galleryServiceImages">Gallery & Service Images</h2>
        <button onclick="toggleAddGalleryForm()" id="gallery-add-btn" class="bg-white text-brand-light px-4 py-2 rounded-lg text-sm font-medium">+ Add Image</button>
      </div>
      <div class="bg-white rounded-b-xl shadow p-6 dark:bg-gray-800">
        <div class="flex gap-2 mb-6 border-b pb-3">
          <button onclick="switchGallerySubTab('gallery')" id="gal-sub-gallery" class="px-4 py-2 rounded-lg text-sm font-medium bg-brand text-white">üñº <span data-t="gallerySubTab">Gallery</span></button>
          <button onclick="switchGallerySubTab('serviceimgs')" id="gal-sub-serviceimgs" class="px-4 py-2 rounded-lg text-sm font-medium border hover:bg-gray-50">üé® <span data-t="serviceImagesSubTab">Service Images</span></button>
        </div>
        <div id="gal-subtab-gallery">
          <div id="add-gallery-form" class="hidden mb-6 p-4 border rounded-lg bg-gray-50 dark:bg-gray-700">
            <h4 class="font-medium mb-3" data-t="addNewImage">Add New Image</h4>
            <div class="space-y-3">
              <div id="gallery-drop-zone" class="drop-zone">
                <div class="text-gray-500 dark:text-gray-400 mb-2"><svg class="mx-auto h-10 w-10 text-gray-400 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"/></svg>
                  <span>Drag & drop images here, or click to browse</span><br><span class="text-xs text-gray-400 dark:text-gray-500">Supports multiple files. Images over 200KB will be auto-compressed.</span></div>
                <input type="file" id="gallery-file" accept="image/*" multiple class="w-full p-2 border rounded mt-1">
              </div>
              <div id="gallery-compression-info" class="text-xs text-gray-500 dark:text-gray-400 hidden"><span id="compression-details"></span></div>
              <div class="grid md:grid-cols-2 gap-3">
                <div><label class="text-sm font-medium dark:text-gray-300" data-t="titleRequired">Title *</label><input id="gallery-title" class="w-full p-2 border rounded mt-1" placeholder="Image title (used for single upload)"></div>
                <div><label class="text-sm font-medium dark:text-gray-300" data-t="language">Language</label><select id="gallery-lang" class="w-full p-2 border rounded mt-1"><option value="english">English</option><option value="spanish">Spanish</option></select></div>
              </div>
              <div><label class="text-sm font-medium dark:text-gray-300" data-t="description">Description</label><textarea id="gallery-desc" rows="2" class="w-full p-2 border rounded mt-1" placeholder="Image description"></textarea></div>
              <div id="gallery-upload-progress" class="hidden space-y-2"></div>
              <div class="flex gap-2">
                <button onclick="uploadGalleryImages()" id="gallery-upload-btn" class="bg-brand text-white px-4 py-2 rounded-lg text-sm" data-t="uploadAndSave">üíæ Upload & Save</button>
                <button onclick="toggleAddGalleryForm()" class="border px-4 py-2 rounded-lg text-sm" data-t="cancel">Cancel</button>
              </div>
            </div>
          </div>
          <div id="gallery-grid" class="space-y-3"></div>
        </div>
        <div id="gal-subtab-serviceimgs" class="hidden">
          <div class="flex justify-between items-center mb-4"><div><h2 class="text-2xl font-bold text-brand dark:text-green-400">Service Images Manager</h2><p class="text-gray-600 dark:text-gray-400 mt-1">Manage the hero background and 7 service images displayed on the home page</p></div></div>
          <div id="service-images-grid" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
        </div>
      </div>
    </div>

    <!-- ANALYTICS TAB -->
    <div id="tab-analytics" class="tab-content hidden fade-in">
      <div class="bg-brand-light text-white px-6 py-4 rounded-xl mb-6 flex justify-between items-center">
        <div><h2 class="text-2xl font-bold" data-t="analyticsDashboard">Analytics Dashboard</h2><p class="text-green-100" data-t="analyticsSubtitle">Overview of your business metrics</p></div>
        <button onclick="loadAnalytics()" class="bg-white/20 text-white px-4 py-2 rounded-lg text-sm hover:bg-white/30 transition" data-t="analyticsRefresh">Refresh</button>
      </div>
      <div id="analytics-content"></div>
    </div>

    <!-- DOCUMENTATION TAB -->
    <div id="tab-docs" class="tab-content hidden fade-in">
      <div class="bg-brand-light text-white px-6 py-4 rounded-t-xl flex justify-between items-center">
        <div><h2 class="text-2xl font-bold">üìñ <span data-t="documentation">Documentation</span></h2><p class="text-green-50" data-t="docsSubtitle">Instruction manual, feature list, and roadmap</p></div>
      </div>
      <div class="bg-white rounded-b-xl shadow dark:bg-gray-800">
        <!-- Sub-tabs: Manual / Features / Improvements (superadmin) / Roadmap -->
        <div class="flex flex-wrap gap-2 p-4 border-b dark:border-gray-700">
          <button onclick="switchDocsView('manual')" id="docs-view-manual" class="px-4 py-2 rounded-lg text-sm font-medium bg-brand text-white">üìã <span data-t="docsManual">Manual</span></button>
          <button onclick="switchDocsView('features')" id="docs-view-features" class="px-4 py-2 rounded-lg text-sm font-medium border hover:bg-gray-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700">‚úÖ <span data-t="docsFeatures">Features</span></button>
          <button onclick="switchDocsView('improvements')" id="docs-view-improvements" class="px-4 py-2 rounded-lg text-sm font-medium border hover:bg-gray-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700" style="display:none">üîß <span data-t="docsImprovements">Improvements</span></button>
          <button onclick="switchDocsView('vision')" id="docs-view-vision" class="px-4 py-2 rounded-lg text-sm font-medium border text-gray-700 hover:bg-gray-50 bg-gradient-to-r from-green-50 to-amber-50 border-green-300 dark:from-green-900/30 dark:to-amber-900/30 dark:border-green-700 dark:text-green-300 dark:hover:from-green-900/50 dark:hover:to-amber-900/50">üöÄ <span data-t="docsRoadmap">Roadmap</span></button>
        </div>

        <!-- Manual Sub-Tab -->
        <div id="docs-subtab-manual" class="p-6 max-h-[75vh] overflow-y-auto scrollbar-thin">
<div class="doc-lang-es hidden">
<h1 class="text-3xl font-bold text-gray-800 dark:text-gray-100 mb-6 pb-3 border-b-2 border-gray-300 dark:border-gray-600">Oregon Tires Auto Care &mdash; Manual de Instrucciones del Sitio Web</h1>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">
  <strong class="font-semibold text-gray-800 dark:text-gray-200">Oregon Tires Auto Care</strong><br>
  8536 SE 82nd Ave, Portland, OR 97266<br>
  Tel&eacute;fono: (503) 367-9714<br>
  Horario: Lunes&ndash;S&aacute;bado 7:00 AM &ndash; 7:00 PM | Domingo Cerrado
</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">
  Contacto de Super Administrador:<br>
  Tyrone &ldquo;Mental Stamina&rdquo; Norris<br>
  (774) 277-9202<br>
  <a class="text-green-600 hover:text-green-800 underline" href="mailto:tyronenorris@gmail.com">tyronenorris@gmail.com</a>
</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">
  Contacto en Espa&ntilde;ol:<br>
  Margarita Escalante<br>
  (541) 936-1884<br>
  <a class="text-green-600 hover:text-green-800 underline" href="mailto:growwithmagi@gmail.com">growwithmagi@gmail.com</a>
</p>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-4 pb-2 border-b border-gray-200 dark:border-gray-600">Tabla de Contenidos</h2>

<ol class="list-decimal pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Primeros Pasos</li>
  <li>Gesti&oacute;n de Citas</li>
  <li>Gesti&oacute;n de Mensajes de Contacto</li>
  <li>Gesti&oacute;n de Empleados</li>
  <li>Gesti&oacute;n de Im&aacute;genes de la Galer&iacute;a</li>
  <li>Gesti&oacute;n de Im&aacute;genes de Servicios (Hero y Tarjetas)</li>
  <li>Ver Anal&iacute;ticas</li>
  <li>Configuraci&oacute;n de Cuenta</li>
  <li>Funciones del Sitio P&uacute;blico (Lo que ven sus clientes)</li>
  <li>Soluci&oacute;n de Problemas</li>
</ol>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-4 pb-2 border-b border-gray-200 dark:border-gray-600">1. Primeros Pasos</h2>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">C&oacute;mo Acceder al Panel de Administraci&oacute;n</h3>
<ol class="list-decimal pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Abra su navegador web (Chrome, Firefox, Safari o Edge).</li>
  <li>En la barra de direcciones, escriba la direcci&oacute;n de su sitio web seguida de <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">/admin/</code>. Por ejemplo: <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">oregon.tires/admin/</code></li>
  <li>Ver&aacute; una pantalla de inicio de sesi&oacute;n.</li>
</ol>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">C&oacute;mo Iniciar Sesi&oacute;n</h3>
<ol class="list-decimal pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Ingrese su <strong class="font-semibold text-gray-800 dark:text-gray-200">correo electr&oacute;nico</strong> en el campo de email.</li>
  <li>Ingrese su <strong class="font-semibold text-gray-800 dark:text-gray-200">contrase&ntilde;a</strong> en el campo de contrase&ntilde;a.</li>
  <li>Haga clic en el bot&oacute;n <strong class="font-semibold text-gray-800 dark:text-gray-200">Iniciar Sesi&oacute;n</strong>.</li>
  <li>Si es su primera vez, la cuenta de super administrador es <strong class="font-semibold text-gray-800 dark:text-gray-200">tyronenorris@gmail.com</strong>. Si no sabe la contrase&ntilde;a, use la opci&oacute;n de restablecer contrase&ntilde;a.</li>
</ol>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Lo que Ve Despu&eacute;s de Iniciar Sesi&oacute;n</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">Despu&eacute;s de un inicio de sesi&oacute;n exitoso, llegar&aacute; a la pesta&ntilde;a <strong class="font-semibold text-gray-800 dark:text-gray-200">Resumen</strong>. Esta pantalla muestra un resumen de la actividad de su negocio durante los &uacute;ltimos 14 d&iacute;as, incluyendo:</p>
<ul class="list-disc pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>N&uacute;mero de citas nuevas recibidas</li>
  <li>N&uacute;mero de mensajes de contacto nuevos</li>
  <li>Citas pendientes, confirmadas y completadas</li>
  <li>Horario de empleados</li>
</ul>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-4 pb-2 border-b border-gray-200 dark:border-gray-600">2. Gesti&oacute;n de Citas</h2>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Vista de Calendario</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">Haga clic en la pesta&ntilde;a <strong class="font-semibold text-gray-800 dark:text-gray-200">Citas</strong> y seleccione <strong class="font-semibold text-gray-800 dark:text-gray-200">Vista Calendario</strong>. Muestra las citas del d&iacute;a con franjas horarias. Use los botones de navegaci&oacute;n para avanzar o retroceder un d&iacute;a.</p>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Vista de Lista</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">Seleccione <strong class="font-semibold text-gray-800 dark:text-gray-200">Vista Lista</strong> para ver todas las citas en una tabla con b&uacute;squeda, filtros por estado, y paginaci&oacute;n.</p>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Actualizar Estado de una Cita</h3>
<ol class="list-decimal pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Busque la cita en la vista de calendario o lista.</li>
  <li>Haga clic en el bot&oacute;n de estado para cambiar entre: <strong class="font-semibold text-gray-800 dark:text-gray-200">Nueva</strong>, <strong class="font-semibold text-gray-800 dark:text-gray-200">Confirmada</strong>, <strong class="font-semibold text-gray-800 dark:text-gray-200">Completada</strong>, o <strong class="font-semibold text-gray-800 dark:text-gray-200">Cancelada</strong>.</li>
</ol>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Asignar un Empleado</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">En la vista de lista, use el men&uacute; desplegable de empleado junto a cada cita para asignar un t&eacute;cnico. Tambi&eacute;n puede usar <strong class="font-semibold text-gray-800 dark:text-gray-200">operaciones masivas</strong> para asignar m&uacute;ltiples citas a la vez.</p>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Operaciones Masivas</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">Seleccione m&uacute;ltiples citas usando las casillas de verificaci&oacute;n, luego use los controles masivos para cambiar estado, asignar empleado, o exportar a CSV.</p>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-4 pb-2 border-b border-gray-200 dark:border-gray-600">3. Gesti&oacute;n de Mensajes de Contacto</h2>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">Haga clic en la pesta&ntilde;a <strong class="font-semibold text-gray-800 dark:text-gray-200">Mensajes</strong>. Ver&aacute; todos los mensajes enviados por clientes a trav&eacute;s del formulario de contacto del sitio web. Los mensajes nuevos se muestran como <strong class="font-semibold text-gray-800 dark:text-gray-200">Nuevo</strong>. Haga clic en un mensaje para verlo completo y marcar como le&iacute;do.</p>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-4 pb-2 border-b border-gray-200 dark:border-gray-600">4. Gesti&oacute;n de Empleados</h2>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">En la pesta&ntilde;a <strong class="font-semibold text-gray-800 dark:text-gray-200">Empleados</strong>, puede agregar, editar y eliminar empleados. Cada empleado tiene nombre, correo, tel&eacute;fono y rol (Empleado o Gerente). Tambi&eacute;n puede crear cuentas de administrador para otros usuarios.</p>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-4 pb-2 border-b border-gray-200 dark:border-gray-600">5. Gesti&oacute;n de Im&aacute;genes de la Galer&iacute;a</h2>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">En la pesta&ntilde;a <strong class="font-semibold text-gray-800 dark:text-gray-200">Galer&iacute;a</strong>, puede subir fotos de su trabajo. Cada imagen tiene t&iacute;tulo, descripci&oacute;n e idioma. Las im&aacute;genes aparecen en la secci&oacute;n de galer&iacute;a del sitio p&uacute;blico.</p>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-4 pb-2 border-b border-gray-200 dark:border-gray-600">6. Gesti&oacute;n de Im&aacute;genes de Servicios</h2>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">En <strong class="font-semibold text-gray-800 dark:text-gray-200">Galer&iacute;a &rarr; Im&aacute;genes de Servicios</strong>, puede administrar las im&aacute;genes que aparecen en las tarjetas de servicio del sitio web. Hay 8 im&aacute;genes: 1 imagen de fondo principal (hero) y 7 tarjetas de servicio. Para cada una puede subir una nueva imagen y ajustar la posici&oacute;n y zoom.</p>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-4 pb-2 border-b border-gray-200 dark:border-gray-600">7. Ver Anal&iacute;ticas</h2>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">La pesta&ntilde;a <strong class="font-semibold text-gray-800 dark:text-gray-200">Anal&iacute;ticas</strong> muestra m&eacute;tricas de su negocio: total de citas, citas por estado, clientes recurrentes, estad&iacute;sticas de empleados, servicios m&aacute;s populares, y tiempos promedio.</p>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-4 pb-2 border-b border-gray-200 dark:border-gray-600">8. Configuraci&oacute;n de Cuenta</h2>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">Haga clic en <strong class="font-semibold text-gray-800 dark:text-gray-200">Configuraci&oacute;n de Cuenta</strong> en la esquina superior derecha para actualizar su nombre, correo, contrase&ntilde;a, y correo de notificaciones de administrador.</p>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-4 pb-2 border-b border-gray-200 dark:border-gray-600">9. Funciones del Sitio P&uacute;blico</h2>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">El sitio p&uacute;blico incluye: imagen de fondo din&aacute;mica, 7 tarjetas de servicios con im&aacute;genes, rese&ntilde;as de clientes, galer&iacute;a de fotos, formulario de contacto, mapa de Google, y cambio de idioma (ingl&eacute;s/espa&ntilde;ol). Todo se actualiza autom&aacute;ticamente cuando cambia im&aacute;genes o contenido en el panel de administraci&oacute;n.</p>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-4 pb-2 border-b border-gray-200 dark:border-gray-600">10. Soluci&oacute;n de Problemas</h2>
<ul class="list-disc pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li><strong class="font-semibold text-gray-800 dark:text-gray-200">No puedo iniciar sesi&oacute;n:</strong> Verifique su correo y contrase&ntilde;a. Despu&eacute;s de 5 intentos fallidos, la cuenta se bloquea por 15 minutos.</li>
  <li><strong class="font-semibold text-gray-800 dark:text-gray-200">Las im&aacute;genes no se cargan:</strong> Verifique que el archivo sea JPG, PNG o WebP y que no exceda el l&iacute;mite de tama&ntilde;o.</li>
  <li><strong class="font-semibold text-gray-800 dark:text-gray-200">Los cambios no aparecen en el sitio:</strong> Limpie la cach&eacute; del navegador o espere unos minutos.</li>
  <li><strong class="font-semibold text-gray-800 dark:text-gray-200">Necesita soporte t&eacute;cnico:</strong> Contacte a Tyrone Norris al (774) 277-9202 o <a class="text-green-600 hover:text-green-800 underline" href="mailto:tyronenorris@gmail.com">tyronenorris@gmail.com</a></li>
  <li><strong class="font-semibold text-gray-800 dark:text-gray-200">Soporte en espa&ntilde;ol:</strong> Contacte a Margarita Escalante al (541) 936-1884 o <a class="text-green-600 hover:text-green-800 underline" href="mailto:growwithmagi@gmail.com">growwithmagi@gmail.com</a></li>
</ul>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-4 pb-2 border-b border-gray-200 dark:border-gray-600">Flujos de Estado de las Citas</h2>
<ul class="list-disc pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li><strong class="font-semibold text-gray-800 dark:text-gray-200">Nueva</strong>: Acaba de llegar. Necesita revisi&oacute;n.</li>
  <li><strong class="font-semibold text-gray-800 dark:text-gray-200">Pendiente</strong>: En espera de confirmaci&oacute;n o asignaci&oacute;n.</li>
  <li><strong class="font-semibold text-gray-800 dark:text-gray-200">Confirmada</strong>: Un empleado ha sido asignado. El cliente ha sido notificado.</li>
  <li><strong class="font-semibold text-gray-800 dark:text-gray-200">Completada</strong>: El servicio est&aacute; terminado.</li>
  <li><strong class="font-semibold text-gray-800 dark:text-gray-200">Cancelada</strong>: La cita fue cancelada.</li>
</ul>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed italic">Este manual fue escrito para el equipo de administraci&oacute;n de Oregon Tires Auto Care. Para soporte t&eacute;cnico, contacte a Tyrone Norris en <a class="text-green-600 hover:text-green-800 underline" href="mailto:tyronenorris@gmail.com">tyronenorris@gmail.com</a> o (774) 277-9202. Para soporte en espa&ntilde;ol, contacte a Margarita Escalante en <a class="text-green-600 hover:text-green-800 underline" href="mailto:growwithmagi@gmail.com">growwithmagi@gmail.com</a> o (541) 936-1884.</p>
</div>
<div class="doc-lang-en">
<h1 class="text-3xl font-bold text-gray-800 dark:text-gray-100 mb-6 pb-3 border-b-2 border-gray-300 dark:border-gray-600">Oregon Tires Auto Care &mdash; Website Instruction Manual</h1>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">
  <strong class="font-semibold text-gray-800 dark:text-gray-200">Oregon Tires Auto Care</strong><br>
  8536 SE 82nd Ave, Portland, OR 97266<br>
  Phone: (503) 367-9714<br>
  Hours: Monday&ndash;Saturday 7:00 AM &ndash; 7:00 PM | Sunday Closed
</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">
  Super Admin Contact:<br>
  Tyrone &ldquo;Mental Stamina&rdquo; Norris<br>
  (774) 277-9202<br>
  <a class="text-green-600 hover:text-green-800 underline" href="mailto:tyronenorris@gmail.com">tyronenorris@gmail.com</a>
</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">
  Spanish Contact:<br>
  Margarita Escalante<br>
  (541) 936-1884<br>
  <a class="text-green-600 hover:text-green-800 underline" href="mailto:growwithmagi@gmail.com">growwithmagi@gmail.com</a>
</p>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-4 pb-2 border-b border-gray-200 dark:border-gray-600">Table of Contents</h2>

<ol class="list-decimal pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li><a class="text-green-600 hover:text-green-800 underline" href="#getting-started">Getting Started</a></li>
  <li><a class="text-green-600 hover:text-green-800 underline" href="#managing-appointments">Managing Appointments</a></li>
  <li><a class="text-green-600 hover:text-green-800 underline" href="#managing-contact-messages">Managing Contact Messages</a></li>
  <li><a class="text-green-600 hover:text-green-800 underline" href="#managing-employees">Managing Employees</a></li>
  <li><a class="text-green-600 hover:text-green-800 underline" href="#managing-gallery-images">Managing Gallery Images</a></li>
  <li><a class="text-green-600 hover:text-green-800 underline" href="#managing-service-images">Managing Service Images (Hero &amp; Feature Cards)</a></li>
  <li><a class="text-green-600 hover:text-green-800 underline" href="#viewing-analytics">Viewing Analytics</a></li>
  <li><a class="text-green-600 hover:text-green-800 underline" href="#account-settings">Account Settings</a></li>
  <li><a class="text-green-600 hover:text-green-800 underline" href="#public-website-features">Public Website Features (What Your Customers See)</a></li>
  <li><a class="text-green-600 hover:text-green-800 underline" href="#troubleshooting">Troubleshooting</a></li>
</ol>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<!-- Section 1 -->
<h2 id="getting-started" class="text-2xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-4 pb-2 border-b border-gray-200 dark:border-gray-600">1. Getting Started</h2>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">How to Access the Admin Dashboard</h3>

<ol class="list-decimal pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Open your web browser (Chrome, Firefox, Safari, or Edge all work).</li>
  <li>In the address bar, type your website address followed by <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">/admin/</code>. For example: <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">oregon.tires/admin/</code></li>
  <li>You will see a login screen.</li>
</ol>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">How to Log In</h3>

<ol class="list-decimal pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Enter your <strong class="font-semibold text-gray-800 dark:text-gray-200">email address</strong> in the email field.</li>
  <li>Enter your <strong class="font-semibold text-gray-800 dark:text-gray-200">password</strong> in the password field.</li>
  <li>Click the <strong class="font-semibold text-gray-800 dark:text-gray-200">Log In</strong> button.</li>
  <li>If this is your first time, the super admin account email is <strong class="font-semibold text-gray-800 dark:text-gray-200">tyronenorris@gmail.com</strong>. If you do not know the password, use the password reset option or contact whoever set up the account.</li>
</ol>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">What You See After Logging In</h3>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">After a successful login, you land on the <strong class="font-semibold text-gray-800 dark:text-gray-200">Overview</strong> tab. This screen shows you a snapshot of your business activity over the last 14 days, including:</p>

<ul class="list-disc pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Number of new appointments received</li>
  <li>Number of new contact messages</li>
  <li>Recent activity highlights</li>
</ul>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">Use the <strong class="font-semibold text-gray-800 dark:text-gray-200">navigation tabs</strong> along the top of the dashboard to move between sections: Appointments, Messages, Employees, Gallery, Analytics, and Settings.</p>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<!-- Section 2 -->
<h2 id="managing-appointments" class="text-2xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-4 pb-2 border-b border-gray-200 dark:border-gray-600">2. Managing Appointments</h2>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">The Appointments tab is where you view, organize, and manage all service appointments that customers have booked through the website. There are two ways to view appointments: <strong class="font-semibold text-gray-800 dark:text-gray-200">Calendar View</strong> and <strong class="font-semibold text-gray-800 dark:text-gray-200">List View</strong>.</p>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Calendar View</h3>

<ol class="list-decimal pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Click the <strong class="font-semibold text-gray-800 dark:text-gray-200">Appointments</strong> tab in the dashboard.</li>
  <li>The calendar shows the current month by default.</li>
  <li>Use the <strong class="font-semibold text-gray-800 dark:text-gray-200">left arrow</strong> and <strong class="font-semibold text-gray-800 dark:text-gray-200">right arrow</strong> buttons to navigate to previous or future months.</li>
  <li><strong class="font-semibold text-gray-800 dark:text-gray-200">Color meanings on the calendar:</strong>
    <ul class="list-disc pl-6 mt-2 space-y-2 text-gray-600 dark:text-gray-400">
      <li><strong class="font-semibold text-gray-800 dark:text-gray-200">Green dot</strong> on a date = That date has one or more appointments scheduled.</li>
      <li><strong class="font-semibold text-gray-800 dark:text-gray-200">Yellow ring</strong> around a date = That date is today.</li>
    </ul>
  </li>
  <li>Click on any date to see all appointments scheduled for that day.</li>
</ol>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">List View</h3>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">The List View shows all appointments in a table format, which is useful for searching and filtering.</p>

<ol class="list-decimal pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Switch to the <strong class="font-semibold text-gray-800 dark:text-gray-200">List View</strong> using the view toggle (if not already selected).</li>
  <li><strong class="font-semibold text-gray-800 dark:text-gray-200">Search</strong>: Use the search bar at the top to find appointments by customer name, phone number, or other details.</li>
  <li><strong class="font-semibold text-gray-800 dark:text-gray-200">Filter by Status</strong>: Use the status dropdown to show only appointments with a specific status (New, Confirmed, Completed, or Cancelled).</li>
  <li><strong class="font-semibold text-gray-800 dark:text-gray-200">Filter by Month</strong>: Use the month filter to narrow results to a specific month.</li>
  <li><strong class="font-semibold text-gray-800 dark:text-gray-200">Sort Columns</strong>: Click on any column header (like Date, Name, or Status) to sort the list by that column.</li>
  <li><strong class="font-semibold text-gray-800 dark:text-gray-200">Change Per-Page Count</strong>: At the bottom of the list, choose how many appointments to show per page (for example, 10, 25, or 50).</li>
</ol>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Assigning an Employee to an Appointment</h3>

<ol class="list-decimal pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Find the appointment in the list or calendar view.</li>
  <li>Look for the <strong class="font-semibold text-gray-800 dark:text-gray-200">employee dropdown</strong> next to the appointment.</li>
  <li>Click the dropdown and select the employee you want to assign.</li>
  <li>The appointment status will <strong class="font-semibold text-gray-800 dark:text-gray-200">automatically change to Confirmed</strong> when you assign an employee.</li>
  <li>The system will <strong class="font-semibold text-gray-800 dark:text-gray-200">automatically send an email</strong> to the assigned employee (if they have an email on file) notifying them about the appointment.</li>
</ol>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Changing Appointment Status</h3>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">Each appointment moves through a workflow:</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">New</strong> &rarr; <strong class="font-semibold text-gray-800 dark:text-gray-200">Confirmed</strong> &rarr; <strong class="font-semibold text-gray-800 dark:text-gray-200">Completed</strong> or <strong class="font-semibold text-gray-800 dark:text-gray-200">Cancelled</strong></p>

<ol class="list-decimal pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Find the appointment you want to update.</li>
  <li>Click the <strong class="font-semibold text-gray-800 dark:text-gray-200">status dropdown</strong> on that appointment.</li>
  <li>Select the new status:
    <ul class="list-disc pl-6 mt-2 space-y-2 text-gray-600 dark:text-gray-400">
      <li><strong class="font-semibold text-gray-800 dark:text-gray-200">Confirmed</strong> &ndash; The appointment has been acknowledged and assigned.</li>
      <li><strong class="font-semibold text-gray-800 dark:text-gray-200">Completed</strong> &ndash; The service has been finished.</li>
      <li><strong class="font-semibold text-gray-800 dark:text-gray-200">Cancelled</strong> &ndash; The appointment was cancelled.</li>
    </ul>
  </li>
  <li>The change is saved automatically.</li>
  <li>When an appointment is marked as <strong class="font-semibold text-gray-800 dark:text-gray-200">Completed</strong>, the system automatically sends a completion email to the customer.</li>
</ol>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Adding Admin Notes to an Appointment</h3>

<ol class="list-decimal pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Find the appointment you want to annotate.</li>
  <li>Click the <strong class="font-semibold text-gray-800 dark:text-gray-200">notes icon</strong> (it looks like a small notepad or pencil icon next to the appointment).</li>
  <li>A text box will appear where you can type your note. For example: &ldquo;Customer requested alignment check as well&rdquo; or &ldquo;Called to confirm &ndash; arriving at 3 PM.&rdquo;</li>
  <li>Click <strong class="font-semibold text-gray-800 dark:text-gray-200">Save</strong> to store the note.</li>
  <li>Notes are only visible to admins and employees &ndash; customers do not see them.</li>
</ol>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Quick Assign All (Bulk Assignment)</h3>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">If you have several unassigned appointments and want to distribute them quickly:</p>

<ol class="list-decimal pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Click the <strong class="font-semibold text-gray-800 dark:text-gray-200">&ldquo;Quick Assign All&rdquo;</strong> button (located above the appointments list).</li>
  <li>The system will automatically distribute all unassigned appointments evenly among your active employees using a round-robin method (Employee A gets one, Employee B gets the next, Employee C gets the next, and so on).</li>
  <li>All assigned appointments will be set to <strong class="font-semibold text-gray-800 dark:text-gray-200">Confirmed</strong> status.</li>
  <li>Email notifications will be sent to each assigned employee.</li>
</ol>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<!-- Section 3 -->
<h2 id="managing-contact-messages" class="text-2xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-4 pb-2 border-b border-gray-200 dark:border-gray-600">3. Managing Contact Messages</h2>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Viewing Messages</h3>

<ol class="list-decimal pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Click the <strong class="font-semibold text-gray-800 dark:text-gray-200">Messages</strong> tab in the dashboard.</li>
  <li>You will see a list of all messages submitted through the website's contact form.</li>
  <li>Each message shows:
    <ul class="list-disc pl-6 mt-2 space-y-2 text-gray-600 dark:text-gray-400">
      <li><strong class="font-semibold text-gray-800 dark:text-gray-200">Customer name</strong></li>
      <li><strong class="font-semibold text-gray-800 dark:text-gray-200">Contact information</strong> (email and/or phone)</li>
      <li><strong class="font-semibold text-gray-800 dark:text-gray-200">Message preview</strong> (first few lines of their message)</li>
      <li><strong class="font-semibold text-gray-800 dark:text-gray-200">Date received</strong></li>
      <li><strong class="font-semibold text-gray-800 dark:text-gray-200">Status</strong> (New, Priority, or Completed)</li>
    </ul>
  </li>
</ol>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Reading a Full Message</h3>

<ol class="list-decimal pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Find the message you want to read.</li>
  <li>Click the <strong class="font-semibold text-gray-800 dark:text-gray-200">&ldquo;View&rdquo;</strong> button next to it.</li>
  <li>The full message will open so you can read all the details.</li>
</ol>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Changing Message Status</h3>

<ol class="list-decimal pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Find the message you want to update.</li>
  <li>Use the <strong class="font-semibold text-gray-800 dark:text-gray-200">status dropdown</strong> or status buttons to change it:
    <ul class="list-disc pl-6 mt-2 space-y-2 text-gray-600 dark:text-gray-400">
      <li><strong class="font-semibold text-gray-800 dark:text-gray-200">New</strong> &ndash; The message has not been handled yet (this is the default).</li>
      <li><strong class="font-semibold text-gray-800 dark:text-gray-200">Priority</strong> &ndash; Mark this for urgent messages that need immediate attention.</li>
      <li><strong class="font-semibold text-gray-800 dark:text-gray-200">Completed</strong> &ndash; Mark this when you have responded to or handled the message.</li>
    </ul>
  </li>
</ol>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Email Logs Sub-Tab</h3>

<ol class="list-decimal pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Within the Messages section, look for the <strong class="font-semibold text-gray-800 dark:text-gray-200">&ldquo;Email Logs&rdquo;</strong> sub-tab.</li>
  <li>Click it to view a record of every email the system has sent, including:
    <ul class="list-disc pl-6 mt-2 space-y-2 text-gray-600 dark:text-gray-400">
      <li>Appointment confirmation emails</li>
      <li>Employee assignment notification emails</li>
      <li>Appointment completion emails</li>
    </ul>
  </li>
  <li>This is useful for verifying that emails were sent or for troubleshooting if a customer says they did not receive a notification.</li>
</ol>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<!-- Section 4 -->
<h2 id="managing-employees" class="text-2xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-4 pb-2 border-b border-gray-200 dark:border-gray-600">4. Managing Employees</h2>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Adding a New Employee</h3>

<ol class="list-decimal pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Click the <strong class="font-semibold text-gray-800 dark:text-gray-200">Employees</strong> tab in the dashboard.</li>
  <li>Click the <strong class="font-semibold text-gray-800 dark:text-gray-200">&ldquo;Add Employee&rdquo;</strong> button.</li>
  <li>Fill in the form:
    <ul class="list-disc pl-6 mt-2 space-y-2 text-gray-600 dark:text-gray-400">
      <li><strong class="font-semibold text-gray-800 dark:text-gray-200">Name</strong> (required) &ndash; The employee's full name.</li>
      <li><strong class="font-semibold text-gray-800 dark:text-gray-200">Email</strong> (optional but recommended) &ndash; If you provide an email, the system will automatically create a login account for the employee.</li>
      <li><strong class="font-semibold text-gray-800 dark:text-gray-200">Phone</strong> (optional) &ndash; The employee's phone number.</li>
      <li><strong class="font-semibold text-gray-800 dark:text-gray-200">Role</strong> &ndash; Choose either <strong class="font-semibold text-gray-800 dark:text-gray-200">Employee</strong> or <strong class="font-semibold text-gray-800 dark:text-gray-200">Manager</strong>.</li>
    </ul>
  </li>
  <li>Click <strong class="font-semibold text-gray-800 dark:text-gray-200">Save</strong>.</li>
</ol>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Editing an Employee</h3>

<ol class="list-decimal pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Go to the <strong class="font-semibold text-gray-800 dark:text-gray-200">Employees</strong> tab.</li>
  <li>Find the employee card you want to update.</li>
  <li>Click the <strong class="font-semibold text-gray-800 dark:text-gray-200">&ldquo;Edit&rdquo;</strong> button on their card.</li>
  <li>Update any fields you need to change (name, email, phone, or role).</li>
  <li>Click <strong class="font-semibold text-gray-800 dark:text-gray-200">Save</strong> to apply the changes.</li>
</ol>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Deactivating an Employee</h3>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">When an employee leaves or is no longer working, you should deactivate them rather than delete them. This preserves their appointment history.</p>

<ol class="list-decimal pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Go to the <strong class="font-semibold text-gray-800 dark:text-gray-200">Employees</strong> tab.</li>
  <li>Find the employee card.</li>
  <li>Click the <strong class="font-semibold text-gray-800 dark:text-gray-200">&ldquo;Deactivate&rdquo;</strong> button.</li>
  <li>The employee will no longer appear in assignment dropdowns when you are assigning appointments.</li>
  <li>All of their past appointment history is preserved.</li>
</ol>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Reactivating an Employee</h3>

<ol class="list-decimal pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Go to the <strong class="font-semibold text-gray-800 dark:text-gray-200">Employees</strong> tab.</li>
  <li>Look for the inactive employee (they may be in a separate section or visually marked as inactive).</li>
  <li>Click the <strong class="font-semibold text-gray-800 dark:text-gray-200">&ldquo;Activate&rdquo;</strong> button on their card.</li>
  <li>They will reappear in the assignment dropdowns and be available for new appointments.</li>
</ol>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Granting Admin Dashboard Access to an Employee</h3>

<ol class="list-decimal pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Go to the <strong class="font-semibold text-gray-800 dark:text-gray-200">Employees</strong> tab.</li>
  <li>Find the employee you want to promote.</li>
  <li>Click the <strong class="font-semibold text-gray-800 dark:text-gray-200">&ldquo;Make Admin&rdquo;</strong> button on their card.</li>
  <li>That employee can now log in to the admin dashboard at <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">oregon.tires/admin/</code> using their email and password.</li>
</ol>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Adding a New Admin (Who Is Not an Existing Employee)</h3>

<ol class="list-decimal pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Go to the <strong class="font-semibold text-gray-800 dark:text-gray-200">Employees</strong> tab.</li>
  <li>Find the <strong class="font-semibold text-gray-800 dark:text-gray-200">&ldquo;Add Admin&rdquo;</strong> form.</li>
  <li>Enter the person's <strong class="font-semibold text-gray-800 dark:text-gray-200">email address</strong>.</li>
  <li>Click <strong class="font-semibold text-gray-800 dark:text-gray-200">Add</strong>. The system will create an account if one does not already exist and grant admin dashboard access.</li>
</ol>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Revoking Admin Access</h3>

<ol class="list-decimal pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Go to the <strong class="font-semibold text-gray-800 dark:text-gray-200">Employees</strong> tab.</li>
  <li>Find the admin whose access you want to remove.</li>
  <li>Click the <strong class="font-semibold text-gray-800 dark:text-gray-200">&ldquo;Revoke Admin&rdquo;</strong> button.</li>
  <li>That person will no longer be able to access the admin dashboard. They will still exist as an employee if they were one.</li>
</ol>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<!-- Section 5 -->
<h2 id="managing-gallery-images" class="text-2xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-4 pb-2 border-b border-gray-200 dark:border-gray-600">5. Managing Gallery Images</h2>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">Gallery images appear on the public website in the Gallery section that customers can browse.</p>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Adding a New Image</h3>

<ol class="list-decimal pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Click the <strong class="font-semibold text-gray-800 dark:text-gray-200">Gallery</strong> tab in the dashboard.</li>
  <li>Click the <strong class="font-semibold text-gray-800 dark:text-gray-200">&ldquo;Add Image&rdquo;</strong> button.</li>
  <li><strong class="font-semibold text-gray-800 dark:text-gray-200">Select a file</strong> from your computer (JPG, PNG, or similar image formats work best).</li>
  <li>Enter a <strong class="font-semibold text-gray-800 dark:text-gray-200">Title</strong> (required) &ndash; This is the name that appears with the image.</li>
  <li>Choose a <strong class="font-semibold text-gray-800 dark:text-gray-200">Language</strong>:
    <ul class="list-disc pl-6 mt-2 space-y-2 text-gray-600 dark:text-gray-400">
      <li><strong class="font-semibold text-gray-800 dark:text-gray-200">English</strong> &ndash; The image will appear when the site is in English.</li>
      <li><strong class="font-semibold text-gray-800 dark:text-gray-200">Spanish</strong> &ndash; The image will appear when the site is in Spanish.</li>
    </ul>
  </li>
  <li>Add an optional <strong class="font-semibold text-gray-800 dark:text-gray-200">Description</strong> if you want to include extra details about the image.</li>
  <li>Click <strong class="font-semibold text-gray-800 dark:text-gray-200">Upload</strong>.</li>
  <li>The image is stored securely in the server and will appear on the website automatically.</li>
</ol>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Deleting an Image</h3>

<ol class="list-decimal pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Go to the <strong class="font-semibold text-gray-800 dark:text-gray-200">Gallery</strong> tab.</li>
  <li>Find the image you want to remove.</li>
  <li>Click the <strong class="font-semibold text-gray-800 dark:text-gray-200">red delete button</strong> on the image.</li>
  <li>Confirm the deletion when prompted.</li>
  <li><strong class="font-semibold text-gray-800 dark:text-gray-200">Warning</strong>: This permanently removes the image. It cannot be undone.</li>
</ol>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<!-- Section 6 -->
<h2 id="managing-service-images" class="text-2xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-4 pb-2 border-b border-gray-200 dark:border-gray-600">6. Managing Service Images (Hero &amp; Feature Cards)</h2>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">Service images control what visitors see on the main sections of the public website. These are different from gallery images &ndash; they are the large background and feature images that define the look and feel of the site.</p>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Accessing Service Images</h3>

<ol class="list-decimal pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Click the <strong class="font-semibold text-gray-800 dark:text-gray-200">Gallery</strong> tab in the dashboard.</li>
  <li>Switch to the <strong class="font-semibold text-gray-800 dark:text-gray-200">&ldquo;Service Images&rdquo;</strong> sub-tab.</li>
</ol>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">The 8 Service Image Slots</h3>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">There are 8 image slots, each controlling a specific part of the website:</p>

<table class="w-full border-collapse mb-6">
  <thead>
    <tr>
      <th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Slot Name</th>
      <th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">What It Controls</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Hero Background</td>
      <td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">The large banner image at the top of the homepage</td>
    </tr>
    <tr>
      <td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Expert Technicians</td>
      <td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">The feature card for expert technicians</td>
    </tr>
    <tr>
      <td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Fast Cars</td>
      <td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">The feature card for fast service</td>
    </tr>
    <tr>
      <td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Quality Parts</td>
      <td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">The feature card for quality parts</td>
    </tr>
    <tr>
      <td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Bilingual Support</td>
      <td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">The feature card for bilingual (English/Spanish) support</td>
    </tr>
    <tr>
      <td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Tire Shop</td>
      <td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">The tire services section image</td>
    </tr>
    <tr>
      <td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Auto Repair</td>
      <td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">The auto repair section image</td>
    </tr>
    <tr>
      <td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Specialized Tools</td>
      <td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">The specialized tools section image</td>
    </tr>
  </tbody>
</table>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Uploading a New Service Image</h3>

<ol class="list-decimal pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Find the service image slot you want to update (for example, &ldquo;Hero Background&rdquo;).</li>
  <li>Click the <strong class="font-semibold text-gray-800 dark:text-gray-200">&ldquo;Choose File&rdquo;</strong> button next to that slot name.</li>
  <li>Select an image from your computer.</li>
  <li>Click <strong class="font-semibold text-gray-800 dark:text-gray-200">Upload</strong>.</li>
  <li>The new image will replace the old one immediately.</li>
</ol>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Adjusting Image Position and Zoom</h3>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">After uploading, you may want to adjust how the image is framed so the most important part of the photo is visible:</p>

<ol class="list-decimal pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Find the service image you just uploaded.</li>
  <li>Use the <strong class="font-semibold text-gray-800 dark:text-gray-200">Horizontal slider</strong> to move the image left or right.</li>
  <li>Use the <strong class="font-semibold text-gray-800 dark:text-gray-200">Vertical slider</strong> to move the image up or down.</li>
  <li>Use the <strong class="font-semibold text-gray-800 dark:text-gray-200">Zoom slider</strong> to zoom in or out.</li>
  <li>You will see a live preview of your adjustments.</li>
  <li>When you are satisfied, click <strong class="font-semibold text-gray-800 dark:text-gray-200">&ldquo;Save Position &amp; Crop&rdquo;</strong> to save your adjustments.</li>
</ol>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Understanding the &ldquo;Live&rdquo; Badge</h3>

<ul class="list-disc pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>A <strong class="font-semibold text-gray-800 dark:text-gray-200">&ldquo;Live&rdquo;</strong> badge next to a service image means that image is currently showing on the public website.</li>
  <li>If no custom image has been uploaded for a slot, the website automatically uses a built-in fallback image. You do not need to upload images for the site to work &ndash; fallbacks are already in place.</li>
</ul>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<!-- Section 7 -->
<h2 id="viewing-analytics" class="text-2xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-4 pb-2 border-b border-gray-200 dark:border-gray-600">7. Viewing Analytics</h2>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">The Analytics tab gives you a bird's-eye view of your business performance.</p>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">How to View Analytics</h3>

<ol class="list-decimal pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Click the <strong class="font-semibold text-gray-800 dark:text-gray-200">Analytics</strong> tab in the dashboard.</li>
  <li>Review the following sections:</li>
</ol>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Appointment Statistics</h3>

<ul class="list-disc pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li><strong class="font-semibold text-gray-800 dark:text-gray-200">Total Appointments</strong>: The overall number of appointments in the system.</li>
  <li><strong class="font-semibold text-gray-800 dark:text-gray-200">Breakdown by Status</strong>: See how many appointments are New, Confirmed, Completed, or Cancelled.</li>
  <li><strong class="font-semibold text-gray-800 dark:text-gray-200">This Week's Count</strong>: How many appointments are scheduled for the current week.</li>
</ul>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Customer Statistics</h3>

<ul class="list-disc pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li><strong class="font-semibold text-gray-800 dark:text-gray-200">Total Unique Customers</strong>: How many different customers have booked with you.</li>
  <li><strong class="font-semibold text-gray-800 dark:text-gray-200">Returning Customers</strong>: How many customers have come back for additional appointments.</li>
</ul>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Employee Performance</h3>

<ul class="list-disc pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li><strong class="font-semibold text-gray-800 dark:text-gray-200">Appointments Handled</strong>: How many appointments each employee has been assigned.</li>
  <li><strong class="font-semibold text-gray-800 dark:text-gray-200">Appointments Completed</strong>: How many each employee has finished.</li>
  <li><strong class="font-semibold text-gray-800 dark:text-gray-200">Average Time Per Appointment</strong>: The typical time from assignment to completion for each employee.</li>
</ul>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Popular Times</h3>

<ul class="list-disc pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Shows which appointment time slots are requested most often. This helps you plan staffing and availability.</li>
</ul>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<!-- Section 8 -->
<h2 id="account-settings" class="text-2xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-4 pb-2 border-b border-gray-200 dark:border-gray-600">8. Account Settings</h2>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Accessing Your Settings</h3>

<ol class="list-decimal pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Look for your <strong class="font-semibold text-gray-800 dark:text-gray-200">email address</strong> displayed in the top-right corner of the dashboard.</li>
  <li>Click on it to open the settings panel.</li>
</ol>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Changing Your Notification Email</h3>

<ol class="list-decimal pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>In the settings panel, find the <strong class="font-semibold text-gray-800 dark:text-gray-200">Notification Email</strong> field.</li>
  <li>Enter the email address where you want to receive admin notifications (such as new appointment alerts).</li>
  <li>Click <strong class="font-semibold text-gray-800 dark:text-gray-200">Save</strong>.</li>
</ol>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Updating Your Display Name</h3>

<ol class="list-decimal pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Find the <strong class="font-semibold text-gray-800 dark:text-gray-200">Display Name</strong> field in settings.</li>
  <li>Type your preferred name (this is what appears in the dashboard).</li>
  <li>Click <strong class="font-semibold text-gray-800 dark:text-gray-200">Save</strong>.</li>
</ol>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Changing Your Login Email</h3>

<ol class="list-decimal pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Find the <strong class="font-semibold text-gray-800 dark:text-gray-200">Email</strong> field in settings.</li>
  <li>Enter your new email address.</li>
  <li>You may need to confirm the change via a confirmation step.</li>
  <li>Click <strong class="font-semibold text-gray-800 dark:text-gray-200">Save</strong>.</li>
</ol>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Changing Your Password</h3>

<ol class="list-decimal pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Find the <strong class="font-semibold text-gray-800 dark:text-gray-200">Password</strong> section in settings.</li>
  <li>Enter your new password. It must be at least <strong class="font-semibold text-gray-800 dark:text-gray-200">6 characters</strong> long.</li>
  <li>Confirm the new password by typing it again (if prompted).</li>
  <li>Click <strong class="font-semibold text-gray-800 dark:text-gray-200">Save</strong>.</li>
</ol>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<!-- Section 9 -->
<h2 id="public-website-features" class="text-2xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-4 pb-2 border-b border-gray-200 dark:border-gray-600">9. Public Website Features (What Your Customers See)</h2>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">This section describes the features that your customers interact with on the public-facing website. Understanding these helps you know what your customers experience.</p>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Language Toggle (English / Spanish)</h3>

<ul class="list-disc pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Visitors will see a <strong class="font-semibold text-gray-800 dark:text-gray-200">globe icon</strong> in the top area of the website.</li>
  <li>Clicking the globe icon switches the entire website between <strong class="font-semibold text-gray-800 dark:text-gray-200">English</strong> and <strong class="font-semibold text-gray-800 dark:text-gray-200">Spanish</strong>.</li>
  <li>All text, labels, and headings change to the selected language.</li>
  <li>The site remembers the visitor's language choice as they browse.</li>
</ul>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Contact Form</h3>

<ul class="list-disc pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>The website has a <strong class="font-semibold text-gray-800 dark:text-gray-200">contact form</strong> where visitors can send you a message.</li>
  <li>When a visitor submits the form, their message immediately appears in your <strong class="font-semibold text-gray-800 dark:text-gray-200">Messages</strong> tab in the admin dashboard.</li>
  <li>The form collects the visitor's name, contact details, and their message.</li>
</ul>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Schedule Service</h3>

<ul class="list-disc pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>The <strong class="font-semibold text-gray-800 dark:text-gray-200">&ldquo;Schedule Service&rdquo;</strong> button or link on the website directs visitors to the contact form section so they can reach out to book an appointment.</li>
</ul>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Customer Reviews</h3>

<ul class="list-disc pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>The website displays <strong class="font-semibold text-gray-800 dark:text-gray-200">3 randomly selected customer reviews</strong> each time a visitor loads the page.</li>
  <li>This keeps the reviews section fresh and varied for repeat visitors.</li>
</ul>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Gallery</h3>

<ul class="list-disc pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>The <strong class="font-semibold text-gray-800 dark:text-gray-200">Gallery</strong> section on the public website displays the images you have uploaded through the Gallery tab in your admin dashboard.</li>
  <li>Images are shown in the language the visitor has selected (English or Spanish), based on the language you assigned when uploading.</li>
</ul>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Google Maps</h3>

<ul class="list-disc pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>The website includes an embedded <strong class="font-semibold text-gray-800 dark:text-gray-200">Google Maps</strong> widget showing your shop location at 8536 SE 82nd Ave, Portland, OR 97266.</li>
  <li>This helps customers find directions to your shop.</li>
</ul>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<!-- Section 10 -->
<h2 id="troubleshooting" class="text-2xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-4 pb-2 border-b border-gray-200 dark:border-gray-600">10. Troubleshooting</h2>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">&ldquo;I can't log in to the admin dashboard.&rdquo;</h3>

<ol class="list-decimal pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Double-check that you are going to the correct address: <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">oregon.tires/admin/</code></li>
  <li>Make sure you are typing your email and password correctly (check for extra spaces or capitalization).</li>
  <li>Try resetting your password if the option is available.</li>
  <li>If you are still locked out, contact the super admin, Tyrone Norris, at <strong class="font-semibold text-gray-800 dark:text-gray-200">tyronenorris@gmail.com</strong> or <strong class="font-semibold text-gray-800 dark:text-gray-200">(774) 277-9202</strong> for help with your account.</li>
</ol>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">&ldquo;Images I uploaded are not showing on the website.&rdquo;</h3>

<ol class="list-decimal pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>When you upload images through the admin dashboard, they are stored in the cloud database. The website loads them from there.</li>
  <li>If no images have been uploaded for a particular section, the website uses <strong class="font-semibold text-gray-800 dark:text-gray-200">fallback images</strong> from the <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">/images/</code> folder on the server.</li>
  <li>Make sure the fallback images exist on the server if you have not uploaded replacements through the dashboard.</li>
  <li>Try refreshing the page (press Ctrl+F5 on Windows or Cmd+Shift+R on Mac to do a hard refresh that clears the cache).</li>
</ol>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">&ldquo;The contact form is not working.&rdquo;</h3>

<ol class="list-decimal pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>The contact form saves submissions to a cloud database, so it requires an <strong class="font-semibold text-gray-800 dark:text-gray-200">active internet connection</strong> to work.</li>
  <li>Ask the customer to check their internet connection.</li>
  <li>If the problem persists, open the browser's developer tools (press F12) and check the <strong class="font-semibold text-gray-800 dark:text-gray-200">Console</strong> tab for error messages. Share these with a developer if needed.</li>
</ol>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">&ldquo;The language toggle is not switching between English and Spanish.&rdquo;</h3>

<ol class="list-decimal pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>The language toggle requires <strong class="font-semibold text-gray-800 dark:text-gray-200">JavaScript</strong> to be enabled in the visitor's browser.</li>
  <li>Most browsers have JavaScript enabled by default. If it has been disabled, the visitor needs to re-enable it in their browser settings.</li>
  <li>Try a different browser to confirm whether the issue is browser-specific.</li>
</ol>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">&ldquo;I see a '403 Forbidden' error when visiting the site.&rdquo;</h3>

<ol class="list-decimal pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Make sure the file <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">index.html</code> exists in the root folder on the server.</li>
  <li>Make sure the <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">.htaccess</code> file is present and properly configured on the server.</li>
  <li>If you recently uploaded files, double-check that they were placed in the correct directory on the server.</li>
  <li>Contact your hosting provider if the issue persists.</li>
</ol>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">&ldquo;The site looks broken or unstyled on a device.&rdquo;</h3>

<ol class="list-decimal pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>The website uses <strong class="font-semibold text-gray-800 dark:text-gray-200">Tailwind CSS</strong> loaded from an online source (CDN). If the visitor's internet connection is slow or the CDN is temporarily unavailable, the site may appear unstyled.</li>
  <li>Ask the visitor to refresh the page once their connection is stable.</li>
  <li>The site is designed to be <strong class="font-semibold text-gray-800 dark:text-gray-200">responsive</strong> (it adjusts to phones, tablets, and desktops). If something looks off on a specific device, take a screenshot and share it with a developer.</li>
</ol>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">&ldquo;An employee says they did not receive an email notification.&rdquo;</h3>

<ol class="list-decimal pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Go to the <strong class="font-semibold text-gray-800 dark:text-gray-200">Messages</strong> tab and click the <strong class="font-semibold text-gray-800 dark:text-gray-200">Email Logs</strong> sub-tab to verify whether the system sent the email.</li>
  <li>Ask the employee to check their <strong class="font-semibold text-gray-800 dark:text-gray-200">spam or junk folder</strong>.</li>
  <li>Make sure the employee has a valid email address entered in their profile under the Employees tab.</li>
  <li>If emails are consistently not being delivered, there may be an issue with the SMTP (email server) configuration. Contact a developer to check the server settings.</li>
</ol>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<!-- Quick Reference: Admin Dashboard Tabs -->
<h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-4 pb-2 border-b border-gray-200 dark:border-gray-600">Quick Reference: Admin Dashboard Tabs</h2>

<table class="w-full border-collapse mb-6">
  <thead>
    <tr>
      <th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Tab</th>
      <th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">What It Does</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><strong class="font-semibold text-gray-800 dark:text-gray-200">Overview</strong></td>
      <td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Shows 14-day activity snapshot after login</td>
    </tr>
    <tr>
      <td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><strong class="font-semibold text-gray-800 dark:text-gray-200">Appointments</strong></td>
      <td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">View, assign, and manage customer appointments</td>
    </tr>
    <tr>
      <td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><strong class="font-semibold text-gray-800 dark:text-gray-200">Messages</strong></td>
      <td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Read and manage contact form submissions and email logs</td>
    </tr>
    <tr>
      <td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><strong class="font-semibold text-gray-800 dark:text-gray-200">Employees</strong></td>
      <td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Add, edit, activate/deactivate employees and manage admin access</td>
    </tr>
    <tr>
      <td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><strong class="font-semibold text-gray-800 dark:text-gray-200">Gallery</strong></td>
      <td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Upload and manage gallery images and service images</td>
    </tr>
    <tr>
      <td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><strong class="font-semibold text-gray-800 dark:text-gray-200">Analytics</strong></td>
      <td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">View appointment, customer, and employee performance stats</td>
    </tr>
    <tr>
      <td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><strong class="font-semibold text-gray-800 dark:text-gray-200">Settings</strong></td>
      <td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Update your profile, email, and password</td>
    </tr>
  </tbody>
</table>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<!-- Quick Reference: Appointment Status Flow -->
<h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-4 pb-2 border-b border-gray-200 dark:border-gray-600">Quick Reference: Appointment Status Flow</h2>

<pre class="bg-gray-100 dark:bg-gray-700 rounded-lg p-4 mb-4 overflow-x-auto text-sm font-mono text-gray-700 dark:text-gray-300">New  &rarr;  Confirmed  &rarr;  Completed
                     &rarr;  Cancelled</pre>

<ul class="list-disc pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li><strong class="font-semibold text-gray-800 dark:text-gray-200">New</strong>: A customer just booked. No employee assigned yet.</li>
  <li><strong class="font-semibold text-gray-800 dark:text-gray-200">Confirmed</strong>: An employee has been assigned. The customer has been notified.</li>
  <li><strong class="font-semibold text-gray-800 dark:text-gray-200">Completed</strong>: The service is done. The customer receives a completion email.</li>
  <li><strong class="font-semibold text-gray-800 dark:text-gray-200">Cancelled</strong>: The appointment was cancelled and will not be serviced.</li>
</ul>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed italic">This manual was written for the Oregon Tires Auto Care admin team. For technical support, contact Tyrone Norris at <a class="text-green-600 hover:text-green-800 underline" href="mailto:tyronenorris@gmail.com">tyronenorris@gmail.com</a> or (774) 277-9202. For Spanish support, contact Margarita Escalante at <a class="text-green-600 hover:text-green-800 underline" href="mailto:growwithmagi@gmail.com">growwithmagi@gmail.com</a> or (541) 936-1884.</p>
</div>
        </div>

        <div id="docs-subtab-features" class="hidden p-6 max-h-[75vh] overflow-y-auto scrollbar-thin">
<div class="doc-lang-es hidden">
<h1 class="text-3xl font-bold text-gray-800 dark:text-gray-100 mb-6 pb-3 border-b-2 border-gray-300 dark:border-gray-600">Oregon Tires Auto Care &mdash; Lista de Caracter&iacute;sticas</h1>

<blockquote class="border-l-4 border-green-500 pl-4 py-2 mb-4 bg-green-50 dark:bg-green-900/30 rounded-r-lg text-gray-600 dark:text-gray-400">
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">&Uacute;ltima actualizaci&oacute;n:</strong> 2026-02-15<br>
<strong class="font-semibold text-gray-800 dark:text-gray-200">Stack:</strong> HTML/CSS/JS Est&aacute;tico | PHP API + MySQL + PHPMailer | cPanel/Apache</p>
</blockquote>

<h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-4 pb-2 border-b border-gray-200 dark:border-gray-600">Sitio Web P&uacute;blico</h2>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Secci&oacute;n Hero (Encabezado Principal)</h3>
<ul class="list-disc pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Imagen de fondo din&aacute;mica cargada desde la API PHP</li>
  <li>Posicionamiento ajustable (horizontal, vertical, zoom)</li>
  <li>Imagen de respaldo local si la base de datos no est&aacute; disponible</li>
  <li>T&iacute;tulo y subt&iacute;tulo traducibles (ingl&eacute;s/espa&ntilde;ol)</li>
</ul>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Tarjetas de Servicios (7 tarjetas)</h3>
<ul class="list-disc pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>T&eacute;cnicos Expertos, Servicio R&aacute;pido, Partes de Calidad, Soporte Biling&uuml;e</li>
  <li>Servicios de Llantas, Mantenimiento Automotriz, Servicios Especializados</li>
  <li>Im&aacute;genes din&aacute;micas desde la API PHP con im&aacute;genes de respaldo locales</li>
</ul>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Rese&ntilde;as de Clientes</h3>
<ul class="list-disc pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>12 rese&ntilde;as verificadas (3 aleatorias se muestran cada vez)</li>
  <li>Calificaci&oacute;n general: 4.8 de 5 estrellas</li>
  <li>Enlace a rese&ntilde;as de Google</li>
</ul>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Galer&iacute;a de Fotos</h3>
<ul class="list-disc pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Im&aacute;genes cargadas din&aacute;micamente desde la API PHP</li>
  <li>Cuadr&iacute;cula responsiva con efecto hover</li>
  <li>Soporte de t&iacute;tulo y descripci&oacute;n</li>
</ul>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Formulario de Contacto</h3>
<ul class="list-disc pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Validaci&oacute;n de campos (nombre, tel&eacute;fono, correo, mensaje)</li>
  <li>L&iacute;mite de env&iacute;o (30 segundos entre mensajes)</li>
  <li>Los mensajes se guardan en la base de datos y aparecen en el panel admin</li>
</ul>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-4 pb-2 border-b border-gray-200 dark:border-gray-600">Panel de Administraci&oacute;n</h2>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Autenticaci&oacute;n y Seguridad</h3>
<ul class="list-disc pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Inicio de sesi&oacute;n con correo y contrase&ntilde;a v&iacute;a API PHP con sesiones seguras</li>
  <li>Bloqueo de cuenta despu&eacute;s de 5 intentos fallidos (15 minutos)</li>
  <li>Verificaci&oacute;n de rol de administrador v&iacute;a tabla de perfiles</li>
</ul>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Gesti&oacute;n de Citas</h3>
<ul class="list-disc pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Vista de calendario con navegaci&oacute;n por d&iacute;a</li>
  <li>Vista de lista con b&uacute;squeda, filtros, ordenamiento y paginaci&oacute;n</li>
  <li>Operaciones masivas: cambiar estado, asignar empleado, exportar CSV</li>
  <li>Asignaci&oacute;n r&aacute;pida de empleados desde el calendario</li>
  <li>Notas de administrador por cita</li>
</ul>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Gesti&oacute;n de Im&aacute;genes</h3>
<ul class="list-disc pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Subir y eliminar im&aacute;genes de la galer&iacute;a</li>
  <li>8 im&aacute;genes de servicio configurables (hero + 7 tarjetas)</li>
  <li>Ajuste de posici&oacute;n y zoom en tiempo real</li>
  <li>Vista previa antes de guardar</li>
</ul>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Anal&iacute;ticas</h3>
<ul class="list-disc pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Total de citas, por estado, clientes recurrentes</li>
  <li>Estad&iacute;sticas por empleado</li>
  <li>Servicios m&aacute;s populares y distribuci√≥n horaria</li>
</ul>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><em>Documento generado del an&aacute;lisis del c&oacute;digo fuente de Oregon Tires Auto Care.</em></p>
</div>
<div class="doc-lang-en">
<h1>Oregon Tires Auto Care -- Feature List</h1>
<blockquote class="border-l-4 border-green-500 pl-4 py-2 mb-4 bg-green-50 dark:bg-green-900/30 rounded-r-lg text-gray-600 dark:text-gray-400">
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Last updated:</strong> 2026-02-15
<strong class="font-semibold text-gray-800 dark:text-gray-200">Stack:</strong> Static HTML/CSS/JS | PHP API + MySQL + PHPMailer | cPanel/Apache Hosting
<strong class="font-semibold text-gray-800 dark:text-gray-200">URL structure:</strong> <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">index.html</code> (public site), <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">admin/index.html</code> (dashboard), <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">book-appointment/index.html</code> (redirect stub)</p>
</blockquote>
<hr class="border-t border-gray-200 dark:border-gray-600 my-8">
<h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-4 pb-2 border-b border-gray-200 dark:border-gray-600">Table of Contents</h2>
<ol class="list-decimal pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
<li><a href="#1-public-website">Public Website</a></li>
<li><a href="#11-navigation-and-layout">Navigation and Layout</a></li>
<li><a href="#12-hero-section">Hero Section</a></li>
<li><a href="#13-services-section">Services Section</a></li>
<li><a href="#14-about-section">About Section</a></li>
<li><a href="#15-reviews-section">Reviews Section</a></li>
<li><a href="#16-gallery-section">Gallery Section</a></li>
<li><a href="#17-contact-section">Contact Section</a></li>
<li><a href="#18-bilingual-system-englishspanish">Bilingual System</a></li>
<li><a href="#19-seo-and-structured-data">SEO and Structured Data</a></li>
<li><a href="#110-external-integrations">External Integrations</a></li>
<li><a href="#111-asset-management">Asset Management</a></li>
<li><a href="#2-admin-dashboard">Admin Dashboard</a></li>
<li><a href="#21-authentication">Authentication</a></li>
<li><a href="#22-overview-tab">Overview Tab</a></li>
<li><a href="#23-appointments-tab">Appointments Tab</a></li>
<li><a href="#24-messages-tab">Messages Tab</a></li>
<li><a href="#25-employees-tab">Employees Tab</a></li>
<li><a href="#26-gallery-tab">Gallery Tab</a></li>
<li><a href="#27-analytics-tab">Analytics Tab</a></li>
<li><a href="#28-realtime-updates">Realtime Updates</a></li>
<li><a href="#29-account-settings">Account Settings</a></li>
<li><a href="#210-utility-functions">Utility Functions</a></li>
<li><a href="#211-documentation-tab">Documentation Tab</a></li>
<li><a href="#3-book-appointment-page">Book Appointment Page</a></li>
<li><a href="#4-database-schema">Database Schema</a></li>
<li><a href="#5-infrastructure">Infrastructure</a></li>
</ol>
<hr class="border-t border-gray-200 dark:border-gray-600 my-8">
<h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-4 pb-2 border-b border-gray-200 dark:border-gray-600">1. Public Website</h2>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">File:</strong> <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">public_html/index.html</code> (697 lines -- single-file SPA)</p>
<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">1.1 Navigation and Layout</h3>
<table class="w-full border-collapse mb-6">
<thead>
<tr>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Feature</th>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Details</th>
</tr>
</thead>
<tbody>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Top info bar</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Phone, email, address, business hours, social links, language toggle</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Sticky header</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Logo + desktop nav, pinned to top on scroll (<code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">sticky top-0 z-50</code>)</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Desktop nav links</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Home, Services, About, Reviews, Gallery, Contact, Schedule Service (CTA button)</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Mobile hamburger menu</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Toggle-based <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">hidden</code> menu with identical link set</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Smooth scroll</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">html { scroll-behavior: smooth; }</code> with <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">scroll-mt-24</code> offsets on each section</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Responsive design</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Tailwind CSS breakpoints: <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">md:</code> (tablet), <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">lg:</code> (desktop), mobile-first</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Fade-in animations</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">.fade-in</code> keyframe animation on content elements (opacity + translateY)</td>
</tr>
</tbody>
</table>
<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">1.2 Hero Section</h3>
<ul class="list-disc pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
<li>Dynamic background image loaded from the PHP API <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">oretir_service_images</code> table (key: <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">hero-background</code>)</li>
<li>Local fallback image (<code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">assets/hero-bg.png</code>) if the server URL fails or is unavailable</li>
<li>Semi-transparent black overlay (<code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">bg-black/50</code>) for text readability</li>
<li>Bilingual headline and subtitle (swapped via <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">data-t</code> translation keys)</li>
<li>Two CTA buttons:</li>
<li><strong class="font-semibold text-gray-800 dark:text-gray-200">"Contact Us"</strong> -- smooth-scrolls to <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">#contact</code></li>
<li><strong class="font-semibold text-gray-800 dark:text-gray-200">"Schedule Service"</strong> -- navigates to <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">/book-appointment</code></li>
</ul>
<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">1.3 Services Section</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">7 Feature Cards:</strong></p>
<table class="w-full border-collapse mb-6">
<thead>
<tr>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Card</th>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">ID</th>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Fallback Image</th>
</tr>
</thead>
<tbody>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Expert Technicians</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">svc-img-expert-technicians</code></td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">images/expert-technicians.jpg</code></td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Fast Service</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">svc-img-fast-cars</code></td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">images/fast-cars.jpg</code></td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Quality Parts</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">svc-img-quality-car-parts</code></td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">images/quality-parts.jpg</code></td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Bilingual Support</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">svc-img-bilingual-support</code></td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">images/bilingual-service.jpg</code></td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Tire Services</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">svc-img-tire-shop</code></td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">images/tire-services.jpg</code></td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Auto Maintenance</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">svc-img-auto-repair</code></td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">images/auto-maintenance.jpg</code></td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Specialized Services</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">svc-img-specialized-tools</code></td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">images/specialized-services.jpg</code></td>
</tr>
</tbody>
</table>
<ul class="list-disc pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
<li>Each card loads its background image dynamically from the PHP API with position and scale controls</li>
<li><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">tryLoadImage()</code> validates every URL before applying -- broken URLs fall back to local images</li>
<li>Cards display a title and description, both fully translatable</li>
</ul>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Three Service Category Lists:</strong></p>
<table class="w-full border-collapse mb-6">
<thead>
<tr>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Category</th>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Services Listed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Tire Services</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">New or Used Tires, Mount and Balance Tires, Tire Repair</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Auto Maintenance</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Oil Change, Brake Services, Tuneup</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Specialized Services</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Alignment, Mechanical Inspection, Mobile Service (At Your Home), Roadside Assistance (Any Location)</td>
</tr>
</tbody>
</table>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Emergency Service Callout:</strong>
- Red-bordered alert box in the Specialized Services card
- Direct phone number call-to-action: (503) 367-9714</p>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Service Promise Section:</strong>
- Three pillars displayed in a branded banner:
  - Quality Guarantee
  - Fair Pricing
  - Expert Service
- Descriptive text about commitment to quality, transparency, and satisfaction</p>
<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">1.4 About Section</h3>
<ul class="list-disc pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
<li><strong class="font-semibold text-gray-800 dark:text-gray-200">Catchphrase:</strong> "We take care of your car, you enjoy the road."</li>
<li><strong class="font-semibold text-gray-800 dark:text-gray-200">Vision statement:</strong> "To be the most trusted tire shop in Portland, Oregon."</li>
<li><strong class="font-semibold text-gray-800 dark:text-gray-200">Mission statement:</strong> Dedication to high-quality tires, reliable mechanical services, and personalized attention</li>
<li><strong class="font-semibold text-gray-800 dark:text-gray-200">"Why Choose Us" list:</strong></li>
<li>Bilingual staff (English and Spanish)</li>
<li>Honest, transparent pricing</li>
<li>Quality workmanship guaranteed</li>
<li>Fast and reliable service</li>
<li><strong class="font-semibold text-gray-800 dark:text-gray-200">History block:</strong> "Serving Portland Since 2008" with 15+ years narrative</li>
</ul>
<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">1.5 Reviews Section</h3>
<ul class="list-disc pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
<li><strong class="font-semibold text-gray-800 dark:text-gray-200">12 hardcoded reviews</strong> (mix of English and Spanish text)</li>
<li><strong class="font-semibold text-gray-800 dark:text-gray-200">Random selection:</strong> 3 reviews displayed per page load via <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">Array.sort(() =&gt; 0.5 - Math.random()).slice(0, 3)</code></li>
<li><strong class="font-semibold text-gray-800 dark:text-gray-200">Star rating display:</strong> Unicode filled stars and empty stars (e.g., five filled stars for a 5-star review)</li>
<li><strong class="font-semibold text-gray-800 dark:text-gray-200">"Verified" badge</strong> on each review card</li>
<li><strong class="font-semibold text-gray-800 dark:text-gray-200">Aggregated rating display:</strong></li>
<li>4.8 out of 5 stars</li>
<li>"Based on 150+ Google Reviews"</li>
<li>Five filled stars rendered in yellow</li>
<li><strong class="font-semibold text-gray-800 dark:text-gray-200">External link:</strong> "View All Reviews on Google" button linking to Google search results</li>
</ul>
<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">1.6 Gallery Section</h3>
<ul class="list-disc pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
<li>Dynamic image grid loaded from the PHP API (<code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">oretir_gallery_images</code> table)</li>
<li>Filters by <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">is_active = true</code>, ordered by <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">display_order</code></li>
<li><strong class="font-semibold text-gray-800 dark:text-gray-200">Hover zoom animation:</strong> <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">group-hover:scale-105</code> with CSS transition on images</li>
<li>Optional title and description displayed below each image (if populated)</li>
<li>Loading placeholder text: "Loading gallery..."</li>
<li>Fallback message: "No gallery images yet." when the table is empty</li>
<li><strong class="font-semibold text-gray-800 dark:text-gray-200">Gallery reloads on language switch</strong> to refresh any language-specific content</li>
</ul>
<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">1.7 Contact Section</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Contact Form (5 fields):</strong></p>
<table class="w-full border-collapse mb-6">
<thead>
<tr>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Field</th>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Type</th>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">First Name</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">text</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Yes</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Last Name</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">text</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Yes</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Phone</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">tel</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Yes</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Email</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">email</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Yes</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Message</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">textarea (4 rows)</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Yes</td>
</tr>
</tbody>
</table>
<ul class="list-disc pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
<li>Form submits to <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">oretir_contact_messages</code> table via the PHP API</li>
<li>Stores the current language with the message (<code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">english</code> or <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">spanish</code>)</li>
<li><strong class="font-semibold text-gray-800 dark:text-gray-200">Success feedback:</strong> Green text -- "Message sent successfully!" / Spanish equivalent</li>
<li><strong class="font-semibold text-gray-800 dark:text-gray-200">Error feedback:</strong> Red text -- "Error sending message. Please try again." / Spanish equivalent</li>
</ul>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Contact Info Display:</strong></p>
<table class="w-full border-collapse mb-6">
<thead>
<tr>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Item</th>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Phone</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">(503) 367-9714 (clickable <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">tel:</code> link)</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Email</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">oregontirespdx@gmail.com (clickable <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">mailto:</code> link in top bar and footer)</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Address</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">8536 SE 82nd Ave, Portland, OR 97266</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Hours</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Mon-Sat 7AM-7PM, Sunday: Closed</td>
</tr>
</tbody>
</table>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Google Maps Embed:</strong>
- Full-width iframe pointing to 8536 SE 82nd Ave, Portland, OR 97266
- Lazy-loaded with <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">loading="lazy"</code> attribute
- Rounded corners matching site design</p>
<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">1.8 Bilingual System (English/Spanish)</h3>
<table class="w-full border-collapse mb-6">
<thead>
<tr>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Aspect</th>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Implementation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Toggle button</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Top bar and footer -- switches between EN/ES</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Translation keys</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">74 keys covering all UI text</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Attribute system</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">data-t</code> attribute on all translatable elements</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Toggle function</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">toggleLanguage()</code> swaps all <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">data-t</code> elements simultaneously</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Language state</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">currentLang</code> variable (<code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">'en'</code> or <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">'es'</code>)</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Gallery reload</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Gallery images reload on language switch</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Form messages</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Success/error messages display in the active language</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Contact storage</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Language is stored with each submitted contact message</td>
</tr>
</tbody>
</table>
<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">1.9 SEO and Structured Data</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Meta Tags:</strong>
- <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">&lt;title&gt;</code> -- "Oregon Tires Auto Care - Professional Tire &amp; Auto Services in Portland"
- <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">&lt;meta name="description"&gt;</code> -- full business description with phone number
- <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">&lt;meta name="keywords"&gt;</code> -- tires, auto care, brake service, oil change, Portland Oregon, bilingual
- <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">&lt;meta name="author"&gt;</code> -- Oregon Tires Auto Care
- <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">&lt;meta name="viewport"&gt;</code> -- responsive viewport</p>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Open Graph Tags:</strong>
- <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">og:title</code> -- Oregon Tires Auto Care
- <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">og:description</code> -- serving Portland since 2008
- <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">og:type</code> -- website
- <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">og:locale</code> -- en_US</p>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Schema.org JSON-LD:</strong>
- Type: <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">AutomotiveBusiness</code>
- Name, description, telephone, full postal address
- Opening hours: <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">Mo-Sa 07:00-19:00</code>
- Price range: <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">$$</code></p>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Semantic HTML:</strong> Proper use of <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">&lt;header&gt;</code>, <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">&lt;section&gt;</code>, <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">&lt;footer&gt;</code>, <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">&lt;nav&gt;</code>, heading hierarchy</p>
<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">1.10 External Integrations</h3>
<table class="w-full border-collapse mb-6">
<thead>
<tr>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Service</th>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Usage</th>
</tr>
</thead>
<tbody>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">PHP API (REST endpoints)</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Database queries, storage, realtime subscriptions</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Tailwind CSS CDN</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">All styling via utility classes</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Google Maps Embed API</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Location iframe in contact section</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Instagram</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Social link to <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">instagram.com/oregontires</code></td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Facebook</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Social link to business page</td>
</tr>
</tbody>
</table>
<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">1.11 Asset Management</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">normalizeAssetPath()</code> function:</strong>
- Converts Lovable platform <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">/lovable-uploads/</code> UUID paths to clean <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">/assets/</code> paths
- Used for backward compatibility with migrated assets</p>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">ASSET_PATH_MAP (3 core assets):</strong></p>
<table class="w-full border-collapse mb-6">
<thead>
<tr>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">UUID</th>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Clean Filename</th>
</tr>
</thead>
<tbody>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">1290fb5e-e45c-4fc3-b523-e71d756ec1ef.png</code></td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">logo.png</code></td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">afc0de17-b407-4b29-b6a2-6f44d5dcad0d.png</code></td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">hero-bg.png</code></td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">b0182aa8-dde3-4175-8f09-21b6122f47f4.png</code></td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">favicon.png</code></td>
</tr>
</tbody>
</table>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">tryLoadImage()</code> function:</strong>
- Creates a temporary <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">Image</code> object to validate URLs before applying as CSS backgrounds
- Returns a Promise that resolves on successful load, rejects on error
- On rejection, the fallback local image path is used instead</p>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Path strategy:</strong> All paths are relative (no leading <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">/</code>) for cPanel subdirectory compatibility</p>
<hr class="border-t border-gray-200 dark:border-gray-600 my-8">
<h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-4 pb-2 border-b border-gray-200 dark:border-gray-600">2. Admin Dashboard</h2>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">File:</strong> <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">public_html/admin/index.html</code> (~3,870 lines -- single-file SPA with embedded documentation)
<strong class="font-semibold text-gray-800 dark:text-gray-200">Access:</strong> <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">noindex, nofollow</code> meta tag prevents search engine indexing</p>
<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">2.1 Authentication</h3>
<table class="w-full border-collapse mb-6">
<thead>
<tr>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Feature</th>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Details</th>
</tr>
</thead>
<tbody>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Login method</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Email/password via PHP session API</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Admin verification</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Checks <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">oretir_admins.is_active = 1</code> with bcrypt password verification</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Admin verification</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">All admins verified via <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">oretir_admins</code> database check with server-side session management</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Auto-session restore</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">On page load, checks PHP session via <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">/api/admin/session.php</code> and auto-shows dashboard if valid</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Sign out</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Calls <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">/api/admin/logout.php</code> to destroy session and returns to login screen</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Login feedback</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Error messages displayed below form; button shows "Signing in..." during auth</td>
</tr>
</tbody>
</table>
<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">2.2 Overview Tab</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">14-Day Appointment Statistics (4 stat cards):</strong></p>
<table class="w-full border-collapse mb-6">
<thead>
<tr>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Metric</th>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Color</th>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Total Appointments</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Brand green</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Count of all appointments in the next 14 days</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Pending</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Blue</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Appointments with status <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">new</code></td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Confirmed</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Green</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Appointments with status <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">confirmed</code></td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Completed</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Gray</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Appointments with status <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">completed</code></td>
</tr>
</tbody>
</table>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Upcoming Appointments Panel:</strong>
- Groups appointments by date for the next 14 days
- Each date shows day label, appointment count badge, and up to 3 appointment previews
- Today's date highlighted with yellow ring and star icon
- Dates with appointments have green left border; empty dates show "Open"
- Shows customer name, time, service, and status badge per appointment</p>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Employee Schedule Panel:</strong>
- Lists all active employees with their 14-day appointment counts
- Shows estimated hours (appointments x 1.5 hours)
- Displays next upcoming appointment date for each employee</p>
<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">2.3 Appointments Tab</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Two sub-views toggled via sub-tabs:</strong></p>
<h4 class="text-lg font-medium text-gray-600 dark:text-gray-400 mt-4 mb-2">Calendar View</h4>
<table class="w-full border-collapse mb-6">
<thead>
<tr>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Feature</th>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Details</th>
</tr>
</thead>
<tbody>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Monthly calendar grid</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">7-column grid (Sun-Sat) with day numbers</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Month navigation</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Previous/Next month buttons</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Day navigation</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Previous/Next day buttons for the detail panel</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Color coding</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Green background + border = has appointments; Yellow ring = today; Brand color fill = selected</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Appointment count</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Per-day count displayed inside calendar cells</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Legend</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Visual guide for color meanings</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Day detail panel</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Full appointment list for the selected day (spans 2 columns)</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Per-appointment controls</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Employee assignment dropdown, status dropdown, notes button</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Quick Assign All</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Round-robin distribution of unassigned appointments across active employees for a given day</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Unassigned warning</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Orange banner showing count of unassigned appointments with quick-assign button</td>
</tr>
</tbody>
</table>
<h4 class="text-lg font-medium text-gray-600 dark:text-gray-400 mt-4 mb-2">List View</h4>
<table class="w-full border-collapse mb-6">
<thead>
<tr>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Feature</th>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Details</th>
</tr>
</thead>
<tbody>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Search</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Text search across name, email, phone, service, status</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Status filter</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Dropdown: All, New, Confirmed, Completed, Cancelled</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Month filter</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Dropdown populated with last 24 months</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Per-page control</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">10, 25, 50, 100, or All results</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Sortable columns</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Customer, Service, Date &amp; Time, Status (click to toggle asc/desc)</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Pagination</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Numbered page buttons with Previous/Next navigation</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Per-row actions</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Status dropdown, employee assignment dropdown, notes button</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Duration display</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Completed appointments show actual duration in minutes</td>
</tr>
</tbody>
</table>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Appointment Actions:</strong>
- <strong class="font-semibold text-gray-800 dark:text-gray-200">Assign employee:</strong> Dropdown of active employees; auto-confirms status on assignment
- <strong class="font-semibold text-gray-800 dark:text-gray-200">Change status:</strong> New, Confirmed, Completed, Cancelled
- <strong class="font-semibold text-gray-800 dark:text-gray-200">Confirmation guard:</strong> Cannot confirm an appointment without an assigned employee
- <strong class="font-semibold text-gray-800 dark:text-gray-200">Admin notes:</strong> Modal with textarea for per-appointment notes, saved to <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">admin_notes</code> column
- <strong class="font-semibold text-gray-800 dark:text-gray-200">Email notifications:</strong> Triggered via PHPMailer <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">send-appointment-emails</code> on:
  - Employee assignment (<code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">appointment_assigned</code>)
  - Completion (<code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">appointment_completed</code>)</p>
<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">2.4 Messages Tab</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Two sub-tabs:</strong></p>
<h4 class="text-lg font-medium text-gray-600 dark:text-gray-400 mt-4 mb-2">Contact Messages Sub-Tab</h4>
<table class="w-full border-collapse mb-6">
<thead>
<tr>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Feature</th>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Details</th>
</tr>
</thead>
<tbody>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Message table</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Columns: Customer, Contact (email + phone), Message (truncated), Date, Status</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Status management</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Dropdown per message: New, Priority, Completed</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Full message modal</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Shows name, email, phone, date, full message text, and status selector</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Read full link</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Appears when message exceeds 80 characters</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Refresh button</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Manual reload of messages from the PHP API</td>
</tr>
</tbody>
</table>
<h4 class="text-lg font-medium text-gray-600 dark:text-gray-400 mt-4 mb-2">Website Changes Sub-Tab</h4>
<table class="w-full border-collapse mb-6">
<thead>
<tr>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Feature</th>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Details</th>
</tr>
</thead>
<tbody>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Email history list</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Card-based layout showing all sent emails</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Type badges</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Color-coded: Confirmation (blue), Assignment (yellow), Completion (green)</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Recipient type badge</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Shows whether email was sent to customer or employee</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Email detail modal</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Shows subject, To, Type, Sent date, Resend Message ID, and full HTML body</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Refresh button</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Manual reload of email logs</td>
</tr>
</tbody>
</table>
<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">2.5 Employees Tab</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Employee Management:</strong></p>
<table class="w-full border-collapse mb-6">
<thead>
<tr>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Feature</th>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Details</th>
</tr>
</thead>
<tbody>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Add employee form</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Fields: Name (required), Email, Phone, Role (Employee/Manager)</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Account creation</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">If email provided, invokes <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">create-employee-account</code> PHPMailer to create auth account and send credentials</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Edit employee</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Inline edit form with Name, Email, Phone, Role fields</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Toggle active/inactive</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Activate or deactivate employees (soft delete)</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Upcoming appointments</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Badge showing count and next appointment date per active employee</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Role display</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Badge showing Employee or Manager role</td>
</tr>
</tbody>
</table>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Admin Privilege Management:</strong></p>
<table class="w-full border-collapse mb-6">
<thead>
<tr>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Feature</th>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Details</th>
</tr>
</thead>
<tbody>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Add admin form</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Email input, creates account if user does not exist via edge function</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Grant admin access</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Calls <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">set_admin_by_email</code> RPC to set <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">is_admin = true</code> in <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">oretir_profiles</code></td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Revoke admin access</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Sets <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">is_admin = false</code> with confirmation dialog</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Admin-only user display</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Separate section showing dashboard admins not in employee list</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Last login info</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Shows last sign-in date or account creation date for each admin</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Admin badge</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Green shield badge on employees who also have admin access</td>
</tr>
</tbody>
</table>
<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">2.6 Gallery Tab</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Two sub-tabs:</strong></p>
<h4 class="text-lg font-medium text-gray-600 dark:text-gray-400 mt-4 mb-2">Gallery Images Sub-Tab</h4>
<table class="w-full border-collapse mb-6">
<thead>
<tr>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Feature</th>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Details</th>
</tr>
</thead>
<tbody>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Upload form</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">File picker (image only), Title (required), Language (English/Spanish), Description</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Upload process</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">File uploaded to server storage <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">gallery-images</code> bucket, public URL stored in <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">oretir_gallery_images</code></td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Image list</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Card layout with thumbnail, title, language, display order, active status, description</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Delete</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Removes from both server storage and database with confirmation dialog</td>
</tr>
</tbody>
</table>
<h4 class="text-lg font-medium text-gray-600 dark:text-gray-400 mt-4 mb-2">Service Images Sub-Tab</h4>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Manages 8 service hero images:</strong></p>
<table class="w-full border-collapse mb-6">
<thead>
<tr>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Position</th>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Service Key</th>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Display Title</th>
</tr>
</thead>
<tbody>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">1</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">hero-background</code></td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Hero Background Image</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">2</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">expert-technicians</code></td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Expert Technicians</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">3</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">fast-cars</code></td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Quick Service</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">4</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">quality-car-parts</code></td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Quality Parts</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">5</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">bilingual-support</code></td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Bilingual Support</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">6</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">tire-shop</code></td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Tire Services</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">7</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">auto-repair</code></td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Auto Maintenance</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">8</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">specialized-tools</code></td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Specialized Services</td>
</tr>
</tbody>
</table>
<table class="w-full border-collapse mb-6">
<thead>
<tr>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Feature</th>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Details</th>
</tr>
</thead>
<tbody>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Image preview</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Live preview showing current image with position and zoom applied</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Horizontal position slider</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Range 0-100%, controls <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">background-position-x</code></td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Vertical position slider</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Range 0-100%, controls <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">background-position-y</code></td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Zoom slider</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Range 100-300%, controls <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">background-size</code></td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Live preview</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Slider changes update the preview image in real time</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">"Live" badge</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Green badge on images currently active on the website (<code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">is_current = true</code>)</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Upload new image</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">File picker per service position; marks old image as not current, inserts new as current</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Save position</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Saves position_x, position_y, and scale to database</td>
</tr>
</tbody>
</table>
<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">2.7 Analytics Tab</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Appointment Statistics:</strong></p>
<table class="w-full border-collapse mb-6">
<thead>
<tr>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Metric</th>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Total Appointments</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">All-time count</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">This Week</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Appointments created in the last 7 days</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">By Status</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Breakdown into New, Confirmed, Completed, Cancelled (4 color-coded cards)</td>
</tr>
</tbody>
</table>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Customer Analysis:</strong></p>
<table class="w-full border-collapse mb-6">
<thead>
<tr>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Metric</th>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Total Customers</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Unique email addresses across all appointments</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Recurring Customers</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Customers with more than one appointment</td>
</tr>
</tbody>
</table>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Messages Overview:</strong></p>
<table class="w-full border-collapse mb-6">
<thead>
<tr>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Metric</th>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Total Messages</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">All contact messages received</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Unread Messages</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Messages with status <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">new</code></td>
</tr>
</tbody>
</table>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Time Tracking:</strong>
- Average appointment duration in minutes (from completed appointments with <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">actual_duration_minutes</code>)
- Shows sample size (number of completed appointments used in calculation)</p>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Employee Performance Table:</strong></p>
<table class="w-full border-collapse mb-6">
<thead>
<tr>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Column</th>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Employee</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Name</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Total</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Total assigned appointments</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Completed</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Completed appointments count</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Total Time</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Sum of all <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">actual_duration_minutes</code></td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Avg Time</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Average minutes per completed appointment</td>
</tr>
</tbody>
</table>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Popular Appointment Times:</strong>
- Top 10 most frequently requested times
- Horizontal bar chart with percentage fill
- Shows formatted time (12-hour AM/PM) and count</p>
<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">2.8 Realtime Updates</h3>
<table class="w-full border-collapse mb-6">
<thead>
<tr>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Subscription</th>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Table</th>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Behavior</th>
</tr>
</thead>
<tbody>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Appointments</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">oretir_appointments</code></td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Toast notification on INSERT showing customer name; reloads appointment data on any change (INSERT, UPDATE, DELETE)</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Contact Messages</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">oretir_contact_messages</code></td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Reloads messages on any change</td>
</tr>
</tbody>
</table>
<ul class="list-disc pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
<li>Uses periodic refresh <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">postgres_changes</code> channel</li>
<li>Unique channel name per session via random string</li>
</ul>
<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">2.9 Account Settings</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">Accessible via clicking the admin email/role display in the header. Opens a modal with four setting panels:</p>
<table class="w-full border-collapse mb-6">
<thead>
<tr>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Setting</th>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Details</th>
</tr>
</thead>
<tbody>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Admin Notification Email</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">CC address for all appointment confirmations, employee emails, and assignment notifications; stored in <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">oretir_settings</code> table</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Update Display Name</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Updates <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">display_name</code> in admin account</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Update Email</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Updates email in admin account via PHP API</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Update Password</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Minimum 8 characters, confirmation field required to match; updates via PHP API with current password verification</td>
</tr>
</tbody>
</table>
<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">2.10 Utility Functions</h3>
<table class="w-full border-collapse mb-6">
<thead>
<tr>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Function</th>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">showToast(msg, isError)</code></td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Bottom-right toast notification, auto-hides after 3 seconds; green for success, red for error</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">statusBadge(status)</code></td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Returns color-coded HTML badge (blue=new/pending, green=confirmed, gray=completed, red=cancelled, yellow=priority, indigo=read/replied)</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">fmtDate(d)</code></td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Formats date string to "Mon DD, YYYY"</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">fmtTime(t)</code></td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Converts 24-hour time to 12-hour AM/PM format</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">fmtDateTime(d)</code></td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Full locale date+time string</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">esc(s)</code></td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">HTML escaping via <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">document.createElement('div').textContent</code> (XSS prevention)</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">closeModal(id)</code></td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Adds <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">hidden</code> class to modal by ID</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Modal overlay click</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">All modals close when clicking the semi-transparent overlay</td>
</tr>
</tbody>
</table>
<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">2.11 Documentation Tab</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Self-documenting admin panel</strong> with three sub-tabs toggled via <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">switchDocsView()</code>:</p>
<table class="w-full border-collapse mb-6">
<thead>
<tr>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Sub-Tab</th>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Content</th>
</tr>
</thead>
<tbody>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Manual</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Full instruction manual for the admin team (Getting Started, Appointments, Messages, Employees, Gallery, Service Images, Analytics, Account Settings, Public Website Features, Troubleshooting)</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Features</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Complete feature list documenting every function of the public site, admin dashboard, database schema, and infrastructure</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Improvements</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Prioritized improvement roadmap with Critical, High Priority, Medium Priority, and Low Priority items plus a 4-week action plan</td>
</tr>
</tbody>
</table>
<ul class="list-disc pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
<li>Sub-tab toggle: <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">switchDocsView(view)</code> shows/hides content divs and updates button styles</li>
<li>Manual sub-tab visible by default; Features and Improvements start hidden</li>
<li>Scrollable content areas with <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">max-h-[75vh] overflow-y-auto</code></li>
<li>All documentation rendered as styled HTML with Tailwind CSS classes</li>
</ul>
<hr class="border-t border-gray-200 dark:border-gray-600 my-8">
<h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-4 pb-2 border-b border-gray-200 dark:border-gray-600">3. Book Appointment Page</h2>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">File:</strong> <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">public_html/book-appointment/index.html</code> (11 lines)</p>
<ul class="list-disc pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
<li>Immediate redirect to main site contact form (<code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">/#contact</code>)</li>
<li><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">&lt;meta http-equiv="refresh" content="0; url=/#contact"&gt;</code> for instant redirect</li>
<li>Fallback <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">&lt;a href="/#contact"&gt;</code> link if meta refresh fails</li>
<li>No JavaScript redirect (meta-only approach)</li>
</ul>
<hr class="border-t border-gray-200 dark:border-gray-600 my-8">
<h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-4 pb-2 border-b border-gray-200 dark:border-gray-600">4. Database Schema</h2>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Backend:</strong> MySQL (cPanel shared hosting)
<strong class="font-semibold text-gray-800 dark:text-gray-200">Prefix:</strong> <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">oretir_</code> for Oregon Tires tables (some legacy tables use <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">oregon_tires_</code> prefix)</p>
<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Tables Overview</h3>
<table class="w-full border-collapse mb-6">
<thead>
<tr>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">#</th>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Table</th>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Purpose</th>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Key Columns</th>
</tr>
</thead>
<tbody>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">1</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">admin_accounts</code></td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Admin account registry</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">id, email, full_name, is_active, project_id, user_id</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">2</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">oretir_profiles</code></td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">User profile with admin flag</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">id (UUID PK), is_admin, project_id</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">3</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">oretir_appointments</code></td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Appointment records (25+ columns)</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">id, first/last_name, email, phone, service, preferred_date/time, status, assigned_employee_id, tire_size, license_plate, vin, service_location, customer_address/city/state/zip, vehicle_id, travel_distance/cost, started_at, completed_at, actual_duration_minutes/seconds, admin_notes</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">4</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">oretir_contact_messages</code></td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Contact form submissions</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">id, first/last_name, email, phone, message, status, language</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">5</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">oretir_admin_notifications</code></td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Admin notification records</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">id, type, title, message, read, appointment_id</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">6</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">oretir_employees</code></td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Employee records</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">id, name, email, phone, role, is_active, color, user_id</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">7</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">oretir_employee_schedules</code></td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Weekly employee availability</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">id, employee_id (FK), day_of_week, start_time, end_time, is_available</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">8</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">oretir_custom_hours</code></td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Business custom hours per day</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">id, day_of_week (unique), open_time, close_time, is_closed, max_simultaneous_bookings</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">9</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">oretir_gallery_images</code></td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Gallery image records</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">id, image_url, title, description, display_order, is_active</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">10</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">oretir_service_images</code></td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Service section hero images</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">id, service_key (unique), image_url, alt_text, position_x, position_y, scale, is_current</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">11</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">customer_vehicles</code></td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Customer vehicle records</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">id, customer_name, customer_email, make, model, year, license_plate, vin</td>
</tr>
</tbody>
</table>
<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Additional Database Objects</h3>
<table class="w-full border-collapse mb-6">
<thead>
<tr>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Object</th>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Type</th>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">oretir_email_logs</code></td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Table</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Stores sent email history (subject, body, recipient, type, resend_message_id)</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">oretir_settings</code></td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Table</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Key-value settings store (e.g., <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">admin_email</code> notification address)</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">get_admin_users</code></td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">RPC Function</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Returns list of admin users with login metadata</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">set_admin_by_email</code></td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">RPC Function</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Grants or revokes admin access by email for a specific project</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">app_role</code></td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Enum Type</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">admin</code>, <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">user</code>, <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">artist</code></td>
</tr>
</tbody>
</table>
<hr class="border-t border-gray-200 dark:border-gray-600 my-8">
<h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-4 pb-2 border-b border-gray-200 dark:border-gray-600">5. Infrastructure</h2>
<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Architecture</h3>
<table class="w-full border-collapse mb-6">
<thead>
<tr>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Layer</th>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Technology</th>
</tr>
</thead>
<tbody>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Frontend</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Static HTML, CSS (Tailwind CDN), vanilla JavaScript</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Backend</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">PHP API + MySQL + PHPMailer</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Hosting</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">cPanel with Apache (<code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">.htaccess</code> configuration)</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Build step</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">None -- files served as-is</td>
</tr>
</tbody>
</table>
<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">PHP Backend Services</h3>
<table class="w-full border-collapse mb-6">
<thead>
<tr>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Service</th>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Usage</th>
</tr>
</thead>
<tbody>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">PostgreSQL</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">All data storage (11+ tables)</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Auth</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Email/password login, session management, user metadata</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Storage</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">gallery-images</code> bucket for gallery and service image uploads</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Edge Functions</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">send-appointment-emails</code> (email notifications), <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">create-employee-account</code> (employee onboarding)</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Realtime</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Live subscriptions to <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">oretir_appointments</code> and <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">oretir_contact_messages</code> changes</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">RPC</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">get_admin_users</code>, <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">set_admin_by_email</code> database functions</td>
</tr>
</tbody>
</table>
<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Hosting and Deployment</h3>
<table class="w-full border-collapse mb-6">
<thead>
<tr>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Aspect</th>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Details</th>
</tr>
</thead>
<tbody>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Server</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">cPanel/Apache shared hosting</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Source directory</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">public_html/</code> (local development)</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Staging directory</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">_uploads/</code> (temporary staging for modified files only)</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Deployment method</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Manual file upload -- only changed files, mirroring directory structure</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Path strategy</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Relative paths throughout (no leading <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">/</code> on asset references) for cPanel compatibility</td>
</tr>
</tbody>
</table>
<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Testing</h3>
<table class="w-full border-collapse mb-6">
<thead>
<tr>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Framework</th>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Type</th>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Config File</th>
</tr>
</thead>
<tbody>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Vitest</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Unit tests</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">vitest.config.js</code></td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Playwright</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">End-to-end tests</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">playwright.config.js</code>, <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">playwright.deploy-clean.config.js</code></td>
</tr>
</tbody>
</table>
<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">File Structure</h3>
<pre class="bg-gray-100 dark:bg-gray-700 rounded-lg p-4 mb-4 overflow-x-auto text-sm font-mono text-gray-700 dark:text-gray-300"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">public_html/
  index.html              # Public website (697 lines)
  admin/
    index.html            # Admin dashboard (~3,870 lines, includes embedded docs)
  book-appointment/
    index.html            # Redirect stub (11 lines)
  assets/
    logo.png              # Site logo
    hero-bg.png           # Hero background fallback
    favicon.png           # Browser favicon
  images/
    expert-technicians.jpg
    fast-cars.jpg
    quality-parts.jpg
    bilingual-service.jpg
    tire-services.jpg
    auto-maintenance.jpg
    specialized-services.jpg
</code></pre>
<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">Security Measures</h3>
<table class="w-full border-collapse mb-6">
<thead>
<tr>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Measure</th>
<th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Location</th>
</tr>
</thead>
<tbody>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Admin role verification</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Dashboard login checks <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">oretir_profiles.is_admin</code> before granting access</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">XSS prevention</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">esc()</code> function uses <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">textContent</code> assignment for all user-generated content</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">noindex, nofollow</code></td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Admin page excluded from search engines</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Prepared statements</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Row Level Security on database tables (managed in the database)</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Anon key only</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Admin session authentication with CSRF token protection on all write operations</td>
</tr>
<tr>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Modal overlay dismissal</td>
<td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Modals close on overlay click to prevent accidental data exposure</td>
</tr>
</tbody>
</table>
<hr class="border-t border-gray-200 dark:border-gray-600 my-8">
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><em>Document generated from source code analysis of the Oregon Tires Auto Care codebase.</em></p>
</div>
        </div>

        <div id="docs-subtab-improvements" class="hidden p-6 max-h-[75vh] overflow-y-auto scrollbar-thin">
<div class="doc-lang-es hidden">
<h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-4 pb-2 border-b border-gray-200 dark:border-gray-600">Oregon Tires Auto Care - Lista de Mejoras</h2>

<blockquote class="border-l-4 border-green-500 pl-4 py-2 mb-4 bg-green-50 dark:bg-green-900/30 rounded-r-lg text-gray-600 dark:text-gray-400">
  <p class="text-gray-600 dark:text-gray-400 mb-0 leading-relaxed">Mejoras priorizadas basadas en una revisi&oacute;n completa del c&oacute;digo del sitio p&uacute;blico, panel de administraci&oacute;n, .htaccess y esquema de base de datos. Cada elemento incluye severidad, nivel de confianza y soluci&oacute;n sugerida.</p>
</blockquote>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-4 pb-2 border-b border-gray-200 dark:border-gray-600">Cr&iacute;tico (Corregir Inmediatamente)</h2>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">1. Agregar Encabezado de Pol&iacute;tica de Seguridad de Contenido (CSP)</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Severidad:</strong> Cr&iacute;tico | <strong class="font-semibold text-gray-800 dark:text-gray-200">Confianza:</strong> 95%</p>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">El sitio carga CDNs externos sin restricci&oacute;n de CSP, lo que permite ataques XSS.</p>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">2. Protecci&oacute;n contra Fuerza Bruta en Login de Admin</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Severidad:</strong> Cr&iacute;tico | <strong class="font-semibold text-gray-800 dark:text-gray-200">Confianza:</strong> 95%</p>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">Implementar l&iacute;mite de intentos de inicio de sesi&oacute;n para prevenir ataques de fuerza bruta. <strong class="font-semibold text-gray-800 dark:text-gray-200">Estado:</strong> Implementado (5 intentos, bloqueo de 15 minutos).</p>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-4 pb-2 border-b border-gray-200 dark:border-gray-600">Alto (Corregir Pronto)</h2>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">3. Protecci&oacute;n de Base de Datos con Consultas Preparadas</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">Asegurar que todas las tablas tengan pol&iacute;ticas de seguridad a nivel de fila (RLS) para prevenir acceso no autorizado.</p>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">4. Validaci&oacute;n de Datos del Lado del Servidor</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">Agregar restricciones CHECK y validaci&oacute;n en la base de datos para todos los campos de entrada.</p>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">5. Servicio Worker Mejorado</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">Mejorar el service worker para soporte offline completo y actualizaciones de cach&eacute;.</p>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-4 pb-2 border-b border-gray-200 dark:border-gray-600">Medio (Mejoras Recomendadas)</h2>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">6. Optimizaci&oacute;n de Rendimiento</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">Minificar JavaScript, optimizar im&aacute;genes, implementar carga diferida para mejorar tiempos de carga.</p>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">7. Accesibilidad (WCAG)</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">Mejorar atributos ARIA, contraste de colores, y navegaci&oacute;n por teclado.</p>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">8. Sistema de Notificaciones por Email</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">Confirmaciones autom&aacute;ticas por correo para citas nuevas, cambios de estado y mensajes de contacto.</p>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><em>Generado a partir de una revisi&oacute;n completa del c&oacute;digo de Oregon Tires Auto Care.</em></p>
</div>
<div class="doc-lang-en">
<h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-4 pb-2 border-b border-gray-200 dark:border-gray-600">Oregon Tires Auto Care - Improvements List</h2>

<blockquote class="border-l-4 border-green-500 pl-4 py-2 mb-4 bg-green-50 dark:bg-green-900/30 rounded-r-lg text-gray-600 dark:text-gray-400">
  <p class="text-gray-600 dark:text-gray-400 mb-0 leading-relaxed">Prioritized improvements based on a full code review of the public site, admin dashboard, .htaccess, and database schema. Each item includes severity, confidence level, and a suggested fix.</p>
</blockquote>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-4 pb-2 border-b border-gray-200 dark:border-gray-600">Critical (Fix Immediately)</h2>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">1. Add Content Security Policy (CSP) Header</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Severity:</strong> Critical | <strong class="font-semibold text-gray-800 dark:text-gray-200">Confidence:</strong> 95%</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">No CSP header exists to prevent XSS attacks. The site loads external CDNs (Tailwind) without restriction.</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Fix:</strong> Add to <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">.htaccess</code>:</p>
<pre class="bg-gray-100 dark:bg-gray-700 rounded-lg p-4 mb-4 overflow-x-auto text-sm font-mono text-gray-700 dark:text-gray-300">Header set Content-Security-Policy "default-src 'self'; script-src 'self' 'unsafe-inline' https://cdn.tailwindcss.com; style-src 'self' 'unsafe-inline' https://cdn.tailwindcss.com; img-src 'self' data:; connect-src 'self'; frame-src https://www.google.com; object-src 'none';"</pre>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">2. Add Rate Limiting / Brute-Force Protection on Admin Login</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Severity:</strong> Critical | <strong class="font-semibold text-gray-800 dark:text-gray-200">Confidence:</strong> 90%</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">The <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">/admin/</code> login form has no rate limiting, CAPTCHA, or account lockout. Attackers can brute-force passwords indefinitely.</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Fix:</strong></p>
<ul class="list-disc pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Add hCaptcha or Cloudflare Turnstile to the login form</li>
  <li>Track failed login attempts in the database and lock after 5 failures in 15 minutes</li>
  <li>Use a generic error message ("Invalid credentials") to prevent email enumeration</li>
  <li>Remove the hardcoded superadmin email from client-side code</li>
</ul>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">3. Force HTTPS Redirect</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Severity:</strong> Critical | <strong class="font-semibold text-gray-800 dark:text-gray-200">Confidence:</strong> 85%</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">No HTTPS redirect configured. Admin login credentials could be sent in plaintext over HTTP.</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Fix:</strong> Add to top of <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">.htaccess</code>:</p>
<pre class="bg-gray-100 dark:bg-gray-700 rounded-lg p-4 mb-4 overflow-x-auto text-sm font-mono text-gray-700 dark:text-gray-300">&lt;IfModule mod_rewrite.c&gt;
    RewriteEngine On
    RewriteCond %{HTTPS} off
    RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]
&lt;/IfModule&gt;</pre>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-4 pb-2 border-b border-gray-200 dark:border-gray-600">High Priority (Fix This Week)</h2>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">4. Add Missing SEO Meta Tags</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Confidence:</strong> 100%</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">Missing: <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">og:url</code>, <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">og:image</code>, Twitter Card tags, canonical URL, robots meta tag. Social media shares will have no preview image.</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Fix:</strong> Add to <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">&lt;head&gt;</code>:</p>
<pre class="bg-gray-100 dark:bg-gray-700 rounded-lg p-4 mb-4 overflow-x-auto text-sm font-mono text-gray-700 dark:text-gray-300">&lt;link rel="canonical" href="https://oregontires.com/"&gt;
&lt;meta property="og:url" content="https://oregontires.com/"&gt;
&lt;meta property="og:image" content="https://oregontires.com/assets/og-image.jpg"&gt;
&lt;meta property="og:site_name" content="Oregon Tires Auto Care"&gt;
&lt;meta name="twitter:card" content="summary_large_image"&gt;
&lt;meta name="twitter:title" content="Oregon Tires Auto Care"&gt;
&lt;meta name="twitter:image" content="https://oregontires.com/assets/og-image.jpg"&gt;
&lt;meta name="robots" content="index, follow"&gt;</pre>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Action Required:</strong> Create a 1200x630px branded OG image.</p>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">5. Create robots.txt and sitemap.xml</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Confidence:</strong> 100%</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">Neither file exists. Search engines can't efficiently crawl the site and crawl budget is wasted on admin pages.</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Fix:</strong> Create <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">public_html/robots.txt</code>:</p>
<pre class="bg-gray-100 dark:bg-gray-700 rounded-lg p-4 mb-4 overflow-x-auto text-sm font-mono text-gray-700 dark:text-gray-300">User-agent: *
Allow: /
Disallow: /admin/
Sitemap: https://oregontires.com/sitemap.xml</pre>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">Create <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">public_html/sitemap.xml</code> with URLs for <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">/</code>, <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">/#services</code>, <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">/#about</code>, <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">/#contact</code>.</p>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">6. Add Image Lazy Loading</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Confidence:</strong> 95%</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">Gallery images load immediately on page load regardless of scroll position. No <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">loading="lazy"</code>, no responsive <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">srcset</code>, no modern image formats (WebP).</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Fix:</strong></p>
<ul class="list-disc pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Add <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">loading="lazy" decoding="async"</code> to all gallery <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">&lt;img&gt;</code> tags</li>
  <li>Add <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">loading="eager" fetchpriority="high"</code> to the logo (above the fold)</li>
  <li>Convert images to WebP for ~80% size reduction</li>
</ul>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">7. Fix Render-Blocking CDN Scripts</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Confidence:</strong> 90%</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">External scripts loaded in <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">&lt;head&gt;</code> without <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">async</code> or <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">defer</code>, blocking first paint by 500-800ms.</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Fix (quick):</strong> Add <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">defer</code> to both script tags.</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Fix (production):</strong> Build Tailwind CSS at compile time (<code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">npx tailwindcss -o styles.css --minify</code>) and load as a <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">&lt;link&gt;</code> stylesheet. This eliminates the CDN dependency entirely.</p>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">8. Fix Accessibility: ARIA Labels and Focus Management</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Confidence:</strong> 85%</p>

<ul class="list-disc pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Mobile menu button has no <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">aria-label</code> or <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">aria-expanded</code></li>
  <li>Language toggle has no <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">aria-label</code></li>
  <li>Admin modals have no <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">role="dialog"</code>, no focus trap, no Escape key close</li>
  <li>No skip-to-content link for keyboard users</li>
</ul>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Fix:</strong> Add <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">aria-label</code>, <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">aria-expanded</code>, <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">aria-controls</code> to interactive elements. Add focus trap to modals. Add skip-to-content link after <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">&lt;body&gt;</code>.</p>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">9. Fix Color Contrast Failures</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Confidence:</strong> 90%</p>

<ul class="list-disc pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Yellow-400 button with black text = 1.9:1 ratio (WCAG requires 4.5:1)</li>
  <li>Yellow-200 hover text on dark green = 2.8:1 ratio (fails)</li>
</ul>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Fix:</strong> Use <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">text-gray-900 font-bold</code> on yellow buttons. Use <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">amber-300</code> instead of <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">amber-200</code> for hover states.</p>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">10. Add Form Validation Feedback and Loading State</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Confidence:</strong> 95%</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">Contact form has no real-time validation, no loading spinner during submission, and the submit button doesn't disable (allowing double-submit).</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Fix:</strong></p>
<ul class="list-disc pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>Disable submit button and show "Sending..." during async submission</li>
  <li>Add <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">pattern</code> attributes for email and phone validation</li>
  <li>Re-enable button in <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">finally</code> block</li>
</ul>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-4 pb-2 border-b border-gray-200 dark:border-gray-600">Medium Priority (Fix This Month)</h2>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">11. Extract Inline JavaScript to Separate Files</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Confidence:</strong> 85%</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">index.html</code> has 264 lines of inline JS. <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">admin/index.html</code> has 900+ lines. This prevents browser caching, minification, and requires <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">unsafe-inline</code> in CSP.</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Fix:</strong> Extract to <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">/js/main.js</code> and <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">/js/admin.js</code>. Load with <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">&lt;script type="module" src="..."&gt;</code>.</p>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">12. Complete Spanish Translations</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Confidence:</strong> 80%</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">Several UI elements are hardcoded in English:</p>
<ul class="list-disc pl-6 mb-4 space-y-2 text-gray-600 dark:text-gray-400">
  <li>"Based on 150+ Google Reviews"</li>
  <li>"View All Reviews on Google"</li>
  <li>Form placeholders</li>
  <li><code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">&lt;html lang="en"&gt;</code> never updates when toggling to Spanish</li>
</ul>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Fix:</strong> Add missing translation keys and update <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">toggleLanguage()</code> to set <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">document.documentElement.lang</code>.</p>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">13. Add Bulk Operations to Admin Panel</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Confidence:</strong> 85%</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">Admins must update each appointment individually. No bulk select, bulk assign, bulk status change, or CSV export.</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Fix:</strong> Add checkbox column to appointments table, bulk action toolbar with assign/status/export buttons.</p>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">14. Add Analytics and Error Tracking</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Confidence:</strong> 90%</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">No Google Analytics, no error tracking (Sentry), no visibility into user behavior, form conversion rates, or JavaScript errors in production.</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Fix:</strong> Add Google Analytics 4 with custom events for form submissions, language switches, and service views. Add Sentry for JS error tracking.</p>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">15. Enhance Structured Data (Schema.org)</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Confidence:</strong> 85%</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">Missing: <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">url</code>, <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">image</code>, <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">geo</code> coordinates, <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">aggregateRating</code>, <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">sameAs</code> (social profiles), service catalog.</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Fix:</strong> Add complete AutomotiveBusiness schema with geo coordinates (45.46123, -122.57895), aggregate rating (4.8/5, 150+ reviews), social profiles, and service offerings.</p>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">16. Lazy-Load Google Maps</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Confidence:</strong> 80%</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">Google Maps iframe loads immediately (~500KB), even for users who never scroll to the contact section.</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Fix:</strong> Use IntersectionObserver to load the iframe only when the contact section enters the viewport. Show a "Click to load map" placeholder until then.</p>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">17. Add Loading Skeletons for Gallery</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Confidence:</strong> 80%</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">Gallery shows plain "Loading gallery..." text during API fetch. No visual feedback.</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Fix:</strong> Replace with animated skeleton cards (<code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">animate-pulse bg-gray-200 rounded-xl h-64</code>) that disappear when images load.</p>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">18. Block Access to Sensitive Files via .htaccess</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Confidence:</strong> 85%</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">No protection for <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">.sql</code>, <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">.env</code>, <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">.git</code>, <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">package.json</code>, or backup files if accidentally uploaded.</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Fix:</strong> Add to <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">.htaccess</code>:</p>
<pre class="bg-gray-100 dark:bg-gray-700 rounded-lg p-4 mb-4 overflow-x-auto text-sm font-mono text-gray-700 dark:text-gray-300">&lt;FilesMatch "(\.sql|\.env|\.git|package\.json|\.bak|\.tmp)$"&gt;
    Require all denied
&lt;/FilesMatch&gt;</pre>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-4 pb-2 border-b border-gray-200 dark:border-gray-600">Low Priority (Nice to Have)</h2>

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">19. Standardize Database Table Naming</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Confidence:</strong> 85%</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">Inconsistent prefixes: <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">oretir_profiles</code>, <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">oregon_tires_contact_messages</code>, <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">customer_vehicles</code> (no prefix).</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Fix:</strong> Standardize all tables to <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">oretir_</code> prefix.</p>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">20. Make All Phone Numbers Click-to-Call</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Confidence:</strong> 95%</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">Phone number in top bar is a <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">&lt;span&gt;</code>, not an <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">&lt;a href="tel:"&gt;</code>. Mobile users can't tap to call.</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Fix:</strong> Wrap all phone numbers in <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">&lt;a href="tel:5033679714"&gt;</code>.</p>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">21. Add Skip-to-Content Link</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Confidence:</strong> 80%</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">Keyboard users must tab through the entire navigation to reach main content.</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Fix:</strong> Add a visually hidden link after <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">&lt;body&gt;</code> that becomes visible on focus: <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">&lt;a href="#main-content" class="sr-only focus:not-sr-only"&gt;Skip to main content&lt;/a&gt;</code>.</p>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">22. Add Service Worker for Offline Support</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Confidence:</strong> 80%</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">Site completely breaks offline. Users can't view business hours or phone number from a cached page.</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Fix:</strong> Create <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">/sw.js</code> that caches the homepage, logo, and hero image for offline access.</p>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">23. Consider Dark Mode Support</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">Detect system preference with <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">prefers-color-scheme: dark</code> and apply Tailwind dark mode classes.</p>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">24. Add Web Vitals Monitoring</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">Track Core Web Vitals (LCP, FID, CLS) to measure real-user performance and identify regressions.</p>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mt-6 mb-3">25. Prevent Password Logging on Auth Errors</h3>
<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><strong class="font-semibold text-gray-800 dark:text-gray-200">Confidence:</strong> 80%</p>

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed">Login error handling could inadvertently log credentials. Use generic error messages and avoid <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono text-gray-700 dark:text-gray-300">console.error(err)</code> on auth failures.</p>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 mt-8 mb-4 pb-2 border-b border-gray-200 dark:border-gray-600">Priority Action Plan</h2>

<div class="overflow-x-auto mb-6">
  <table class="w-full border-collapse mb-6">
    <thead>
      <tr>
        <th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Week</th>
        <th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Focus</th>
        <th class="bg-gray-50 dark:bg-gray-700 font-semibold text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-left">Items</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><strong class="font-semibold text-gray-800 dark:text-gray-200">1</strong></td>
        <td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Security + SEO</td>
        <td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">CSP headers, HTTPS redirect, robots.txt, sitemap.xml, OG image, missing meta tags</td>
      </tr>
      <tr>
        <td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><strong class="font-semibold text-gray-800 dark:text-gray-200">2</strong></td>
        <td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">UX + Accessibility</td>
        <td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">ARIA labels, focus management, form validation, color contrast, lazy loading</td>
      </tr>
      <tr>
        <td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><strong class="font-semibold text-gray-800 dark:text-gray-200">3</strong></td>
        <td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Performance + Code Quality</td>
        <td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Extract inline JS, build Tailwind at compile time, image optimization, analytics</td>
      </tr>
      <tr>
        <td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400"><strong class="font-semibold text-gray-800 dark:text-gray-200">4</strong></td>
        <td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Admin + Polish</td>
        <td class="border border-gray-200 dark:border-gray-600 px-4 py-2 text-sm text-gray-600 dark:text-gray-400">Bulk operations, complete translations, service worker, structured data, testing</td>
      </tr>
    </tbody>
  </table>
</div>

<hr class="border-t border-gray-200 dark:border-gray-600 my-8">

<p class="text-gray-600 dark:text-gray-400 mb-4 leading-relaxed"><em>Generated from a full code review of 5 files: index.html, admin/index.html, book-appointment/index.html, .htaccess, and database schema.</em></p>
</div>
        </div>

        <!-- Roadmap Sub-Tab -->
        <div id="docs-subtab-vision" class="hidden p-6 max-h-[75vh] overflow-y-auto scrollbar-thin">

<div class="doc-lang-en">
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     OREGON TIRES AUTO CARE ‚Äî ROADMAP DOCUMENT
     Comprehensive feature roadmap for best-in-class tire shop & auto repair
     ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->

<div class="max-w-4xl mx-auto">

<!-- Header -->
<div class="text-center mb-10">
  <div class="inline-block bg-gradient-to-r from-green-500 to-amber-500 text-white text-xs font-bold px-3 py-1 rounded-full mb-3 tracking-wider uppercase">Strategic Growth Plan</div>
  <h1 class="text-4xl font-extrabold text-gray-900 mb-3 dark:text-white">Oregon Tires Auto Care</h1>
  <h2 class="text-2xl font-semibold text-green-700 mb-2 dark:text-green-400">Feature Roadmap</h2>
  <p class="text-gray-500 text-sm dark:text-gray-400">Every feature a world-class tire shop &amp; auto repair business needs to dominate the Portland market</p>
  <p class="text-gray-400 text-xs mt-2 dark:text-gray-500">Prepared February 2026 &bull; Confidential</p>
</div>

<hr class="border-t-2 border-green-200 my-8 dark:border-green-900">

<!-- Executive Summary -->
<div class="bg-gradient-to-br from-green-50 to-amber-50 border border-green-200 rounded-xl p-6 mb-8 dark:from-green-900/20 dark:to-amber-900/20 dark:border-green-800">
  <h3 class="text-xl font-bold text-green-800 mb-3 dark:text-green-300">üìä Executive Summary</h3>
  <p class="text-gray-700 leading-relaxed mb-3 dark:text-gray-300">This document outlines <strong>40+ features</strong> organized into <strong>6 tiers</strong> that will transform Oregon Tires from a local tire shop website into a <strong>fully integrated digital business platform</strong>. Each feature includes an explanation of how it directly improves revenue, customer retention, or operational efficiency.</p>
  <div class="grid grid-cols-2 md:grid-cols-4 gap-3 mt-4">
    <div class="bg-white rounded-lg p-3 text-center shadow-sm dark:bg-gray-800">
      <div class="text-2xl font-bold text-green-600">6</div>
      <div class="text-xs text-gray-500 dark:text-gray-400">Development Tiers</div>
    </div>
    <div class="bg-white rounded-lg p-3 text-center shadow-sm dark:bg-gray-800">
      <div class="text-2xl font-bold text-green-600">40+</div>
      <div class="text-xs text-gray-500 dark:text-gray-400">Features Planned</div>
    </div>
    <div class="bg-white rounded-lg p-3 text-center shadow-sm dark:bg-gray-800">
      <div class="text-2xl font-bold text-green-600">EN/ES</div>
      <div class="text-xs text-gray-500 dark:text-gray-400">Fully Bilingual</div>
    </div>
    <div class="bg-white rounded-lg p-3 text-center shadow-sm dark:bg-gray-800">
      <div class="text-2xl font-bold text-green-600">100%</div>
      <div class="text-xs text-gray-500 dark:text-gray-400">Self-Hosted</div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- TIER 1: REVENUE ENGINE -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->

<div class="mb-10">
  <div class="flex items-center gap-3 mb-4">
    <span class="bg-green-600 text-white text-xs font-bold px-3 py-1 rounded-full">TIER 1</span>
    <h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 dark:text-white">Revenue Engine</h2>
    <span class="text-sm text-gray-400 dark:text-gray-500 ml-auto">Direct revenue impact</span>
  </div>

  <!-- 1. Online Tire Shop (E-Commerce) -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">üõí Online Tire Shop (E-Commerce)</h4>
      <span class="text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium dark:bg-green-900 dark:text-green-300">High Revenue</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">A full e-commerce storefront where customers browse, compare, and purchase tires online. Includes tire fitment guides (Year/Make/Model lookup), price comparison, tire specifications, and real-time inventory. Customers can buy tires and schedule installation in one checkout flow.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Business Impact:</strong> Captures customers who research online before visiting. Tire Rack reports <strong>70% of tire buyers</strong> start their search online. An in-house e-commerce system keeps those sales local instead of losing them to online retailers. Expected <strong>15-25% revenue increase</strong> from capturing online-first customers.</p>
      </div>
      <div class="mt-3 flex flex-wrap gap-2">
        <span class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded dark:bg-gray-700 dark:text-gray-300">Year/Make/Model Lookup</span>
        <span class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded dark:bg-gray-700 dark:text-gray-300">Tire Size Search</span>
        <span class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded dark:bg-gray-700 dark:text-gray-300">Price Comparison</span>
        <span class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded dark:bg-gray-700 dark:text-gray-300">Installation Scheduling</span>
        <span class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded dark:bg-gray-700 dark:text-gray-300">Secure Checkout</span>
      </div>
    </div>
  </div>

  <!-- 2. Online Payments & Invoicing -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">üí≥ Online Payments &amp; Invoicing</h4>
      <span class="text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium dark:bg-green-900 dark:text-green-300">High Revenue</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Integrated payment processing (Stripe or Square) allowing customers to pay invoices online, make deposits for appointments, or purchase tires with credit/debit cards. Includes digital invoices sent via email/SMS, payment plans for large repairs, and a financing option (e.g., Affirm or Klarna) for big-ticket services.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Business Impact:</strong> Reduces no-shows by <strong>40-60%</strong> with pre-payment deposits. Payment plans increase average order value by <strong>20-30%</strong> since customers can spread costs. Digital invoices get paid <strong>2x faster</strong> than paper ones.</p>
      </div>
    </div>
  </div>

  <!-- 3. Service Packages & Pricing -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">üì¶ Service Packages &amp; Transparent Pricing</h4>
      <span class="text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium dark:bg-green-900 dark:text-green-300">High Revenue</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">A public-facing service menu with transparent pricing for common services: oil changes, tire rotations, brake pads, alignments, fluid flushes, etc. Bundled packages (e.g., &ldquo;Winter Ready Package&rdquo; = tire swap + alignment + fluid check) encourage upselling. Seasonal promotions can be created and scheduled from the admin panel.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Business Impact:</strong> Transparent pricing builds trust and <strong>reduces phone calls by 30%</strong> (customers can self-serve). Bundled packages increase average ticket size by <strong>15-25%</strong>. Seasonal promotions drive traffic during slow periods.</p>
      </div>
    </div>
  </div>

  <!-- 4. Customer Loyalty Program -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">‚≠ê Customer Loyalty &amp; Rewards Program</h4>
      <span class="text-xs bg-amber-100 text-amber-700 px-2 py-1 rounded-full font-medium dark:bg-amber-900 dark:text-amber-300">Retention</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Points-based loyalty system: customers earn points per dollar spent, redeemable for free services (free rotation after 4 oil changes, free alignment after tire purchase). Includes membership tiers (Bronze/Silver/Gold), birthday rewards, and referral bonuses. Loyalty status visible in the customer&rsquo;s online portal.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Business Impact:</strong> Loyalty programs increase customer lifetime value by <strong>25-40%</strong>. Returning customers spend <strong>67% more</strong> than new ones. Referral rewards turn satisfied customers into a free sales force.</p>
      </div>
    </div>
  </div>

  <!-- 5. Referral Program -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">ü§ù Referral &amp; Word-of-Mouth Engine</h4>
      <span class="text-xs bg-amber-100 text-amber-700 px-2 py-1 rounded-full font-medium dark:bg-amber-900 dark:text-amber-300">Growth</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Every customer gets a unique referral code/link. When a friend books using their code, both the referrer and new customer receive a discount or credit. The admin panel tracks referral chains, top referrers, and conversion rates. QR-code referral cards can be printed for in-store distribution.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Business Impact:</strong> Referred customers have a <strong>37% higher retention rate</strong> and <strong>4x higher conversion rate</strong> than cold leads. This is especially powerful in Portland&rsquo;s tight-knit Hispanic community where word-of-mouth is the #1 marketing channel.</p>
      </div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- TIER 2: CUSTOMER EXPERIENCE -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->

<div class="mb-10">
  <div class="flex items-center gap-3 mb-4">
    <span class="bg-blue-600 text-white text-xs font-bold px-3 py-1 rounded-full">TIER 2</span>
    <h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 dark:text-white">Customer Experience</h2>
    <span class="text-sm text-gray-400 dark:text-gray-500 ml-auto">Trust &amp; convenience</span>
  </div>

  <!-- 6. Customer Portal -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">üë§ Customer Self-Service Portal</h4>
      <span class="text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full font-medium dark:bg-blue-900 dark:text-blue-300">Experience</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">A secure login area for customers to view their complete service history, upcoming appointments, past invoices, vehicle profiles, and loyalty points. Customers can add multiple vehicles, reschedule appointments, approve or decline recommended services, and download receipts. Everything bilingual (EN/ES).</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Business Impact:</strong> Self-service portals reduce front-desk calls by <strong>40%</strong>, letting staff focus on service. Customers who can see their history online return <strong>3x more often</strong>. Approved service recommendations convert at <strong>70%+</strong> vs. cold calls at 15%.</p>
      </div>
    </div>
  </div>

  <!-- 7. Digital Vehicle Inspections -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">üì∏ Digital Vehicle Inspections (DVI)</h4>
      <span class="text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full font-medium dark:bg-blue-900 dark:text-blue-300">Trust</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Technicians use a tablet/phone to photograph or video worn parts, tread depth measurements, fluid conditions, and brake wear. A digital inspection report with color-coded severity (green/yellow/red) is automatically sent to the customer via SMS/email with photos. Customers can approve recommended repairs with one tap.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Business Impact:</strong> DVIs increase repair approval rates by <strong>20-30%</strong> because customers <em>see</em> the problem. Builds enormous trust with photo evidence &mdash; the #1 complaint about auto shops is &ldquo;do I really need this?&rdquo; Shops using DVI report <strong>$50-80 more per ticket</strong> on average.</p>
      </div>
    </div>
  </div>

  <!-- 8. SMS/Text Communication -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">üì± SMS/Text Communication Hub</h4>
      <span class="text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full font-medium dark:bg-blue-900 dark:text-blue-300">Convenience</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Two-way SMS system (via Twilio) for appointment reminders, service updates (&ldquo;Your car is ready for pickup!&rdquo;), inspection report delivery, and marketing messages. Automated reminder 24 hours before appointment. Supports both English and Spanish. Customers can reply to reschedule or confirm. All conversations logged in admin panel.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Business Impact:</strong> SMS has a <strong>98% open rate</strong> (vs. 20% for email). Appointment reminders reduce no-shows by <strong>50%</strong>. &ldquo;Car is ready&rdquo; texts reduce lot time. This is especially critical for the bilingual community &mdash; many customers prefer texting in Spanish.</p>
      </div>
    </div>
  </div>

  <!-- 9. Review Management -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">‚≠ê Review &amp; Reputation Management</h4>
      <span class="text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full font-medium dark:bg-blue-900 dark:text-blue-300">Trust</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">After every service, customers automatically receive a review request via SMS/email. Happy customers (4-5 stars) are directed to Google/Yelp to post public reviews. Unhappy customers (1-3 stars) are directed to a private feedback form so you can resolve issues before they go public. Dashboard shows review stats, response templates, and alerts for new reviews.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Business Impact:</strong> Businesses with <strong>50+ Google reviews</strong> get 3x more clicks. Each star increase = <strong>5-9% revenue increase</strong>. The smart routing (happy‚Üípublic, unhappy‚Üíprivate) protects your rating while still capturing feedback.</p>
      </div>
    </div>
  </div>

  <!-- 10. Real-Time Service Tracker -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">üìç Real-Time Service Tracker</h4>
      <span class="text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full font-medium dark:bg-blue-900 dark:text-blue-300">Experience</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Like tracking a food delivery &mdash; customers get a live status page showing where their vehicle is in the service process: Checked In ‚Üí Inspection ‚Üí Waiting for Parts ‚Üí In Service ‚Üí Quality Check ‚Üí Ready for Pickup. Updated by technicians with one tap. Shareable link so family members can track too.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Business Impact:</strong> Reduces &ldquo;Is my car ready yet?&rdquo; calls by <strong>80%</strong>. Creates a premium, transparent experience that differentiates Oregon Tires from every competitor. Customers perceive the business as modern and tech-forward.</p>
      </div>
    </div>
  </div>

  <!-- 11. Wait Time Estimator -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">‚è±Ô∏è Live Wait Time &amp; Capacity Display</h4>
      <span class="text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full font-medium dark:bg-blue-900 dark:text-blue-300">Convenience</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Show real-time estimated wait times on the website and booking page based on current shop load. &ldquo;Current wait: ~45 minutes&rdquo; or &ldquo;3 bays available.&rdquo; Walk-in customers can check wait times before driving over. Integrated with the appointment system to show busy vs. available time slots.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Business Impact:</strong> Reduces walk-away frustration from long waits. Spreads customer traffic more evenly across the day. Increases booking conversions by showing available capacity.</p>
      </div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- TIER 3: OPERATIONS & MANAGEMENT -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->

<div class="mb-10">
  <div class="flex items-center gap-3 mb-4">
    <span class="bg-purple-600 text-white text-xs font-bold px-3 py-1 rounded-full">TIER 3</span>
    <h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 dark:text-white">Operations &amp; Management</h2>
    <span class="text-sm text-gray-400 dark:text-gray-500 ml-auto">Efficiency &amp; control</span>
  </div>

  <!-- 12. Inventory Management -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">üì¶ Tire &amp; Parts Inventory Management</h4>
      <span class="text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full font-medium dark:bg-purple-900 dark:text-purple-300">Operations</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Real-time inventory tracking for every tire in stock: brand, size, quantity, cost, retail price, and location in the warehouse. Barcode/QR scanning for quick lookup. Auto-reorder alerts when stock drops below threshold. Tracks parts inventory (brake pads, filters, fluids) with cost-of-goods reporting. Supplier price comparison.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Business Impact:</strong> Eliminates lost sales from &ldquo;we don&rsquo;t have that in stock&rdquo; by <strong>90%</strong> with auto-reorder. Reduces over-ordering and dead stock. Instant price lookups save <strong>5-10 minutes per customer</strong>. Annual savings: <strong>$5,000-15,000</strong> in reduced waste.</p>
      </div>
    </div>
  </div>

  <!-- 13. Employee Time & Performance Tracking -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">üë∑ Employee Time &amp; Performance Tracking</h4>
      <span class="text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full font-medium dark:bg-purple-900 dark:text-purple-300">Management</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Digital clock-in/clock-out system with GPS verification. Tracks hours, overtime, breaks, and generates payroll reports. Performance metrics per technician: jobs completed, average repair time, customer ratings, upsell rate. Commission tracking for service advisors. Weekly/monthly performance leaderboards.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Business Impact:</strong> Eliminates timecard fraud (saves <strong>$2,000-5,000/year</strong> in labor costs). Performance tracking identifies top performers for bonuses and underperformers for training. Reduces payroll processing time by <strong>75%</strong>.</p>
      </div>
    </div>
  </div>

  <!-- 14. Work Order / Job Card System -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">üîß Digital Work Orders &amp; Job Cards</h4>
      <span class="text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full font-medium dark:bg-purple-900 dark:text-purple-300">Operations</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Replace paper job cards with a digital system. Each vehicle gets a work order showing: customer info, vehicle details, requested services, assigned technician, parts needed, labor estimate, and status. Technicians update progress from their phone. Parts are auto-deducted from inventory when used. Job history is permanently stored for warranty reference.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Business Impact:</strong> Eliminates lost paperwork. Ensures nothing is forgotten on a multi-service job. Auto-parts tracking prevents shrinkage. Average shop saves <strong>2-3 hours/day</strong> in paperwork.</p>
      </div>
    </div>
  </div>

  <!-- 15. Warranty Tracking -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">üõ°Ô∏è Warranty &amp; Guarantee Tracking</h4>
      <span class="text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full font-medium dark:bg-purple-900 dark:text-purple-300">Operations</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Track warranties on tires sold (tread life guarantees, road hazard warranties) and services performed (90-day labor warranty). Automatic alerts when warranties are expiring. Digital warranty cards sent to customers. When a customer comes in with a warranty claim, instant lookup of purchase date, mileage at install, and warranty terms.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Business Impact:</strong> Professional warranty tracking builds trust and justifies premium pricing. Warranty expiration alerts create natural re-engagement touchpoints. Reduces disputes with clear documentation.</p>
      </div>
    </div>
  </div>

  <!-- 16. Supplier & Vendor Portal -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">üè≠ Supplier &amp; Vendor Management</h4>
      <span class="text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full font-medium dark:bg-purple-900 dark:text-purple-300">Procurement</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Manage all tire and parts suppliers in one place. Compare prices across distributors (ATD, US AutoForce, Tire Hub). One-click ordering from preferred suppliers. Track order status, delivery dates, and invoice history. Volume discount tracking to ensure you&rsquo;re hitting rebate tiers. Return/defect management for supplier claims.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Business Impact:</strong> Price comparison saves <strong>5-15% on parts costs</strong>. Tracking rebate tiers ensures you don&rsquo;t leave money on the table. Streamlined ordering saves <strong>1-2 hours/day</strong> in phone calls to distributors.</p>
      </div>
    </div>
  </div>

  <!-- 17. Accounting Integration -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">üìä Accounting &amp; Financial Integration</h4>
      <span class="text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full font-medium dark:bg-purple-900 dark:text-purple-300">Finance</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Direct integration with QuickBooks or Xero. Every invoice, payment, expense, and payroll record syncs automatically. Daily P&amp;L snapshot in the admin dashboard. Tax reporting for tire disposal fees (Oregon DEQ). End-of-year reports for the accountant with one click. Cash flow forecasting based on scheduled appointments.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Business Impact:</strong> Eliminates double-entry bookkeeping errors. Real-time financial visibility instead of waiting for month-end. Saves <strong>10+ hours/month</strong> in manual data entry. Tax compliance becomes effortless.</p>
      </div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- TIER 4: MARKETING & GROWTH -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->

<div class="mb-10">
  <div class="flex items-center gap-3 mb-4">
    <span class="bg-orange-600 text-white text-xs font-bold px-3 py-1 rounded-full">TIER 4</span>
    <h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 dark:text-white">Marketing &amp; Growth</h2>
    <span class="text-sm text-gray-400 dark:text-gray-500 ml-auto">Attract &amp; retain</span>
  </div>

  <!-- 18. Email Marketing Campaigns -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">üìß Email Marketing &amp; Campaigns</h4>
      <span class="text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded-full font-medium dark:bg-orange-900 dark:text-orange-300">Marketing</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Built-in email campaign system. Send seasonal promotions (&ldquo;Winter Tire Special!&rdquo;), service reminders (&ldquo;Your oil change is due&rdquo;), and loyalty updates. Pre-built bilingual templates. Automated drip campaigns: welcome series for new customers, win-back for inactive ones, maintenance reminders based on vehicle age/mileage. Open/click tracking in admin panel.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Business Impact:</strong> Email marketing returns <strong>$36 for every $1 spent</strong>. Maintenance reminders bring customers back on schedule. Win-back campaigns recover <strong>10-15%</strong> of lapsed customers. All without paying for Mailchimp or Constant Contact.</p>
      </div>
    </div>
  </div>

  <!-- 19. Google Business Integration -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">üìç Google Business &amp; Local SEO Suite</h4>
      <span class="text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded-full font-medium dark:bg-orange-900 dark:text-orange-300">SEO</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Automated Google Business Profile management: post updates, respond to reviews, update hours/photos from the admin panel. Local SEO tools: schema markup for auto repair, location pages optimized for &ldquo;tire shop near me&rdquo; searches, citation management across 50+ directories (Yelp, Yellow Pages, BBB). Monthly SEO reports showing ranking progress.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Business Impact:</strong> <strong>46% of Google searches</strong> are local. Being in the top 3 of Google Maps = <strong>70% of clicks</strong>. Consistent NAP (Name/Address/Phone) across directories improves ranking. Auto-posting keeps the GBP profile active, which Google rewards.</p>
      </div>
    </div>
  </div>

  <!-- 20. Seasonal Campaigns -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">üçÇ Seasonal &amp; Event-Based Promotions</h4>
      <span class="text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded-full font-medium dark:bg-orange-900 dark:text-orange-300">Marketing</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Automated seasonal campaigns: winter tire swap reminders (Oct-Nov), summer road trip check (May-Jun), back-to-school car safety (Aug), holiday travel prep (Dec). Admin can create time-limited promotions with countdown timers on the website. Coupon code system with usage tracking and expiration dates. Banner management for homepage promotions.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Business Impact:</strong> Seasonal campaigns drive traffic during predictable slow periods. Portland&rsquo;s rainy winters create natural demand for tire services &mdash; capturing this with timely marketing can increase Q4 revenue by <strong>20-35%</strong>.</p>
      </div>
    </div>
  </div>

  <!-- 21. Blog & Educational Content -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">‚úçÔ∏è Blog &amp; Educational Content Hub</h4>
      <span class="text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded-full font-medium dark:bg-orange-900 dark:text-orange-300">Content</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">A bilingual blog managed from the admin panel. Publish articles like &ldquo;How to Know When You Need New Tires,&rdquo; &ldquo;5 Signs Your Brakes Need Service,&rdquo; or &ldquo;Winter Driving Tips for Portland.&rdquo; Each article is SEO-optimized with schema markup. Drives organic traffic and positions Oregon Tires as a trusted authority. Admin can create, schedule, and publish articles with rich text editing.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Business Impact:</strong> Educational content ranks for hundreds of long-tail keywords. Each blog post is a permanent SEO asset. Businesses with blogs get <strong>55% more website visitors</strong>. Bilingual content captures the underserved Spanish-language auto care search market.</p>
      </div>
    </div>
  </div>

  <!-- 22. Social Media Integration -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">üì≤ Social Media Integration</h4>
      <span class="text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded-full font-medium dark:bg-orange-900 dark:text-orange-300">Marketing</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Connect Facebook, Instagram, and Google Business from the admin panel. Post gallery images, promotions, and customer testimonials to all platforms simultaneously. Display a live social media feed on the website. Instagram-style before/after slider for repair showcases. Auto-generate social posts from blog articles and promotions.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Business Impact:</strong> Consistent social media presence increases brand awareness by <strong>80%</strong>. Before/after photos are the highest-engagement content for auto shops. Cross-posting saves <strong>5+ hours/week</strong> of manual social media work.</p>
      </div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- TIER 5: FLEET & COMMERCIAL -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->

<div class="mb-10">
  <div class="flex items-center gap-3 mb-4">
    <span class="bg-red-600 text-white text-xs font-bold px-3 py-1 rounded-full">TIER 5</span>
    <h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 dark:text-white">Fleet &amp; Commercial Services</h2>
    <span class="text-sm text-gray-400 dark:text-gray-500 ml-auto">B2B revenue streams</span>
  </div>

  <!-- 23. Fleet Management -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">üöõ Fleet Management Portal</h4>
      <span class="text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full font-medium dark:bg-red-900 dark:text-red-300">B2B Revenue</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Dedicated portal for commercial fleet customers (delivery companies, landscaping crews, taxi/rideshare). Each fleet account gets: vehicle roster management, scheduled maintenance calendars, centralized billing, volume pricing, and fleet-wide service reports. Fleet managers can schedule services for multiple vehicles, approve work orders, and view spending reports. Priority scheduling for fleet vehicles.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Business Impact:</strong> A single fleet contract = <strong>$10,000-50,000+/year</strong> in recurring revenue. Fleet customers are the most loyal &mdash; switching costs are high. Portland has thousands of delivery vans, landscaping trucks, and rideshare vehicles that need regular tire service.</p>
      </div>
    </div>
  </div>

  <!-- 24. Mobile / Roadside Service -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">üöê Mobile &amp; Roadside Tire Service</h4>
      <span class="text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full font-medium dark:bg-red-900 dark:text-red-300">New Market</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Expand beyond the shop with mobile tire service. Customers request tire changes, flat repairs, or jumpstarts at their location (home, office, roadside). GPS-tracked service van with ETA. Online booking with location pin. Flat-rate pricing for mobile services. Emergency 24/7 option for roadside breakdowns. Service van inventory synced with shop inventory.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Business Impact:</strong> Mobile tire service commands <strong>30-50% premium pricing</strong>. Captures customers who can&rsquo;t visit the shop (disabled, elderly, busy professionals). This is a <strong>rapidly growing market</strong> &mdash; companies like Wrench and YourMechanic prove the demand.</p>
      </div>
    </div>
  </div>

  <!-- 25. Tire Storage Service -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">üè† Seasonal Tire Storage Program</h4>
      <span class="text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full font-medium dark:bg-red-900 dark:text-red-300">Recurring Revenue</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Offer seasonal tire storage: customers drop off their winter/summer tires and pay a monthly or seasonal fee for storage. When the season changes, they book a swap appointment. The system tracks: stored tire condition, tread depth at check-in, storage location, and customer notifications when swap season arrives. Great for customers in Portland apartments with no garage.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Business Impact:</strong> <strong>$50-100/season per customer</strong> in pure storage revenue. Guaranteed return visits 2x/year for swaps. Extremely high margins with minimal labor. Canadian tire shops report storage as one of their <strong>most profitable services</strong>.</p>
      </div>
    </div>
  </div>

  <!-- 26. Commercial Account Billing -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">üßæ Commercial Net-30 Billing</h4>
      <span class="text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full font-medium dark:bg-red-900 dark:text-red-300">B2B</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Net-30/Net-60 billing for approved commercial accounts. Credit applications processed online. Monthly consolidated invoices for fleet and business customers. Aging reports, payment tracking, and automated late payment reminders. PO (Purchase Order) number support for corporate procurement.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Business Impact:</strong> Net-30 billing is expected by fleet and commercial customers &mdash; not offering it loses deals. Locks in long-term business relationships. Consolidated billing reduces admin overhead for high-volume accounts.</p>
      </div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- TIER 6: ADVANCED TECHNOLOGY -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->

<div class="mb-10">
  <div class="flex items-center gap-3 mb-4">
    <span class="bg-indigo-600 text-white text-xs font-bold px-3 py-1 rounded-full">TIER 6</span>
    <h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 dark:text-white">Advanced Technology</h2>
    <span class="text-sm text-gray-400 dark:text-gray-500 ml-auto">Future-proof innovations</span>
  </div>

  <!-- 27. AI Diagnostics -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">ü§ñ AI-Powered Diagnostics &amp; Recommendations</h4>
      <span class="text-xs bg-indigo-100 text-indigo-700 px-2 py-1 rounded-full font-medium dark:bg-indigo-900 dark:text-indigo-300">Innovation</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">AI that analyzes vehicle service history, mileage, driving conditions (Portland rain/highways), and manufacturer recommendations to predict upcoming maintenance needs. &ldquo;Based on your 2019 Honda Civic at 45,000 miles in Portland, we recommend: brake fluid flush, tire rotation, and cabin air filter.&rdquo; Sent proactively to customers before they even think about it.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Business Impact:</strong> Proactive maintenance recommendations generate <strong>2-3x more bookings</strong> than waiting for customers to call. AI predictions feel personal and authoritative. Positions Oregon Tires as a tech-forward shop that genuinely cares about vehicle longevity.</p>
      </div>
    </div>
  </div>

  <!-- 28. AI Tire Tread Scanner -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">üì∑ AI Tire Tread Depth Scanner</h4>
      <span class="text-xs bg-indigo-100 text-indigo-700 px-2 py-1 rounded-full font-medium dark:bg-indigo-900 dark:text-indigo-300">Innovation</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Customers snap a photo of their tire tread with their phone. AI analyzes tread depth, wear pattern (center wear, edge wear, cupping), and estimates remaining tire life. Instantly recommends replacement tires that fit their vehicle from your inventory. Can also detect alignment issues from uneven wear patterns.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Business Impact:</strong> Turns every smartphone into a sales tool. Customers who see their tire condition visually are <strong>5x more likely to buy</strong>. Generates pre-qualified leads &mdash; customers arrive already knowing they need tires.</p>
      </div>
    </div>
  </div>

  <!-- 29. Chatbot / AI Assistant -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">üí¨ Bilingual AI Chat Assistant</h4>
      <span class="text-xs bg-indigo-100 text-indigo-700 px-2 py-1 rounded-full font-medium dark:bg-indigo-900 dark:text-indigo-300">Automation</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">An AI chatbot on the website that answers customer questions 24/7 in English and Spanish. Handles common queries: &ldquo;What&rsquo;s the price for an oil change?&rdquo; &ldquo;Do you have 225/65R17 tires in stock?&rdquo; &ldquo;Can I book for Saturday?&rdquo; Seamlessly hands off to a human via SMS when it can&rsquo;t answer. All conversations logged and analyzed for insights.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Business Impact:</strong> Captures leads outside business hours (evenings and weekends = <strong>40% of web traffic</strong>). Answers the same 20 questions that eat up phone time. Bilingual capability serves the entire customer base without requiring bilingual staff 24/7.</p>
      </div>
    </div>
  </div>

  <!-- 30. OBD-II Integration -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">üîå OBD-II Vehicle Diagnostics Integration</h4>
      <span class="text-xs bg-indigo-100 text-indigo-700 px-2 py-1 rounded-full font-medium dark:bg-indigo-900 dark:text-indigo-300">Technical</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Plug in a Bluetooth OBD-II reader to pull diagnostic trouble codes (DTCs), live sensor data, and freeze frame data. Auto-populated in the work order. Explains codes in plain language for customers. Cross-references with repair database to estimate fix cost. Historical DTC tracking per vehicle. Emission readiness checks for Oregon DEQ testing.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Business Impact:</strong> Speeds up diagnostics by <strong>50%</strong>. Eliminates guesswork. Plain-language explanations build customer trust. DEQ emission readiness checks are a <strong>natural upsell</strong> in Oregon where emissions testing is required.</p>
      </div>
    </div>
  </div>

  <!-- 31. Mobile App -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">üì± Customer Mobile App (PWA)</h4>
      <span class="text-xs bg-indigo-100 text-indigo-700 px-2 py-1 rounded-full font-medium dark:bg-indigo-900 dark:text-indigo-300">Platform</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">A Progressive Web App (PWA) that works like a native app without app store fees. Install from the website with one tap. Features: appointment booking, service tracker, loyalty points, digital receipts, push notifications for reminders, and the tire tread scanner. Works offline for viewing service history and receipts. Bilingual with auto-detection.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Business Impact:</strong> Push notifications have <strong>7x higher engagement</strong> than email. An app on the customer&rsquo;s phone = top-of-mind awareness. PWA costs <strong>90% less</strong> than native iOS/Android development while delivering similar experience.</p>
      </div>
    </div>
  </div>

  <!-- 32. Digital Signage -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">üñ•Ô∏è In-Store Digital Signage</h4>
      <span class="text-xs bg-indigo-100 text-indigo-700 px-2 py-1 rounded-full font-medium dark:bg-indigo-900 dark:text-indigo-300">In-Store</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Smart TVs in the waiting area controlled from the admin panel. Display: current promotions, service status board (&ldquo;Vehicle #3 &mdash; In Service&rdquo;), wait times, gallery of completed work, Google reviews feed, seasonal tips, and bilingual content. Managed remotely &mdash; update content from anywhere without touching the physical display.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Business Impact:</strong> Waiting area TVs increase upsell acceptance by <strong>15-20%</strong> (customers see services they didn&rsquo;t know existed). Reduces perceived wait time. Professional signage elevates the shop&rsquo;s brand perception.</p>
      </div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- ADDITIONAL FEATURES -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->

<div class="mb-10">
  <div class="flex items-center gap-3 mb-4">
    <span class="bg-gray-600 text-white text-xs font-bold px-3 py-1 rounded-full">BONUS</span>
    <h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 dark:text-white">Additional Capabilities</h2>
    <span class="text-sm text-gray-400 dark:text-gray-500 ml-auto">Complete platform</span>
  </div>

  <!-- 33. Multi-Location Support -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">üè™ Multi-Location Management</h4>
      <span class="text-xs bg-gray-200 text-gray-700 px-2 py-1 rounded-full font-medium dark:bg-gray-600 dark:text-gray-200">Scalability</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">When Oregon Tires expands to a second (or third) location, the admin panel manages all shops from one dashboard. Per-location employees, inventory, appointments, and analytics. Cross-location inventory sharing (&ldquo;we don&rsquo;t have that tire here, but our East Portland location does&rdquo;). Consolidated reporting across all locations.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Business Impact:</strong> Built-in scalability means <strong>zero tech rebuilds</strong> when expanding. Cross-location inventory prevents lost sales. Unified analytics give a bird&rsquo;s-eye view of the entire business.</p>
      </div>
    </div>
  </div>

  <!-- 34. Environmental Compliance -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">‚ôªÔ∏è Environmental Compliance &amp; Tire Recycling</h4>
      <span class="text-xs bg-gray-200 text-gray-700 px-2 py-1 rounded-full font-medium dark:bg-gray-600 dark:text-gray-200">Compliance</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Track tire disposal and recycling for Oregon DEQ compliance. Log every tire received and disposed: date, quantity, disposal vendor, and manifest numbers. Auto-calculate tire disposal fees. Generate compliance reports for inspections. Track used oil, coolant, and battery recycling. Environmental fee transparency on invoices.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Business Impact:</strong> Oregon has strict environmental regulations for tire shops. Digital compliance tracking eliminates the risk of <strong>$500-10,000 fines</strong>. Eco-friendly branding appeals to Portland&rsquo;s environmentally conscious consumers.</p>
      </div>
    </div>
  </div>

  <!-- 35. Training & Knowledge Base -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">üìö Employee Training &amp; Knowledge Base</h4>
      <span class="text-xs bg-gray-200 text-gray-700 px-2 py-1 rounded-full font-medium dark:bg-gray-600 dark:text-gray-200">HR</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Internal knowledge base for technicians: torque specs, tire fitment charts, fluid capacities, manufacturer service intervals, and troubleshooting guides. New employee onboarding checklists and training modules. Safety procedures and compliance documentation. Searchable from any device in the shop. Updated centrally when procedures change.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Business Impact:</strong> Reduces training time for new hires by <strong>50%</strong>. Eliminates &ldquo;I didn&rsquo;t know&rdquo; mistakes. Standardizes quality across all technicians. A well-documented shop commands higher employee retention.</p>
      </div>
    </div>
  </div>

  <!-- 36. Advanced Analytics -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">üìà Advanced Analytics &amp; Business Intelligence</h4>
      <span class="text-xs bg-gray-200 text-gray-700 px-2 py-1 rounded-full font-medium dark:bg-gray-600 dark:text-gray-200">Insights</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Go beyond basic counts. Interactive charts and dashboards: revenue by service type, customer acquisition cost, customer lifetime value, busiest hours/days (heat map), technician utilization rate, average repair order value trends, tire brand sales mix, seasonal demand forecasting, and marketing campaign ROI. Export reports as PDF or CSV.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Business Impact:</strong> Data-driven decisions consistently outperform gut feelings. Know exactly which services are most profitable, which marketing channels work, and where to invest. Businesses using analytics grow <strong>30% faster</strong> than those that don&rsquo;t.</p>
      </div>
    </div>
  </div>

  <!-- 37. Vehicle History Reports -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">üöó Vehicle History &amp; CRM</h4>
      <span class="text-xs bg-gray-200 text-gray-700 px-2 py-1 rounded-full font-medium dark:bg-gray-600 dark:text-gray-200">CRM</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Complete customer relationship management: every customer has a profile with contact info, all their vehicles (year/make/model/VIN), complete service history per vehicle, communication log, loyalty points, and spending totals. When a customer calls, pull up their profile instantly. Track customer preferences (preferred communication method, language, preferred technician).</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Business Impact:</strong> Personalized service drives loyalty. &ldquo;Welcome back Maria, last time we serviced your 2020 RAV4 we noted your rear brakes were at 40% &mdash; want us to check those today?&rdquo; This level of service is <strong>impossible without a CRM</strong> and creates customers for life.</p>
      </div>
    </div>
  </div>

  <!-- 38. Appointment Optimization -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">üóìÔ∏è Smart Scheduling &amp; Bay Optimization</h4>
      <span class="text-xs bg-gray-200 text-gray-700 px-2 py-1 rounded-full font-medium dark:bg-gray-600 dark:text-gray-200">Efficiency</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">AI-optimized scheduling that considers: service type duration, technician skills, bay availability, parts availability, and customer priority (fleet vs. retail). Drag-and-drop schedule board for the day. Automatic overbooking protection. Waitlist management for fully-booked days. Color-coded by service type. Integration with employee availability/time-off.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Business Impact:</strong> Optimized scheduling increases bay utilization by <strong>20-30%</strong>, meaning more cars serviced per day with the same staff. Reduces idle time between jobs. Prevents double-booking and understaffing.</p>
      </div>
    </div>
  </div>

  <!-- 39. Estimate & Quote Builder -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">üí∞ Instant Estimate &amp; Quote Builder</h4>
      <span class="text-xs bg-gray-200 text-gray-700 px-2 py-1 rounded-full font-medium dark:bg-gray-600 dark:text-gray-200">Sales</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Customers enter their vehicle and needed service to receive an instant estimate on the website. Service advisors build professional quotes in the admin panel with itemized parts and labor. Quotes are emailed/texted to customers with a one-click &ldquo;Approve &amp; Schedule&rdquo; button. Track quote-to-conversion rates. Good/better/best pricing options for tires.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Business Impact:</strong> Instant estimates capture <strong>60% more leads</strong> than &ldquo;call for pricing.&rdquo; Good/better/best options increase average sale by <strong>25%</strong> (customers self-select the mid-tier). One-click approval removes friction from the buying process.</p>
      </div>
    </div>
  </div>

  <!-- 40. Multilingual Expansion -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">üåé Expanded Language Support</h4>
      <span class="text-xs bg-gray-200 text-gray-700 px-2 py-1 rounded-full font-medium dark:bg-gray-600 dark:text-gray-200">Accessibility</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Beyond English and Spanish: add Russian, Vietnamese, Chinese, and other languages spoken in Portland&rsquo;s diverse communities. Admin panel allows adding any language with translation management. Language detection based on browser settings. All customer-facing content, emails, SMS, and invoices respect the customer&rsquo;s preferred language.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Business Impact:</strong> Portland is one of the most linguistically diverse cities in the US. Serving customers in their native language creates <strong>fierce loyalty</strong> and captures market segments that competitors ignore entirely.</p>
      </div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- IMPLEMENTATION TIMELINE -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->

<hr class="border-t-2 border-green-200 my-10 dark:border-green-900">

<div class="mb-10">
  <h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 mb-6 dark:text-white">üìÖ Recommended Implementation Order</h2>
  <p class="text-gray-600 mb-6 dark:text-gray-300">Features are ordered by <strong>impact-to-effort ratio</strong> &mdash; highest ROI features first.</p>

  <div class="space-y-4">
    <!-- Phase 1 -->
    <div class="bg-green-50 border border-green-200 rounded-lg p-4 dark:bg-green-900/20 dark:border-green-800">
      <div class="flex items-center gap-2 mb-2">
        <span class="bg-green-600 text-white text-xs font-bold px-2 py-1 rounded">PHASE 1</span>
        <span class="font-bold text-green-800 dark:text-green-300">Quick Wins &amp; Revenue Boosters</span>
      </div>
      <ul class="text-sm text-gray-700 space-y-1 ml-4 list-disc dark:text-gray-300">
        <li>Service Packages &amp; Transparent Pricing</li>
        <li>SMS/Text Communication (Twilio)</li>
        <li>Review &amp; Reputation Management</li>
        <li>Online Payments (Stripe)</li>
        <li>Google Business &amp; Local SEO</li>
      </ul>
    </div>

    <!-- Phase 2 -->
    <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 dark:bg-blue-900/20 dark:border-blue-800">
      <div class="flex items-center gap-2 mb-2">
        <span class="bg-blue-600 text-white text-xs font-bold px-2 py-1 rounded">PHASE 2</span>
        <span class="font-bold text-blue-800 dark:text-blue-300">Customer Experience &amp; Retention</span>
      </div>
      <ul class="text-sm text-gray-700 space-y-1 ml-4 list-disc dark:text-gray-300">
        <li>Customer Self-Service Portal</li>
        <li>Digital Vehicle Inspections (DVI)</li>
        <li>Customer Loyalty &amp; Rewards Program</li>
        <li>Referral Engine</li>
        <li>Email Marketing Campaigns</li>
      </ul>
    </div>

    <!-- Phase 3 -->
    <div class="bg-purple-50 border border-purple-200 rounded-lg p-4 dark:bg-purple-900/20 dark:border-purple-800">
      <div class="flex items-center gap-2 mb-2">
        <span class="bg-purple-600 text-white text-xs font-bold px-2 py-1 rounded">PHASE 3</span>
        <span class="font-bold text-purple-800 dark:text-purple-300">Operations &amp; Efficiency</span>
      </div>
      <ul class="text-sm text-gray-700 space-y-1 ml-4 list-disc dark:text-gray-300">
        <li>Tire &amp; Parts Inventory Management</li>
        <li>Digital Work Orders &amp; Job Cards</li>
        <li>Instant Estimate &amp; Quote Builder</li>
        <li>Smart Scheduling &amp; Bay Optimization</li>
        <li>Vehicle History &amp; CRM</li>
      </ul>
    </div>

    <!-- Phase 4 -->
    <div class="bg-orange-50 border border-orange-200 rounded-lg p-4 dark:bg-orange-900/20 dark:border-orange-800">
      <div class="flex items-center gap-2 mb-2">
        <span class="bg-orange-600 text-white text-xs font-bold px-2 py-1 rounded">PHASE 4</span>
        <span class="font-bold text-orange-800 dark:text-orange-300">Growth &amp; Commercial</span>
      </div>
      <ul class="text-sm text-gray-700 space-y-1 ml-4 list-disc dark:text-gray-300">
        <li>Online Tire Shop (E-Commerce)</li>
        <li>Fleet Management Portal</li>
        <li>Seasonal Tire Storage Program</li>
        <li>Blog &amp; Educational Content</li>
        <li>Social Media Integration</li>
      </ul>
    </div>

    <!-- Phase 5 -->
    <div class="bg-indigo-50 border border-indigo-200 rounded-lg p-4 dark:bg-indigo-900/20 dark:border-indigo-800">
      <div class="flex items-center gap-2 mb-2">
        <span class="bg-indigo-600 text-white text-xs font-bold px-2 py-1 rounded">PHASE 5</span>
        <span class="font-bold text-indigo-800 dark:text-indigo-300">Advanced Technology</span>
      </div>
      <ul class="text-sm text-gray-700 space-y-1 ml-4 list-disc dark:text-gray-300">
        <li>AI-Powered Diagnostics &amp; Recommendations</li>
        <li>AI Tire Tread Scanner</li>
        <li>Bilingual AI Chat Assistant</li>
        <li>Customer Mobile App (PWA)</li>
        <li>Real-Time Service Tracker</li>
        <li>In-Store Digital Signage</li>
      </ul>
    </div>

    <!-- Phase 6 -->
    <div class="bg-gray-50 border border-gray-200 rounded-lg p-4 dark:bg-gray-700 dark:border-gray-600">
      <div class="flex items-center gap-2 mb-2">
        <span class="bg-gray-600 text-white text-xs font-bold px-2 py-1 rounded">PHASE 6</span>
        <span class="font-bold text-gray-800 dark:text-gray-200">Scale &amp; Optimize</span>
      </div>
      <ul class="text-sm text-gray-700 space-y-1 ml-4 list-disc dark:text-gray-300">
        <li>Multi-Location Management</li>
        <li>Advanced Analytics &amp; BI</li>
        <li>OBD-II Integration</li>
        <li>Accounting Integration (QuickBooks)</li>
        <li>Employee Training &amp; Knowledge Base</li>
        <li>Environmental Compliance Tracking</li>
        <li>Expanded Language Support</li>
      </ul>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- COMPETITIVE ADVANTAGE -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->

<hr class="border-t-2 border-green-200 my-10 dark:border-green-900">

<div class="mb-10">
  <h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 mb-4 dark:text-white">üèÜ Competitive Advantage Summary</h2>
  <p class="text-gray-600 mb-6 dark:text-gray-300">Here&rsquo;s what Oregon Tires will have that <strong>no other tire shop on 82nd Ave</strong> (or most of Portland) offers:</p>

  <div class="grid md:grid-cols-2 gap-4">
    <div class="bg-gradient-to-br from-green-50 to-green-100 border border-green-200 rounded-lg p-4 dark:from-green-900/20 dark:to-green-900/10 dark:border-green-800">
      <h4 class="font-bold text-green-800 mb-2 dark:text-green-300">What Most Shops Have</h4>
      <ul class="text-sm text-gray-600 space-y-1 dark:text-gray-400">
        <li>‚ùå Paper-based systems</li>
        <li>‚ùå Phone-only booking</li>
        <li>‚ùå No online presence beyond a listing</li>
        <li>‚ùå Manual inventory counting</li>
        <li>‚ùå Cash/card only at the counter</li>
        <li>‚ùå No customer communication after service</li>
      </ul>
    </div>
    <div class="bg-gradient-to-br from-amber-50 to-green-50 border border-green-300 rounded-lg p-4 dark:from-amber-900/20 dark:to-green-900/10 dark:border-green-700">
      <h4 class="font-bold text-green-800 mb-2 dark:text-green-300">What Oregon Tires Will Have</h4>
      <ul class="text-sm text-gray-600 space-y-1 dark:text-gray-400">
        <li>‚úÖ Fully digital operations &amp; work orders</li>
        <li>‚úÖ Online booking, payments, &amp; tire shopping</li>
        <li>‚úÖ Bilingual website, SMS, email, &amp; AI chat</li>
        <li>‚úÖ Real-time inventory with auto-reorder</li>
        <li>‚úÖ Online payments, financing, &amp; fleet billing</li>
        <li>‚úÖ Automated follow-ups, reviews, &amp; loyalty</li>
      </ul>
    </div>
  </div>
</div>

<!-- Footer -->
<hr class="border-t border-gray-200 my-8 dark:border-gray-700">
<div class="text-center text-gray-400 text-sm dark:text-gray-500">
  <p class="mb-1">Oregon Tires Auto Care &bull; 8536 SE 82nd Ave, Portland, OR 97266</p>
  <p class="mb-3">Prepared by the Development Team &bull; February 2026</p>
  <p class="text-xs italic">This document is a living roadmap. Features can be prioritized, combined, or modified based on business needs and customer feedback. Each feature is designed to be built incrementally on top of the existing platform.</p>
</div>

</div>
<!-- END ROADMAP DOCUMENT -->
</div>

<div class="doc-lang-es hidden">
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     OREGON TIRES AUTO CARE ‚Äî DOCUMENTO DE HOJA DE RUTA
     Hoja de ruta completa de funciones para el mejor taller de llantas y reparaci&oacute;n automotriz
     ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->

<div class="max-w-4xl mx-auto">

<!-- Encabezado -->
<div class="text-center mb-10">
  <div class="inline-block bg-gradient-to-r from-green-500 to-amber-500 text-white text-xs font-bold px-3 py-1 rounded-full mb-3 tracking-wider uppercase">Plan de Crecimiento Estrat&eacute;gico</div>
  <h1 class="text-4xl font-extrabold text-gray-900 mb-3 dark:text-white">Oregon Tires Auto Care</h1>
  <h2 class="text-2xl font-semibold text-green-700 mb-2 dark:text-green-400">Hoja de Ruta y Funcionalidades</h2>
  <p class="text-gray-500 text-sm dark:text-gray-400">Todas las funciones que un taller de llantas y reparaci&oacute;n automotriz de clase mundial necesita para dominar el mercado de Portland</p>
  <p class="text-gray-400 text-xs mt-2 dark:text-gray-500">Preparado en febrero de 2026 &bull; Confidencial</p>
</div>

<hr class="border-t-2 border-green-200 my-8 dark:border-green-900">

<!-- Resumen Ejecutivo -->
<div class="bg-gradient-to-br from-green-50 to-amber-50 border border-green-200 rounded-xl p-6 mb-8 dark:from-green-900/20 dark:to-amber-900/20 dark:border-green-800">
  <h3 class="text-xl font-bold text-green-800 mb-3 dark:text-green-300">&#128202; Resumen Ejecutivo</h3>
  <p class="text-gray-700 leading-relaxed mb-3 dark:text-gray-300">Este documento describe <strong>m&aacute;s de 40 funciones</strong> organizadas en <strong>6 niveles</strong> que transformar&aacute;n Oregon Tires de un sitio web de taller de llantas local en una <strong>plataforma de negocios digital totalmente integrada</strong>. Cada funci&oacute;n incluye una explicaci&oacute;n de c&oacute;mo mejora directamente los ingresos, la retenci&oacute;n de clientes o la eficiencia operativa.</p>
  <div class="grid grid-cols-2 md:grid-cols-4 gap-3 mt-4">
    <div class="bg-white rounded-lg p-3 text-center shadow-sm dark:bg-gray-800">
      <div class="text-2xl font-bold text-green-600">6</div>
      <div class="text-xs text-gray-500 dark:text-gray-400">Niveles de Desarrollo</div>
    </div>
    <div class="bg-white rounded-lg p-3 text-center shadow-sm dark:bg-gray-800">
      <div class="text-2xl font-bold text-green-600">40+</div>
      <div class="text-xs text-gray-500 dark:text-gray-400">Funciones Planificadas</div>
    </div>
    <div class="bg-white rounded-lg p-3 text-center shadow-sm dark:bg-gray-800">
      <div class="text-2xl font-bold text-green-600">EN/ES</div>
      <div class="text-xs text-gray-500 dark:text-gray-400">Totalmente Biling&uuml;e</div>
    </div>
    <div class="bg-white rounded-lg p-3 text-center shadow-sm dark:bg-gray-800">
      <div class="text-2xl font-bold text-green-600">100%</div>
      <div class="text-xs text-gray-500 dark:text-gray-400">Auto-Alojado</div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- NIVEL 1: MOTOR DE INGRESOS -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->

<div class="mb-10">
  <div class="flex items-center gap-3 mb-4">
    <span class="bg-green-600 text-white text-xs font-bold px-3 py-1 rounded-full">NIVEL 1</span>
    <h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 dark:text-white">Motor de Ingresos</h2>
    <span class="text-sm text-gray-400 dark:text-gray-500 ml-auto">Impacto directo en ingresos</span>
  </div>

  <!-- 1. Tienda de Llantas en L&iacute;nea -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">&#128722; Tienda de Llantas en L&iacute;nea (E-Commerce)</h4>
      <span class="text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium dark:bg-green-900 dark:text-green-300">Alto Ingreso</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Una tienda en l&iacute;nea completa donde los clientes navegan, comparan y compran llantas. Incluye gu&iacute;as de ajuste (b&uacute;squeda por A&ntilde;o/Marca/Modelo), comparaci&oacute;n de precios, especificaciones de llantas e inventario en tiempo real. Los clientes pueden comprar llantas y programar la instalaci&oacute;n en un solo flujo de pago.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Impacto en el Negocio:</strong> Captura clientes que investigan en l&iacute;nea antes de visitar. Tire Rack reporta que el <strong>70% de los compradores de llantas</strong> comienzan su b&uacute;squeda en l&iacute;nea. Un sistema de e-commerce propio mantiene esas ventas locales en lugar de perderlas ante minoristas en l&iacute;nea. Se espera un <strong>aumento del 15-25% en ingresos</strong> al capturar clientes que buscan primero en l&iacute;nea.</p>
      </div>
      <div class="mt-3 flex flex-wrap gap-2">
        <span class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded dark:bg-gray-700 dark:text-gray-300">B&uacute;squeda A&ntilde;o/Marca/Modelo</span>
        <span class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded dark:bg-gray-700 dark:text-gray-300">B&uacute;squeda por Medida</span>
        <span class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded dark:bg-gray-700 dark:text-gray-300">Comparaci&oacute;n de Precios</span>
        <span class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded dark:bg-gray-700 dark:text-gray-300">Programaci&oacute;n de Instalaci&oacute;n</span>
        <span class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded dark:bg-gray-700 dark:text-gray-300">Pago Seguro</span>
      </div>
    </div>
  </div>

  <!-- 2. Pagos en L&iacute;nea y Facturaci&oacute;n -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">&#128179; Pagos en L&iacute;nea y Facturaci&oacute;n</h4>
      <span class="text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium dark:bg-green-900 dark:text-green-300">Alto Ingreso</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Procesamiento de pagos integrado (Stripe o Square) que permite a los clientes pagar facturas en l&iacute;nea, hacer dep&oacute;sitos para citas o comprar llantas con tarjeta de cr&eacute;dito/d&eacute;bito. Incluye facturas digitales enviadas por correo/SMS, planes de pago para reparaciones grandes y opci&oacute;n de financiamiento (ej. Affirm o Klarna) para servicios costosos.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Impacto en el Negocio:</strong> Reduce las inasistencias en un <strong>40-60%</strong> con dep&oacute;sitos anticipados. Los planes de pago aumentan el valor promedio del pedido en un <strong>20-30%</strong> ya que los clientes pueden distribuir los costos. Las facturas digitales se pagan <strong>2 veces m&aacute;s r&aacute;pido</strong> que las de papel.</p>
      </div>
    </div>
  </div>

  <!-- 3. Paquetes de Servicio y Precios Transparentes -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">&#128230; Paquetes de Servicio y Precios Transparentes</h4>
      <span class="text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium dark:bg-green-900 dark:text-green-300">Alto Ingreso</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Un men&uacute; de servicios p&uacute;blico con precios transparentes para servicios comunes: cambios de aceite, rotaci&oacute;n de llantas, pastillas de freno, alineaciones, cambios de fluidos, etc. Paquetes combinados (ej. &ldquo;Paquete Listo para Invierno&rdquo; = cambio de llantas + alineaci&oacute;n + revisi&oacute;n de fluidos) fomentan las ventas adicionales. Las promociones de temporada se pueden crear y programar desde el panel de administraci&oacute;n.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Impacto en el Negocio:</strong> Los precios transparentes generan confianza y <strong>reducen las llamadas telef&oacute;nicas en un 30%</strong> (los clientes pueden autoatenderse). Los paquetes combinados aumentan el ticket promedio en un <strong>15-25%</strong>. Las promociones de temporada generan tr&aacute;fico durante per&iacute;odos lentos.</p>
      </div>
    </div>
  </div>

  <!-- 4. Programa de Lealtad y Recompensas -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">&#11088; Programa de Lealtad y Recompensas</h4>
      <span class="text-xs bg-amber-100 text-amber-700 px-2 py-1 rounded-full font-medium dark:bg-amber-900 dark:text-amber-300">Retenci&oacute;n</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Sistema de lealtad basado en puntos: los clientes ganan puntos por d&oacute;lar gastado, canjeables por servicios gratis (rotaci&oacute;n gratis despu&eacute;s de 4 cambios de aceite, alineaci&oacute;n gratis despu&eacute;s de comprar llantas). Incluye niveles de membres&iacute;a (Bronce/Plata/Oro), recompensas de cumplea&ntilde;os y bonos por referidos. El estatus de lealtad es visible en el portal del cliente.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Impacto en el Negocio:</strong> Los programas de lealtad aumentan el valor de por vida del cliente en un <strong>25-40%</strong>. Los clientes recurrentes gastan un <strong>67% m&aacute;s</strong> que los nuevos. Las recompensas por referidos convierten a los clientes satisfechos en una fuerza de ventas gratuita.</p>
      </div>
    </div>
  </div>

  <!-- 5. Motor de Referidos -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">&#129309; Motor de Referidos y Boca a Boca</h4>
      <span class="text-xs bg-amber-100 text-amber-700 px-2 py-1 rounded-full font-medium dark:bg-amber-900 dark:text-amber-300">Crecimiento</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Cada cliente recibe un c&oacute;digo/enlace de referido &uacute;nico. Cuando un amigo reserva usando su c&oacute;digo, tanto el referidor como el nuevo cliente reciben un descuento o cr&eacute;dito. El panel de administraci&oacute;n rastrea cadenas de referidos, los mejores referidores y tasas de conversi&oacute;n. Se pueden imprimir tarjetas de referido con c&oacute;digo QR para distribuci&oacute;n en tienda.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Impacto en el Negocio:</strong> Los clientes referidos tienen una <strong>tasa de retenci&oacute;n 37% mayor</strong> y una <strong>tasa de conversi&oacute;n 4 veces mayor</strong> que los prospectos fr&iacute;os. Esto es especialmente poderoso en la comunidad hispana de Portland donde el boca a boca es el canal de marketing #1.</p>
      </div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- NIVEL 2: EXPERIENCIA DEL CLIENTE -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->

<div class="mb-10">
  <div class="flex items-center gap-3 mb-4">
    <span class="bg-blue-600 text-white text-xs font-bold px-3 py-1 rounded-full">NIVEL 2</span>
    <h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 dark:text-white">Experiencia del Cliente</h2>
    <span class="text-sm text-gray-400 dark:text-gray-500 ml-auto">Confianza y conveniencia</span>
  </div>

  <!-- 6. Portal de Autoservicio -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">&#128100; Portal de Autoservicio del Cliente</h4>
      <span class="text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full font-medium dark:bg-blue-900 dark:text-blue-300">Experiencia</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">&Aacute;rea de acceso seguro para que los clientes vean su historial completo de servicios, citas pr&oacute;ximas, facturas anteriores, perfiles de veh&iacute;culos y puntos de lealtad. Los clientes pueden agregar m&uacute;ltiples veh&iacute;culos, reprogramar citas, aprobar o rechazar servicios recomendados y descargar recibos. Todo biling&uuml;e (EN/ES).</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Impacto en el Negocio:</strong> Los portales de autoservicio reducen las llamadas a recepci&oacute;n en un <strong>40%</strong>, permitiendo al personal enfocarse en el servicio. Los clientes que pueden ver su historial en l&iacute;nea regresan <strong>3 veces m&aacute;s seguido</strong>. Las recomendaciones de servicio aprobadas convierten al <strong>70%+</strong> vs. llamadas en fr&iacute;o al 15%.</p>
      </div>
    </div>
  </div>

  <!-- 7. Inspecciones Digitales -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">&#128248; Inspecciones Digitales de Veh&iacute;culos (IDV)</h4>
      <span class="text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full font-medium dark:bg-blue-900 dark:text-blue-300">Confianza</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Los t&eacute;cnicos usan una tableta/tel&eacute;fono para fotografiar o grabar piezas desgastadas, mediciones de profundidad de banda de rodadura, condiciones de fluidos y desgaste de frenos. Un reporte de inspecci&oacute;n digital con severidad codificada por colores (verde/amarillo/rojo) se env&iacute;a autom&aacute;ticamente al cliente por SMS/correo con fotos. Los clientes pueden aprobar reparaciones recomendadas con un toque.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Impacto en el Negocio:</strong> Las IDV aumentan las tasas de aprobaci&oacute;n de reparaciones en un <strong>20-30%</strong> porque los clientes <em>ven</em> el problema. Genera enorme confianza con evidencia fotogr&aacute;fica &mdash; la queja #1 sobre talleres es &ldquo;&iquest;realmente necesito esto?&rdquo; Los talleres que usan IDV reportan <strong>$50-80 m&aacute;s por ticket</strong> en promedio.</p>
      </div>
    </div>
  </div>

  <!-- 8. Centro de Comunicaci&oacute;n SMS -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">&#128241; Centro de Comunicaci&oacute;n SMS/Texto</h4>
      <span class="text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full font-medium dark:bg-blue-900 dark:text-blue-300">Conveniencia</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Sistema de SMS bidireccional (v&iacute;a Twilio) para recordatorios de citas, actualizaciones de servicio (&ldquo;&iexcl;Su carro est&aacute; listo para recoger!&rdquo;), entrega de reportes de inspecci&oacute;n y mensajes de marketing. Recordatorio autom&aacute;tico 24 horas antes de la cita. Compatible con ingl&eacute;s y espa&ntilde;ol. Los clientes pueden responder para reprogramar o confirmar. Todas las conversaciones se registran en el panel de administraci&oacute;n.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Impacto en el Negocio:</strong> Los SMS tienen una <strong>tasa de apertura del 98%</strong> (vs. 20% para correo electr&oacute;nico). Los recordatorios de citas reducen las inasistencias en un <strong>50%</strong>. Los textos de &ldquo;carro listo&rdquo; reducen el tiempo en el estacionamiento. Esto es especialmente cr&iacute;tico para la comunidad biling&uuml;e &mdash; muchos clientes prefieren mensajear en espa&ntilde;ol.</p>
      </div>
    </div>
  </div>

  <!-- 9. Gesti&oacute;n de Rese&ntilde;as -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">&#11088; Gesti&oacute;n de Rese&ntilde;as y Reputaci&oacute;n</h4>
      <span class="text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full font-medium dark:bg-blue-900 dark:text-blue-300">Confianza</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Despu&eacute;s de cada servicio, los clientes reciben autom&aacute;ticamente una solicitud de rese&ntilde;a por SMS/correo. Los clientes contentos (4-5 estrellas) son dirigidos a Google/Yelp para publicar rese&ntilde;as p&uacute;blicas. Los clientes insatisfechos (1-3 estrellas) son dirigidos a un formulario de retroalimentaci&oacute;n privado para resolver problemas antes de que se hagan p&uacute;blicos. El tablero muestra estad&iacute;sticas de rese&ntilde;as, plantillas de respuesta y alertas de nuevas rese&ntilde;as.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Impacto en el Negocio:</strong> Los negocios con <strong>50+ rese&ntilde;as en Google</strong> obtienen 3 veces m&aacute;s clics. Cada aumento de estrella = <strong>aumento del 5-9% en ingresos</strong>. El enrutamiento inteligente (contentos&rarr;p&uacute;blico, insatisfechos&rarr;privado) protege tu calificaci&oacute;n mientras captura retroalimentaci&oacute;n.</p>
      </div>
    </div>
  </div>

  <!-- 10. Rastreador de Servicio -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">&#128205; Rastreador de Servicio en Tiempo Real</h4>
      <span class="text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full font-medium dark:bg-blue-900 dark:text-blue-300">Experiencia</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Como rastrear una entrega de comida &mdash; los clientes obtienen una p&aacute;gina de estado en vivo que muestra d&oacute;nde est&aacute; su veh&iacute;culo en el proceso de servicio: Registrado &rarr; Inspecci&oacute;n &rarr; Esperando Piezas &rarr; En Servicio &rarr; Control de Calidad &rarr; Listo para Recoger. Actualizado por t&eacute;cnicos con un toque. Enlace compartible para que familiares tambi&eacute;n puedan rastrear.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Impacto en el Negocio:</strong> Reduce las llamadas de &ldquo;&iquest;ya est&aacute; listo mi carro?&rdquo; en un <strong>80%</strong>. Crea una experiencia premium y transparente que diferencia a Oregon Tires de cada competidor. Los clientes perciben el negocio como moderno y tecnol&oacute;gico.</p>
      </div>
    </div>
  </div>

  <!-- 11. Tiempo de Espera en Vivo -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">&#9201;&#65039; Tiempo de Espera y Capacidad en Vivo</h4>
      <span class="text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full font-medium dark:bg-blue-900 dark:text-blue-300">Conveniencia</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Muestra tiempos de espera estimados en tiempo real en el sitio web y la p&aacute;gina de reservas basados en la carga actual del taller. &ldquo;Espera actual: ~45 minutos&rdquo; o &ldquo;3 bah&iacute;as disponibles.&rdquo; Los clientes sin cita pueden verificar los tiempos de espera antes de manejar al taller. Integrado con el sistema de citas para mostrar horarios ocupados vs. disponibles.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Impacto en el Negocio:</strong> Reduce la frustraci&oacute;n de irse por esperas largas. Distribuye el tr&aacute;fico de clientes m&aacute;s uniformemente a lo largo del d&iacute;a. Aumenta las conversiones de reserva al mostrar capacidad disponible.</p>
      </div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- NIVEL 3: OPERACIONES Y GESTI&Oacute;N -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->

<div class="mb-10">
  <div class="flex items-center gap-3 mb-4">
    <span class="bg-purple-600 text-white text-xs font-bold px-3 py-1 rounded-full">NIVEL 3</span>
    <h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 dark:text-white">Operaciones y Gesti&oacute;n</h2>
    <span class="text-sm text-gray-400 dark:text-gray-500 ml-auto">Eficiencia y control</span>
  </div>

  <!-- 12. Gesti&oacute;n de Inventario -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">&#128230; Gesti&oacute;n de Inventario de Llantas y Refacciones</h4>
      <span class="text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full font-medium dark:bg-purple-900 dark:text-purple-300">Operaciones</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Seguimiento de inventario en tiempo real para cada llanta en existencia: marca, medida, cantidad, costo, precio de venta y ubicaci&oacute;n en almac&eacute;n. Escaneo de c&oacute;digo de barras/QR para b&uacute;squeda r&aacute;pida. Alertas autom&aacute;ticas de reorden cuando el stock baja del umbral. Rastrea inventario de piezas (pastillas de freno, filtros, fluidos) con reportes de costo de bienes. Comparaci&oacute;n de precios de proveedores.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Impacto en el Negocio:</strong> Elimina ventas perdidas por &ldquo;no tenemos eso en existencia&rdquo; en un <strong>90%</strong> con reorden autom&aacute;tico. Reduce el sobre-pedido y el stock muerto. Las b&uacute;squedas instant&aacute;neas de precios ahorran <strong>5-10 minutos por cliente</strong>. Ahorro anual: <strong>$5,000-15,000</strong> en reducci&oacute;n de desperdicios.</p>
      </div>
    </div>
  </div>

  <!-- 13. Seguimiento de Empleados -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">&#128119; Seguimiento de Tiempo y Rendimiento del Empleado</h4>
      <span class="text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full font-medium dark:bg-purple-900 dark:text-purple-300">Gesti&oacute;n</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Sistema digital de entrada/salida con verificaci&oacute;n GPS. Rastrea horas, tiempo extra, descansos y genera reportes de n&oacute;mina. M&eacute;tricas de rendimiento por t&eacute;cnico: trabajos completados, tiempo promedio de reparaci&oacute;n, calificaciones de clientes, tasa de ventas adicionales. Seguimiento de comisiones para asesores de servicio. Tablas de clasificaci&oacute;n semanales/mensuales.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Impacto en el Negocio:</strong> Elimina el fraude de tarjetas de tiempo (ahorra <strong>$2,000-5,000/a&ntilde;o</strong> en costos laborales). El seguimiento de rendimiento identifica a los mejores para bonos y a los de bajo rendimiento para capacitaci&oacute;n. Reduce el tiempo de procesamiento de n&oacute;mina en un <strong>75%</strong>.</p>
      </div>
    </div>
  </div>

  <!-- 14. &Oacute;rdenes de Trabajo Digitales -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">&#128295; &Oacute;rdenes de Trabajo Digitales</h4>
      <span class="text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full font-medium dark:bg-purple-900 dark:text-purple-300">Operaciones</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Reemplaza las tarjetas de trabajo en papel con un sistema digital. Cada veh&iacute;culo obtiene una orden de trabajo mostrando: informaci&oacute;n del cliente, detalles del veh&iacute;culo, servicios solicitados, t&eacute;cnico asignado, piezas necesarias, estimaci&oacute;n de mano de obra y estado. Los t&eacute;cnicos actualizan el progreso desde su tel&eacute;fono. Las piezas se deducen autom&aacute;ticamente del inventario al usarse. El historial de trabajos se almacena permanentemente para referencia de garant&iacute;a.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Impacto en el Negocio:</strong> Elimina el papeleo perdido. Asegura que nada se olvide en un trabajo de m&uacute;ltiples servicios. El seguimiento autom&aacute;tico de piezas previene mermas. El taller promedio ahorra <strong>2-3 horas/d&iacute;a</strong> en papeleo.</p>
      </div>
    </div>
  </div>

  <!-- 15. Seguimiento de Garant&iacute;as -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">&#128737;&#65039; Seguimiento de Garant&iacute;as</h4>
      <span class="text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full font-medium dark:bg-purple-900 dark:text-purple-300">Operaciones</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Rastrea garant&iacute;as de llantas vendidas (garant&iacute;as de vida &uacute;til, garant&iacute;as contra da&ntilde;os en carretera) y servicios realizados (garant&iacute;a de mano de obra de 90 d&iacute;as). Alertas autom&aacute;ticas cuando las garant&iacute;as est&aacute;n por vencer. Tarjetas de garant&iacute;a digitales enviadas a los clientes. Cuando un cliente llega con un reclamo de garant&iacute;a, b&uacute;squeda instant&aacute;nea de fecha de compra, kilometraje en la instalaci&oacute;n y t&eacute;rminos de garant&iacute;a.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Impacto en el Negocio:</strong> El seguimiento profesional de garant&iacute;as genera confianza y justifica precios premium. Las alertas de vencimiento de garant&iacute;a crean puntos de contacto naturales. Reduce disputas con documentaci&oacute;n clara.</p>
      </div>
    </div>
  </div>

  <!-- 16. Gesti&oacute;n de Proveedores -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">&#127981; Gesti&oacute;n de Proveedores</h4>
      <span class="text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full font-medium dark:bg-purple-900 dark:text-purple-300">Adquisiciones</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Gestiona todos los proveedores de llantas y piezas en un solo lugar. Compara precios entre distribuidores (ATD, US AutoForce, Tire Hub). Pedidos con un clic a proveedores preferidos. Rastrea estado de pedidos, fechas de entrega e historial de facturas. Seguimiento de descuentos por volumen para asegurar que alcanzas los niveles de reembolso. Gesti&oacute;n de devoluciones/defectos para reclamos a proveedores.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Impacto en el Negocio:</strong> La comparaci&oacute;n de precios ahorra un <strong>5-15% en costos de piezas</strong>. El seguimiento de niveles de reembolso asegura que no dejes dinero en la mesa. Los pedidos optimizados ahorran <strong>1-2 horas/d&iacute;a</strong> en llamadas telef&oacute;nicas a distribuidores.</p>
      </div>
    </div>
  </div>

  <!-- 17. Integraci&oacute;n Contable -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">&#128202; Integraci&oacute;n Contable y Financiera</h4>
      <span class="text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full font-medium dark:bg-purple-900 dark:text-purple-300">Finanzas</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Integraci&oacute;n directa con QuickBooks o Xero. Cada factura, pago, gasto y registro de n&oacute;mina se sincroniza autom&aacute;ticamente. Resumen diario de P&amp;L en el panel de administraci&oacute;n. Reportes fiscales para tarifas de disposici&oacute;n de llantas (Oregon DEQ). Reportes de fin de a&ntilde;o para el contador con un clic. Pron&oacute;stico de flujo de efectivo basado en citas programadas.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Impacto en el Negocio:</strong> Elimina errores de doble captura contable. Visibilidad financiera en tiempo real en lugar de esperar al cierre de mes. Ahorra <strong>10+ horas/mes</strong> en captura manual de datos. El cumplimiento fiscal se vuelve sin esfuerzo.</p>
      </div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- NIVEL 4: MARKETING Y CRECIMIENTO -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->

<div class="mb-10">
  <div class="flex items-center gap-3 mb-4">
    <span class="bg-orange-600 text-white text-xs font-bold px-3 py-1 rounded-full">NIVEL 4</span>
    <h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 dark:text-white">Marketing y Crecimiento</h2>
    <span class="text-sm text-gray-400 dark:text-gray-500 ml-auto">Atraer y retener</span>
  </div>

  <!-- 18. Marketing por Correo -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">&#128231; Marketing por Correo Electr&oacute;nico y Campa&ntilde;as</h4>
      <span class="text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded-full font-medium dark:bg-orange-900 dark:text-orange-300">Marketing</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Sistema de campa&ntilde;as de correo integrado. Env&iacute;a promociones de temporada (&ldquo;&iexcl;Especial de Llantas de Invierno!&rdquo;), recordatorios de servicio (&ldquo;Tu cambio de aceite est&aacute; pendiente&rdquo;) y actualizaciones de lealtad. Plantillas biling&uuml;es predise&ntilde;adas. Campa&ntilde;as automatizadas: serie de bienvenida para nuevos clientes, recuperaci&oacute;n de clientes inactivos, recordatorios de mantenimiento basados en edad/kilometraje del veh&iacute;culo. Seguimiento de aperturas/clics en el panel de administraci&oacute;n.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Impacto en el Negocio:</strong> El marketing por correo retorna <strong>$36 por cada $1 gastado</strong>. Los recordatorios de mantenimiento traen a los clientes de vuelta a tiempo. Las campa&ntilde;as de recuperaci&oacute;n recuperan el <strong>10-15%</strong> de clientes inactivos. Todo sin pagar por Mailchimp o Constant Contact.</p>
      </div>
    </div>
  </div>

  <!-- 19. Google Business y SEO Local -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">&#128205; Google Business y Suite de SEO Local</h4>
      <span class="text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded-full font-medium dark:bg-orange-900 dark:text-orange-300">SEO</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Gesti&oacute;n automatizada del Perfil de Google Business: publica actualizaciones, responde a rese&ntilde;as, actualiza horarios/fotos desde el panel de administraci&oacute;n. Herramientas de SEO local: schema markup para reparaci&oacute;n automotriz, p&aacute;ginas de ubicaci&oacute;n optimizadas para b&uacute;squedas de &ldquo;taller de llantas cerca de m&iacute;&rdquo;, gesti&oacute;n de citas en m&aacute;s de 50 directorios (Yelp, Yellow Pages, BBB). Reportes mensuales de SEO mostrando progreso en posicionamiento.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Impacto en el Negocio:</strong> El <strong>46% de las b&uacute;squedas de Google</strong> son locales. Estar en el top 3 de Google Maps = <strong>70% de los clics</strong>. NAP consistente (Nombre/Direcci&oacute;n/Tel&eacute;fono) en directorios mejora el posicionamiento. La publicaci&oacute;n autom&aacute;tica mantiene activo el perfil GBP, lo cual Google recompensa.</p>
      </div>
    </div>
  </div>

  <!-- 20. Promociones de Temporada -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">&#127810; Promociones de Temporada y Eventos</h4>
      <span class="text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded-full font-medium dark:bg-orange-900 dark:text-orange-300">Marketing</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Campa&ntilde;as de temporada automatizadas: recordatorios de cambio de llantas de invierno (Oct-Nov), revisi&oacute;n de viaje de verano (May-Jun), seguridad de regreso a clases (Ago), preparaci&oacute;n de viaje navide&ntilde;o (Dic). El admin puede crear promociones por tiempo limitado con temporizadores en el sitio web. Sistema de cupones con seguimiento de uso y fechas de vencimiento. Gesti&oacute;n de banners para promociones en la p&aacute;gina principal.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Impacto en el Negocio:</strong> Las campa&ntilde;as de temporada generan tr&aacute;fico durante per&iacute;odos lentos predecibles. Los inviernos lluviosos de Portland crean demanda natural de servicios de llantas &mdash; capturar esto con marketing oportuno puede aumentar los ingresos del Q4 en un <strong>20-35%</strong>.</p>
      </div>
    </div>
  </div>

  <!-- 21. Blog y Contenido Educativo -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">&#9997;&#65039; Blog y Centro de Contenido Educativo</h4>
      <span class="text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded-full font-medium dark:bg-orange-900 dark:text-orange-300">Contenido</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Un blog biling&uuml;e gestionado desde el panel de administraci&oacute;n. Publica art&iacute;culos como &ldquo;C&oacute;mo Saber Cu&aacute;ndo Necesitas Llantas Nuevas&rdquo;, &ldquo;5 Se&ntilde;ales de que Tus Frenos Necesitan Servicio&rdquo; o &ldquo;Consejos de Manejo en Invierno para Portland&rdquo;. Cada art&iacute;culo est&aacute; optimizado para SEO con schema markup. Genera tr&aacute;fico org&aacute;nico y posiciona a Oregon Tires como una autoridad confiable. El admin puede crear, programar y publicar art&iacute;culos con edici&oacute;n de texto enriquecido.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Impacto en el Negocio:</strong> El contenido educativo posiciona para cientos de palabras clave de cola larga. Cada publicaci&oacute;n del blog es un activo SEO permanente. Los negocios con blogs obtienen un <strong>55% m&aacute;s de visitantes</strong>. El contenido biling&uuml;e captura el mercado desatendido de b&uacute;squedas de automotriz en espa&ntilde;ol.</p>
      </div>
    </div>
  </div>

  <!-- 22. Integraci&oacute;n con Redes Sociales -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">&#128242; Integraci&oacute;n con Redes Sociales</h4>
      <span class="text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded-full font-medium dark:bg-orange-900 dark:text-orange-300">Marketing</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Conecta Facebook, Instagram y Google Business desde el panel de administraci&oacute;n. Publica im&aacute;genes de la galer&iacute;a, promociones y testimonios de clientes en todas las plataformas simult&aacute;neamente. Muestra un feed de redes sociales en vivo en el sitio web. Deslizador estilo Instagram de antes/despu&eacute;s para mostrar reparaciones. Genera autom&aacute;ticamente publicaciones sociales a partir de art&iacute;culos del blog y promociones.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Impacto en el Negocio:</strong> La presencia consistente en redes sociales aumenta el conocimiento de marca en un <strong>80%</strong>. Las fotos de antes/despu&eacute;s son el contenido de mayor engagement para talleres automotrices. La publicaci&oacute;n cruzada ahorra <strong>5+ horas/semana</strong> de trabajo manual en redes sociales.</p>
      </div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- NIVEL 5: FLOTAS Y SERVICIOS COMERCIALES -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->

<div class="mb-10">
  <div class="flex items-center gap-3 mb-4">
    <span class="bg-red-600 text-white text-xs font-bold px-3 py-1 rounded-full">NIVEL 5</span>
    <h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 dark:text-white">Flotas y Servicios Comerciales</h2>
    <span class="text-sm text-gray-400 dark:text-gray-500 ml-auto">Flujos de ingreso B2B</span>
  </div>

  <!-- 23. Portal de Flotas -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">&#128667; Portal de Gesti&oacute;n de Flotas</h4>
      <span class="text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full font-medium dark:bg-red-900 dark:text-red-300">Ingreso B2B</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Portal dedicado para clientes de flotas comerciales (empresas de entrega, cuadrillas de jardiner&iacute;a, taxis/rideshare). Cada cuenta de flota obtiene: gesti&oacute;n de lista de veh&iacute;culos, calendarios de mantenimiento programado, facturaci&oacute;n centralizada, precios por volumen y reportes de servicio de toda la flota. Los gerentes de flota pueden programar servicios para m&uacute;ltiples veh&iacute;culos, aprobar &oacute;rdenes de trabajo y ver reportes de gastos. Programaci&oacute;n prioritaria para veh&iacute;culos de flota.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Impacto en el Negocio:</strong> Un solo contrato de flota = <strong>$10,000-50,000+/a&ntilde;o</strong> en ingresos recurrentes. Los clientes de flotas son los m&aacute;s leales &mdash; los costos de cambio son altos. Portland tiene miles de camionetas de entrega, camiones de jardiner&iacute;a y veh&iacute;culos de rideshare que necesitan servicio regular de llantas.</p>
      </div>
    </div>
  </div>

  <!-- 24. Servicio M&oacute;vil -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">&#128656; Servicio M&oacute;vil de Llantas en Carretera</h4>
      <span class="text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full font-medium dark:bg-red-900 dark:text-red-300">Nuevo Mercado</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Exp&aacute;ndete m&aacute;s all&aacute; del taller con servicio m&oacute;vil de llantas. Los clientes solicitan cambio de llantas, reparaci&oacute;n de pinchazos o arrancadas en su ubicaci&oacute;n (casa, oficina, carretera). Camioneta de servicio rastreada por GPS con hora estimada de llegada. Reserva en l&iacute;nea con marcador de ubicaci&oacute;n. Precios fijos para servicios m&oacute;viles. Opci&oacute;n de emergencia 24/7 para aver&iacute;as en carretera. Inventario de la camioneta sincronizado con el inventario del taller.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Impacto en el Negocio:</strong> El servicio m&oacute;vil de llantas cobra un <strong>premium del 30-50% en precios</strong>. Captura clientes que no pueden visitar el taller (discapacitados, adultos mayores, profesionales ocupados). Este es un <strong>mercado en r&aacute;pido crecimiento</strong> &mdash; empresas como Wrench y YourMechanic demuestran la demanda.</p>
      </div>
    </div>
  </div>

  <!-- 25. Almacenamiento de Llantas -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">&#127968; Programa de Almacenamiento de Llantas por Temporada</h4>
      <span class="text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full font-medium dark:bg-red-900 dark:text-red-300">Ingreso Recurrente</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Ofrece almacenamiento de llantas por temporada: los clientes dejan sus llantas de invierno/verano y pagan una tarifa mensual o por temporada. Cuando cambia la temporada, reservan una cita de cambio. El sistema rastrea: condici&oacute;n de llantas almacenadas, profundidad de banda de rodadura al registrar, ubicaci&oacute;n de almacenamiento y notificaciones al cliente cuando llega la temporada de cambio. Ideal para clientes de Portland en departamentos sin garaje.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Impacto en el Negocio:</strong> <strong>$50-100/temporada por cliente</strong> en ingresos puros de almacenamiento. Visitas de regreso garantizadas 2 veces/a&ntilde;o para cambios. M&aacute;rgenes extremadamente altos con m&iacute;nima mano de obra. Los talleres canadienses reportan el almacenamiento como uno de sus <strong>servicios m&aacute;s rentables</strong>.</p>
      </div>
    </div>
  </div>

  <!-- 26. Facturaci&oacute;n Comercial -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">&#129534; Facturaci&oacute;n Comercial a 30 D&iacute;as</h4>
      <span class="text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full font-medium dark:bg-red-900 dark:text-red-300">B2B</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Facturaci&oacute;n a 30/60 d&iacute;as para cuentas comerciales aprobadas. Solicitudes de cr&eacute;dito procesadas en l&iacute;nea. Facturas mensuales consolidadas para clientes de flotas y empresas. Reportes de antig&uuml;edad, seguimiento de pagos y recordatorios autom&aacute;ticos de pagos atrasados. Soporte de n&uacute;meros de Orden de Compra (OC) para adquisiciones corporativas.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Impacto en el Negocio:</strong> La facturaci&oacute;n a 30 d&iacute;as es esperada por clientes de flotas y comerciales &mdash; no ofrecerla pierde negocios. Asegura relaciones comerciales a largo plazo. La facturaci&oacute;n consolidada reduce la carga administrativa para cuentas de alto volumen.</p>
      </div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- NIVEL 6: TECNOLOG&Iacute;A AVANZADA -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->

<div class="mb-10">
  <div class="flex items-center gap-3 mb-4">
    <span class="bg-indigo-600 text-white text-xs font-bold px-3 py-1 rounded-full">NIVEL 6</span>
    <h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 dark:text-white">Tecnolog&iacute;a Avanzada</h2>
    <span class="text-sm text-gray-400 dark:text-gray-500 ml-auto">Innovaciones a prueba de futuro</span>
  </div>

  <!-- 27-32: Features abbreviated for file size - using agent's complete translation -->
  <!-- 27. Diagn&oacute;sticos con IA -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">&#129302; Diagn&oacute;sticos y Recomendaciones con IA</h4>
      <span class="text-xs bg-indigo-100 text-indigo-700 px-2 py-1 rounded-full font-medium dark:bg-indigo-900 dark:text-indigo-300">Innovaci&oacute;n</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">IA que analiza el historial de servicio del veh&iacute;culo, kilometraje, condiciones de manejo (lluvia/carreteras de Portland) y recomendaciones del fabricante para predecir necesidades de mantenimiento futuras. &ldquo;Basado en su Honda Civic 2019 a 45,000 millas en Portland, recomendamos: cambio de l&iacute;quido de frenos, rotaci&oacute;n de llantas y filtro de aire de cabina.&rdquo; Enviado proactivamente a los clientes antes de que lo piensen.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Impacto en el Negocio:</strong> Las recomendaciones proactivas de mantenimiento generan <strong>2-3 veces m&aacute;s reservas</strong> que esperar a que los clientes llamen. Las predicciones de IA se sienten personales y con autoridad. Posiciona a Oregon Tires como un taller tecnol&oacute;gico que genuinamente se preocupa por la longevidad del veh&iacute;culo.</p>
      </div>
    </div>
  </div>

  <!-- 28. Esc&aacute;ner de Banda de Rodadura -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">&#128247; Esc&aacute;ner de Profundidad de Banda de Rodadura con IA</h4>
      <span class="text-xs bg-indigo-100 text-indigo-700 px-2 py-1 rounded-full font-medium dark:bg-indigo-900 dark:text-indigo-300">Innovaci&oacute;n</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Los clientes toman una foto de la banda de rodadura de su llanta con su tel&eacute;fono. La IA analiza la profundidad de la banda, patr&oacute;n de desgaste (desgaste central, desgaste en bordes, ahuecamiento) y estima la vida &uacute;til restante de la llanta. Recomienda instant&aacute;neamente llantas de reemplazo que se ajusten a su veh&iacute;culo de tu inventario. Tambi&eacute;n puede detectar problemas de alineaci&oacute;n por patrones de desgaste desigual.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Impacto en el Negocio:</strong> Convierte cada smartphone en una herramienta de ventas. Los clientes que ven la condici&oacute;n de su llanta visualmente tienen <strong>5 veces m&aacute;s probabilidad de comprar</strong>. Genera prospectos precalificados &mdash; los clientes llegan ya sabiendo que necesitan llantas.</p>
      </div>
    </div>
  </div>

  <!-- 29. Asistente de Chat -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">&#128172; Asistente de Chat Biling&uuml;e con IA</h4>
      <span class="text-xs bg-indigo-100 text-indigo-700 px-2 py-1 rounded-full font-medium dark:bg-indigo-900 dark:text-indigo-300">Automatizaci&oacute;n</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Un chatbot de IA en el sitio web que responde preguntas de clientes 24/7 en ingl&eacute;s y espa&ntilde;ol. Maneja consultas comunes: &ldquo;&iquest;Cu&aacute;l es el precio de un cambio de aceite?&rdquo; &ldquo;&iquest;Tienen llantas 225/65R17 en existencia?&rdquo; &ldquo;&iquest;Puedo reservar para el s&aacute;bado?&rdquo; Transfiere sin problemas a un humano v&iacute;a SMS cuando no puede responder. Todas las conversaciones se registran y analizan.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Impacto en el Negocio:</strong> Captura prospectos fuera del horario comercial (noches y fines de semana = <strong>40% del tr&aacute;fico web</strong>). Responde las mismas 20 preguntas que consumen tiempo telef&oacute;nico. La capacidad biling&uuml;e sirve a toda la base de clientes sin requerir personal biling&uuml;e 24/7.</p>
      </div>
    </div>
  </div>

  <!-- 30. Integraci&oacute;n OBD-II -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">&#128268; Integraci&oacute;n de Diagn&oacute;stico Vehicular OBD-II</h4>
      <span class="text-xs bg-indigo-100 text-indigo-700 px-2 py-1 rounded-full font-medium dark:bg-indigo-900 dark:text-indigo-300">T&eacute;cnico</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Conecta un lector OBD-II Bluetooth para obtener c&oacute;digos de diagn&oacute;stico (DTCs), datos de sensores en vivo y datos de congelaci&oacute;n. Se autompleta en la orden de trabajo. Explica c&oacute;digos en lenguaje sencillo para los clientes. Hace referencia cruzada con base de datos de reparaciones para estimar el costo de la reparaci&oacute;n. Seguimiento hist&oacute;rico de DTCs por veh&iacute;culo. Verificaciones de preparaci&oacute;n de emisiones para pruebas de Oregon DEQ.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Impacto en el Negocio:</strong> Acelera los diagn&oacute;sticos en un <strong>50%</strong>. Elimina las suposiciones. Las explicaciones en lenguaje sencillo generan confianza del cliente. Las verificaciones de preparaci&oacute;n de emisiones son una <strong>venta adicional natural</strong> en Oregon donde se requieren pruebas de emisiones.</p>
      </div>
    </div>
  </div>

  <!-- 31. Aplicaci&oacute;n M&oacute;vil -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">&#128241; Aplicaci&oacute;n M&oacute;vil del Cliente (PWA)</h4>
      <span class="text-xs bg-indigo-100 text-indigo-700 px-2 py-1 rounded-full font-medium dark:bg-indigo-900 dark:text-indigo-300">Plataforma</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Una Progressive Web App (PWA) que funciona como una app nativa sin tarifas de app store. Se instala desde el sitio web con un toque. Funciones: reserva de citas, rastreador de servicio, puntos de lealtad, recibos digitales, notificaciones push para recordatorios y el esc&aacute;ner de banda de rodadura. Funciona sin conexi&oacute;n para ver historial de servicios y recibos. Biling&uuml;e con auto-detecci&oacute;n.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Impacto en el Negocio:</strong> Las notificaciones push tienen <strong>7 veces m&aacute;s engagement</strong> que el correo electr&oacute;nico. Una app en el tel&eacute;fono del cliente = recordaci&oacute;n de marca constante. La PWA cuesta un <strong>90% menos</strong> que el desarrollo nativo iOS/Android mientras ofrece una experiencia similar.</p>
      </div>
    </div>
  </div>

  <!-- 32. Se&ntilde;alizaci&oacute;n Digital -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">&#128421;&#65039; Se&ntilde;alizaci&oacute;n Digital en Tienda</h4>
      <span class="text-xs bg-indigo-100 text-indigo-700 px-2 py-1 rounded-full font-medium dark:bg-indigo-900 dark:text-indigo-300">En Tienda</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Smart TVs en la sala de espera controlados desde el panel de administraci&oacute;n. Muestran: promociones actuales, tablero de estado de servicio (&ldquo;Veh&iacute;culo #3 &mdash; En Servicio&rdquo;), tiempos de espera, galer&iacute;a de trabajos completados, feed de rese&ntilde;as de Google, consejos de temporada y contenido biling&uuml;e. Gestionado de forma remota &mdash; actualiza el contenido desde cualquier lugar sin tocar la pantalla f&iacute;sica.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Impacto en el Negocio:</strong> Los televisores en la sala de espera aumentan la aceptaci&oacute;n de ventas adicionales en un <strong>15-20%</strong> (los clientes ven servicios que no sab&iacute;an que exist&iacute;an). Reduce el tiempo de espera percibido. La se&ntilde;alizaci&oacute;n profesional eleva la percepci&oacute;n de marca del taller.</p>
      </div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- CAPACIDADES ADICIONALES -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->

<div class="mb-10">
  <div class="flex items-center gap-3 mb-4">
    <span class="bg-gray-600 text-white text-xs font-bold px-3 py-1 rounded-full">BONUS</span>
    <h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 dark:text-white">Capacidades Adicionales</h2>
    <span class="text-sm text-gray-400 dark:text-gray-500 ml-auto">Plataforma completa</span>
  </div>

  <!-- 33. Multi-Sucursal -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">&#127978; Gesti&oacute;n Multi-Sucursal</h4>
      <span class="text-xs bg-gray-200 text-gray-700 px-2 py-1 rounded-full font-medium dark:bg-gray-600 dark:text-gray-200">Escalabilidad</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Cuando Oregon Tires se expanda a una segunda (o tercera) sucursal, el panel gestiona todos los talleres desde un solo tablero. Empleados, inventario, citas y anal&iacute;ticas por sucursal. Inventario compartido entre sucursales (&ldquo;no tenemos esa llanta aqu&iacute;, pero nuestra sucursal de East Portland s&iacute;&rdquo;). Reportes consolidados de todas las sucursales.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Impacto en el Negocio:</strong> La escalabilidad integrada significa <strong>cero reconstrucciones tecnol&oacute;gicas</strong> al expandirse. El inventario entre sucursales previene ventas perdidas. Las anal&iacute;ticas unificadas dan una vista panor&aacute;mica de todo el negocio.</p>
      </div>
    </div>
  </div>

  <!-- 34-40: Remaining bonus features -->
  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">&#9851;&#65039; Cumplimiento Ambiental y Reciclaje de Llantas</h4>
      <span class="text-xs bg-gray-200 text-gray-700 px-2 py-1 rounded-full font-medium dark:bg-gray-600 dark:text-gray-200">Cumplimiento</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Rastrea la disposici&oacute;n y reciclaje de llantas para cumplimiento con Oregon DEQ. Registra cada llanta recibida y desechada: fecha, cantidad, proveedor de disposici&oacute;n y n&uacute;meros de manifiesto. Calcula autom&aacute;ticamente las tarifas de disposici&oacute;n. Genera reportes de cumplimiento para inspecciones. Rastrea reciclaje de aceite usado, refrigerante y bater&iacute;as. Transparencia de tarifas ambientales en facturas.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Impacto en el Negocio:</strong> Oregon tiene regulaciones ambientales estrictas para talleres. El seguimiento digital elimina el riesgo de <strong>multas de $500-10,000</strong>. La marca ecol&oacute;gica atrae a los consumidores ambientalmente conscientes de Portland.</p>
      </div>
    </div>
  </div>

  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">&#128218; Capacitaci&oacute;n de Empleados y Base de Conocimiento</h4>
      <span class="text-xs bg-gray-200 text-gray-700 px-2 py-1 rounded-full font-medium dark:bg-gray-600 dark:text-gray-200">RH</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Base de conocimiento interna para t&eacute;cnicos: especificaciones de torque, tablas de ajuste de llantas, capacidades de fluidos, intervalos de servicio del fabricante y gu&iacute;as de soluci&oacute;n de problemas. Listas de verificaci&oacute;n de incorporaci&oacute;n y m&oacute;dulos de capacitaci&oacute;n. Procedimientos de seguridad y documentaci&oacute;n de cumplimiento. Buscable desde cualquier dispositivo. Se actualiza centralmente cuando cambian los procedimientos.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Impacto en el Negocio:</strong> Reduce el tiempo de capacitaci&oacute;n en un <strong>50%</strong>. Elimina errores de &ldquo;no sab&iacute;a&rdquo;. Estandariza la calidad entre todos los t&eacute;cnicos. Un taller bien documentado logra mayor retenci&oacute;n de empleados.</p>
      </div>
    </div>
  </div>

  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">&#128200; Anal&iacute;ticas Avanzadas e Inteligencia de Negocios</h4>
      <span class="text-xs bg-gray-200 text-gray-700 px-2 py-1 rounded-full font-medium dark:bg-gray-600 dark:text-gray-200">Perspectivas</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Ve m&aacute;s all&aacute; de los conteos b&aacute;sicos. Gr&aacute;ficos interactivos y tableros: ingresos por tipo de servicio, costo de adquisici&oacute;n de clientes, valor de por vida del cliente, horas/d&iacute;as m&aacute;s ocupados (mapa de calor), tasa de utilizaci&oacute;n de t&eacute;cnicos, tendencias del valor promedio de reparaci&oacute;n, mezcla de ventas por marca de llanta, pron&oacute;stico de demanda estacional y ROI de campa&ntilde;as. Exporta reportes como PDF o CSV.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Impacto en el Negocio:</strong> Las decisiones basadas en datos superan consistentemente la intuici&oacute;n. Sabe exactamente qu&eacute; servicios son m&aacute;s rentables, qu&eacute; canales de marketing funcionan y d&oacute;nde invertir. Los negocios que usan anal&iacute;ticas crecen un <strong>30% m&aacute;s r&aacute;pido</strong>.</p>
      </div>
    </div>
  </div>

  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">&#128663; Historial de Veh&iacute;culos y CRM</h4>
      <span class="text-xs bg-gray-200 text-gray-700 px-2 py-1 rounded-full font-medium dark:bg-gray-600 dark:text-gray-200">CRM</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Gesti&oacute;n completa de relaciones con clientes: cada cliente tiene un perfil con informaci&oacute;n de contacto, todos sus veh&iacute;culos (a&ntilde;o/marca/modelo/VIN), historial completo de servicios por veh&iacute;culo, registro de comunicaciones, puntos de lealtad y totales de gasto. Cuando un cliente llama, consulta su perfil instant&aacute;neamente. Rastrea preferencias del cliente (m&eacute;todo de comunicaci&oacute;n preferido, idioma, t&eacute;cnico preferido).</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Impacto en el Negocio:</strong> El servicio personalizado impulsa la lealtad. &ldquo;Bienvenida de nuevo Mar&iacute;a, la &uacute;ltima vez que atendimos su RAV4 2020 notamos que sus frenos traseros estaban al 40% &mdash; &iquest;quiere que los revisemos hoy?&rdquo; Este nivel de servicio es <strong>imposible sin un CRM</strong> y crea clientes de por vida.</p>
      </div>
    </div>
  </div>

  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">&#128197;&#65039; Programaci&oacute;n Inteligente y Optimizaci&oacute;n de Bah&iacute;as</h4>
      <span class="text-xs bg-gray-200 text-gray-700 px-2 py-1 rounded-full font-medium dark:bg-gray-600 dark:text-gray-200">Eficiencia</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Programaci&oacute;n optimizada por IA que considera: duraci&oacute;n del servicio, habilidades del t&eacute;cnico, disponibilidad de bah&iacute;as, disponibilidad de piezas y prioridad del cliente (flota vs. particular). Tablero del d&iacute;a con arrastrar y soltar. Protecci&oacute;n autom&aacute;tica contra sobre-reserva. Gesti&oacute;n de lista de espera para d&iacute;as llenos. Codificado por colores. Integraci&oacute;n con disponibilidad/d&iacute;as libres de empleados.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Impacto en el Negocio:</strong> La programaci&oacute;n optimizada aumenta la utilizaci&oacute;n de bah&iacute;as en un <strong>20-30%</strong>, m&aacute;s carros atendidos por d&iacute;a con el mismo personal. Reduce el tiempo muerto. Previene la doble reserva y la falta de personal.</p>
      </div>
    </div>
  </div>

  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">&#128176; Cotizador y Estimador Instant&aacute;neo</h4>
      <span class="text-xs bg-gray-200 text-gray-700 px-2 py-1 rounded-full font-medium dark:bg-gray-600 dark:text-gray-200">Ventas</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">Los clientes ingresan su veh&iacute;culo y servicio para recibir una estimaci&oacute;n instant&aacute;nea en el sitio web. Los asesores crean cotizaciones profesionales con piezas y mano de obra desglosadas. Las cotizaciones se env&iacute;an por correo/SMS con un bot&oacute;n de &ldquo;Aprobar y Programar&rdquo;. Rastrea tasas de conversi&oacute;n. Opciones bueno/mejor/&oacute;ptimo para llantas.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Impacto en el Negocio:</strong> Las estimaciones instant&aacute;neas capturan un <strong>60% m&aacute;s de prospectos</strong> que &ldquo;llame para precios.&rdquo; Las opciones bueno/mejor/&oacute;ptimo aumentan la venta promedio en un <strong>25%</strong>. La aprobaci&oacute;n con un clic elimina fricci&oacute;n del proceso de compra.</p>
      </div>
    </div>
  </div>

  <div class="border border-gray-200 rounded-lg mb-4 dark:border-gray-700">
    <div class="bg-gray-50 px-5 py-3 rounded-t-lg flex items-center justify-between dark:bg-gray-700">
      <h4 class="font-bold text-gray-800 dark:text-white">&#127758; Soporte de Idiomas Expandido</h4>
      <span class="text-xs bg-gray-200 text-gray-700 px-2 py-1 rounded-full font-medium dark:bg-gray-600 dark:text-gray-200">Accesibilidad</span>
    </div>
    <div class="px-5 py-4">
      <p class="text-gray-600 mb-3 dark:text-gray-300">M&aacute;s all&aacute; del ingl&eacute;s y el espa&ntilde;ol: agrega ruso, vietnamita, chino y otros idiomas hablados en las diversas comunidades de Portland. El panel permite agregar cualquier idioma con gesti&oacute;n de traducciones. Detecci&oacute;n de idioma basada en configuraci&oacute;n del navegador. Todo el contenido, correos, SMS y facturas respetan el idioma preferido del cliente.</p>
      <div class="bg-blue-50 border-l-4 border-blue-400 p-3 rounded dark:bg-blue-900/20 dark:border-blue-600">
        <p class="text-sm text-blue-800 dark:text-blue-300"><strong>Impacto en el Negocio:</strong> Portland es una de las ciudades m&aacute;s ling&uuml;&iacute;sticamente diversas de los EE.UU. Atender a los clientes en su idioma nativo crea una <strong>lealtad feroz</strong> y captura segmentos de mercado que los competidores ignoran por completo.</p>
      </div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- ORDEN DE IMPLEMENTACI&Oacute;N -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->

<hr class="border-t-2 border-green-200 my-10 dark:border-green-900">

<div class="mb-10">
  <h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 mb-6 dark:text-white">&#128197; Orden de Implementaci&oacute;n Recomendado</h2>
  <p class="text-gray-600 mb-6 dark:text-gray-300">Las funciones est&aacute;n ordenadas por <strong>relaci&oacute;n impacto-esfuerzo</strong> &mdash; las funciones con mayor ROI primero.</p>

  <div class="space-y-4">
    <div class="bg-green-50 border border-green-200 rounded-lg p-4 dark:bg-green-900/20 dark:border-green-800">
      <div class="flex items-center gap-2 mb-2">
        <span class="bg-green-600 text-white text-xs font-bold px-2 py-1 rounded">FASE 1</span>
        <span class="font-bold text-green-800 dark:text-green-300">Ganancias R&aacute;pidas e Impulsores de Ingresos</span>
      </div>
      <ul class="text-sm text-gray-700 space-y-1 ml-4 list-disc dark:text-gray-300">
        <li>Paquetes de Servicio y Precios Transparentes</li>
        <li>Comunicaci&oacute;n SMS/Texto (Twilio)</li>
        <li>Gesti&oacute;n de Rese&ntilde;as y Reputaci&oacute;n</li>
        <li>Pagos en L&iacute;nea (Stripe)</li>
        <li>Google Business y SEO Local</li>
      </ul>
    </div>

    <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 dark:bg-blue-900/20 dark:border-blue-800">
      <div class="flex items-center gap-2 mb-2">
        <span class="bg-blue-600 text-white text-xs font-bold px-2 py-1 rounded">FASE 2</span>
        <span class="font-bold text-blue-800 dark:text-blue-300">Experiencia del Cliente y Retenci&oacute;n</span>
      </div>
      <ul class="text-sm text-gray-700 space-y-1 ml-4 list-disc dark:text-gray-300">
        <li>Portal de Autoservicio del Cliente</li>
        <li>Inspecciones Digitales de Veh&iacute;culos (IDV)</li>
        <li>Programa de Lealtad y Recompensas</li>
        <li>Motor de Referidos</li>
        <li>Campa&ntilde;as de Marketing por Correo Electr&oacute;nico</li>
      </ul>
    </div>

    <div class="bg-purple-50 border border-purple-200 rounded-lg p-4 dark:bg-purple-900/20 dark:border-purple-800">
      <div class="flex items-center gap-2 mb-2">
        <span class="bg-purple-600 text-white text-xs font-bold px-2 py-1 rounded">FASE 3</span>
        <span class="font-bold text-purple-800 dark:text-purple-300">Operaciones y Eficiencia</span>
      </div>
      <ul class="text-sm text-gray-700 space-y-1 ml-4 list-disc dark:text-gray-300">
        <li>Gesti&oacute;n de Inventario de Llantas y Refacciones</li>
        <li>&Oacute;rdenes de Trabajo Digitales</li>
        <li>Cotizador y Estimador Instant&aacute;neo</li>
        <li>Programaci&oacute;n Inteligente y Optimizaci&oacute;n de Bah&iacute;as</li>
        <li>Historial de Veh&iacute;culos y CRM</li>
      </ul>
    </div>

    <div class="bg-orange-50 border border-orange-200 rounded-lg p-4 dark:bg-orange-900/20 dark:border-orange-800">
      <div class="flex items-center gap-2 mb-2">
        <span class="bg-orange-600 text-white text-xs font-bold px-2 py-1 rounded">FASE 4</span>
        <span class="font-bold text-orange-800 dark:text-orange-300">Crecimiento y Comercial</span>
      </div>
      <ul class="text-sm text-gray-700 space-y-1 ml-4 list-disc dark:text-gray-300">
        <li>Tienda de Llantas en L&iacute;nea (E-Commerce)</li>
        <li>Portal de Gesti&oacute;n de Flotas</li>
        <li>Programa de Almacenamiento de Llantas por Temporada</li>
        <li>Blog y Contenido Educativo</li>
        <li>Integraci&oacute;n con Redes Sociales</li>
      </ul>
    </div>

    <div class="bg-indigo-50 border border-indigo-200 rounded-lg p-4 dark:bg-indigo-900/20 dark:border-indigo-800">
      <div class="flex items-center gap-2 mb-2">
        <span class="bg-indigo-600 text-white text-xs font-bold px-2 py-1 rounded">FASE 5</span>
        <span class="font-bold text-indigo-800 dark:text-indigo-300">Tecnolog&iacute;a Avanzada</span>
      </div>
      <ul class="text-sm text-gray-700 space-y-1 ml-4 list-disc dark:text-gray-300">
        <li>Diagn&oacute;sticos y Recomendaciones con IA</li>
        <li>Esc&aacute;ner de Banda de Rodadura con IA</li>
        <li>Asistente de Chat Biling&uuml;e con IA</li>
        <li>Aplicaci&oacute;n M&oacute;vil del Cliente (PWA)</li>
        <li>Rastreador de Servicio en Tiempo Real</li>
        <li>Se&ntilde;alizaci&oacute;n Digital en Tienda</li>
      </ul>
    </div>

    <div class="bg-gray-50 border border-gray-200 rounded-lg p-4 dark:bg-gray-700 dark:border-gray-600">
      <div class="flex items-center gap-2 mb-2">
        <span class="bg-gray-600 text-white text-xs font-bold px-2 py-1 rounded">FASE 6</span>
        <span class="font-bold text-gray-800 dark:text-gray-200">Escalar y Optimizar</span>
      </div>
      <ul class="text-sm text-gray-700 space-y-1 ml-4 list-disc dark:text-gray-300">
        <li>Gesti&oacute;n Multi-Sucursal</li>
        <li>Anal&iacute;ticas Avanzadas e Inteligencia de Negocios</li>
        <li>Integraci&oacute;n OBD-II</li>
        <li>Integraci&oacute;n Contable (QuickBooks)</li>
        <li>Capacitaci&oacute;n de Empleados y Base de Conocimiento</li>
        <li>Seguimiento de Cumplimiento Ambiental</li>
        <li>Soporte de Idiomas Expandido</li>
      </ul>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- VENTAJA COMPETITIVA -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->

<hr class="border-t-2 border-green-200 my-10 dark:border-green-900">

<div class="mb-10">
  <h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100 mb-4 dark:text-white">&#127942; Resumen de Ventaja Competitiva</h2>
  <p class="text-gray-600 mb-6 dark:text-gray-300">Esto es lo que Oregon Tires tendr&aacute; que <strong>ning&uacute;n otro taller de llantas en la 82nd Ave</strong> (o la mayor&iacute;a de Portland) ofrece:</p>

  <div class="grid md:grid-cols-2 gap-4">
    <div class="bg-gradient-to-br from-green-50 to-green-100 border border-green-200 rounded-lg p-4 dark:from-green-900/20 dark:to-green-900/10 dark:border-green-800">
      <h4 class="font-bold text-green-800 mb-2 dark:text-green-300">Lo que la Mayor&iacute;a de Talleres Tienen</h4>
      <ul class="text-sm text-gray-600 space-y-1 dark:text-gray-400">
        <li>&#10060; Sistemas basados en papel</li>
        <li>&#10060; Reservas solo por tel&eacute;fono</li>
        <li>&#10060; Sin presencia en l&iacute;nea m&aacute;s all&aacute; de un listado</li>
        <li>&#10060; Conteo manual de inventario</li>
        <li>&#10060; Solo efectivo/tarjeta en el mostrador</li>
        <li>&#10060; Sin comunicaci&oacute;n con el cliente despu&eacute;s del servicio</li>
      </ul>
    </div>
    <div class="bg-gradient-to-br from-amber-50 to-green-50 border border-green-300 rounded-lg p-4 dark:from-amber-900/20 dark:to-green-900/10 dark:border-green-700">
      <h4 class="font-bold text-green-800 mb-2 dark:text-green-300">Lo que Oregon Tires Tendr&aacute;</h4>
      <ul class="text-sm text-gray-600 space-y-1 dark:text-gray-400">
        <li>&#10004; Operaciones y &oacute;rdenes de trabajo completamente digitales</li>
        <li>&#10004; Reservas en l&iacute;nea, pagos y compra de llantas</li>
        <li>&#10004; Sitio web, SMS, correo electr&oacute;nico y chat con IA biling&uuml;es</li>
        <li>&#10004; Inventario en tiempo real con reorden autom&aacute;tico</li>
        <li>&#10004; Pagos en l&iacute;nea, financiamiento y facturaci&oacute;n de flotas</li>
        <li>&#10004; Seguimientos autom&aacute;ticos, rese&ntilde;as y lealtad</li>
      </ul>
    </div>
  </div>
</div>

<!-- Pie de P&aacute;gina -->
<hr class="border-t border-gray-200 my-8 dark:border-gray-700">
<div class="text-center text-gray-400 text-sm dark:text-gray-500">
  <p class="mb-1">Oregon Tires Auto Care &bull; 8536 SE 82nd Ave, Portland, OR 97266</p>
  <p class="mb-3">Preparado por el Equipo de Desarrollo &bull; Febrero 2026</p>
  <p class="text-xs italic">Este documento es una hoja de ruta viva. Las funciones pueden ser priorizadas, combinadas o modificadas seg&uacute;n las necesidades del negocio y la retroalimentaci&oacute;n de los clientes. Cada funci&oacute;n est&aacute; dise&ntilde;ada para construirse incrementalmente sobre la plataforma existente.</p>
</div>

</div>
<!-- FIN DOCUMENTO DE HOJA DE RUTA EN ESPA&Ntilde;OL -->
</div>

        </div>

        </div>

      </div>
    </div>

    <!-- SITE CONTENT TAB -->
    <div id="tab-sitecontent" class="tab-content hidden fade-in">
      <div class="bg-brand-light text-white px-6 py-4 rounded-t-xl flex justify-between items-center">
        <div><h2 class="text-2xl font-bold">üìù <span data-t="siteContentHeading">Site Content</span></h2><p class="text-green-100" data-t="siteContentSubtitle">Edit business info displayed on the website</p></div>
        <button onclick="loadSiteSettings()" class="bg-white/20 text-white px-4 py-2 rounded-lg text-sm hover:bg-white/30">‚Üª Refresh</button>
      </div>
      <div class="bg-white rounded-b-xl shadow p-6 dark:bg-gray-800">
        <p class="text-sm text-gray-500 dark:text-gray-400 mb-6" data-t="siteContentDesc">Changes here update the public website in real time. Each setting has an English and Spanish value.</p>
        <div id="settings-last-updated" class="text-xs text-gray-400 dark:text-gray-500 mb-4"></div>

        <div class="space-y-6">
          <!-- Phone -->
          <div class="grid md:grid-cols-3 gap-4 items-start">
            <label class="font-medium text-sm pt-2 dark:text-gray-300" data-t="settingPhone">Phone Number</label>
            <div><label class="text-xs text-gray-400 dark:text-gray-500">EN</label><input id="setting-phone-en" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600" placeholder="(503) 367-9714"></div>
            <div><label class="text-xs text-gray-400 dark:text-gray-500">ES</label><input id="setting-phone-es" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600" placeholder="(503) 367-9714"></div>
          </div>
          <!-- Email -->
          <div class="grid md:grid-cols-3 gap-4 items-start">
            <label class="font-medium text-sm pt-2 dark:text-gray-300" data-t="settingEmail">Email Address</label>
            <div><label class="text-xs text-gray-400 dark:text-gray-500">EN</label><input id="setting-email-en" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600" placeholder="oregontirespdx@gmail.com"></div>
            <div><label class="text-xs text-gray-400 dark:text-gray-500">ES</label><input id="setting-email-es" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600" placeholder="oregontirespdx@gmail.com"></div>
          </div>
          <!-- Address -->
          <div class="grid md:grid-cols-3 gap-4 items-start">
            <label class="font-medium text-sm pt-2 dark:text-gray-300" data-t="settingAddress">Address</label>
            <div><label class="text-xs text-gray-400 dark:text-gray-500">EN</label><input id="setting-address-en" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600" placeholder="8536 SE 82nd Ave, Portland, OR 97266"></div>
            <div><label class="text-xs text-gray-400 dark:text-gray-500">ES</label><input id="setting-address-es" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600" placeholder="8536 SE 82nd Ave, Portland, OR 97266"></div>
          </div>
          <!-- Hours Weekday -->
          <div class="grid md:grid-cols-3 gap-4 items-start">
            <label class="font-medium text-sm pt-2 dark:text-gray-300" data-t="settingHoursWeekday">Weekday Hours</label>
            <div><label class="text-xs text-gray-400 dark:text-gray-500">EN</label><input id="setting-hours_weekday-en" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600" placeholder="Mon-Sat 7AM-7PM"></div>
            <div><label class="text-xs text-gray-400 dark:text-gray-500">ES</label><input id="setting-hours_weekday-es" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600" placeholder="Lun-Sab 7AM-7PM"></div>
          </div>
          <!-- Hours Sunday -->
          <div class="grid md:grid-cols-3 gap-4 items-start">
            <label class="font-medium text-sm pt-2 dark:text-gray-300" data-t="settingHoursSunday">Sunday Hours</label>
            <div><label class="text-xs text-gray-400 dark:text-gray-500">EN</label><input id="setting-hours_sunday-en" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600" placeholder="Sunday: Closed"></div>
            <div><label class="text-xs text-gray-400 dark:text-gray-500">ES</label><input id="setting-hours_sunday-es" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600" placeholder="Domingo: Cerrado"></div>
          </div>
          <!-- Rating Value -->
          <div class="grid md:grid-cols-3 gap-4 items-start">
            <label class="font-medium text-sm pt-2 dark:text-gray-300" data-t="settingRatingValue">Rating Value</label>
            <div><label class="text-xs text-gray-400 dark:text-gray-500">EN</label><input id="setting-rating_value-en" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600" placeholder="4.8"></div>
            <div><label class="text-xs text-gray-400 dark:text-gray-500">ES</label><input id="setting-rating_value-es" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600" placeholder="4.8"></div>
          </div>
          <!-- Review Count -->
          <div class="grid md:grid-cols-3 gap-4 items-start">
            <label class="font-medium text-sm pt-2 dark:text-gray-300" data-t="settingReviewCount">Review Count</label>
            <div><label class="text-xs text-gray-400 dark:text-gray-500">EN</label><input id="setting-review_count-en" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600" placeholder="150+"></div>
            <div><label class="text-xs text-gray-400 dark:text-gray-500">ES</label><input id="setting-review_count-es" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600" placeholder="150+"></div>
          </div>
        </div>

        <!-- Integrations -->
        <div class="mt-8 border-t pt-6">
          <h4 class="text-lg font-bold text-gray-700 dark:text-gray-200 mb-4">Integrations</h4>
          <div class="grid md:grid-cols-3 gap-4 items-start">
            <label class="font-medium text-sm pt-2 dark:text-gray-300">Google Analytics ID</label>
            <div class="md:col-span-2">
              <input id="setting-google_analytics_id-en" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600 font-mono" placeholder="G-CHYMTNB6LH" pattern="^G-[A-Z0-9]{6,12}$" oninput="document.getElementById('setting-google_analytics_id-es').value=this.value">
              <input type="hidden" id="setting-google_analytics_id-es">
              <p class="text-xs text-gray-400 dark:text-gray-500 mt-1">GA4 Measurement ID (e.g. G-CHYMTNB6LH). Same value for both languages.</p>
            </div>
          </div>
        </div>

        <div class="mt-6 flex justify-end">
          <button id="save-site-settings" onclick="saveSiteSettings()" class="bg-brand text-white px-6 py-3 rounded-lg font-semibold hover:opacity-90 transition" data-t="saveSiteSettings">Save Site Settings</button>
        </div>

        <!-- EMAIL TEMPLATES SECTION -->
        <div class="mt-10 border-t pt-8">
          <div class="flex justify-between items-center mb-4">
            <div>
              <h3 class="text-xl font-bold text-gray-800 dark:text-gray-100">üìß Email Templates / Plantillas de Correo</h3>
              <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">Edit the bilingual email templates sent to admins. Use <code class="bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-xs font-mono">{{variable}}</code> placeholders for dynamic data.</p>
            </div>
            <button onclick="loadEmailTemplates()" class="bg-white/80 border px-3 py-1.5 rounded-lg text-sm hover:bg-gray-50">‚Üª Refresh</button>
          </div>

          <!-- Template Tabs -->
          <div class="flex gap-2 mb-6 border-b pb-3">
            <button onclick="switchEmailTplTab('welcome')" id="etpl-tab-welcome" class="px-4 py-2 rounded-lg text-sm font-medium bg-blue-600 text-white">üì® Welcome Invite</button>
            <button onclick="switchEmailTplTab('reset')" id="etpl-tab-reset" class="px-4 py-2 rounded-lg text-sm font-medium border hover:bg-gray-50">üîë Password Reset</button>
            <button onclick="switchEmailTplTab('contact')" id="etpl-tab-contact" class="px-4 py-2 rounded-lg text-sm font-medium border hover:bg-gray-50">üì¨ Contact Notification</button>
          </div>

          <!-- Welcome Template -->
          <div id="etpl-welcome" class="etpl-panel">
            <div class="bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3 mb-4">
              <p class="text-xs font-medium text-blue-700 dark:text-blue-300">Available variables: <code>{{name}}</code> <code>{{role}}</code> <code>{{setup_url}}</code> <code>{{expiry_days}}</code> <code>{{email}}</code></p>
            </div>
            <div class="space-y-4">
              <div class="grid md:grid-cols-3 gap-4 items-start">
                <label class="font-medium text-sm pt-2 dark:text-gray-300">Subject Line</label>
                <div><label class="text-xs text-gray-400 dark:text-gray-500">üá∫üá∏ EN</label><input id="etpl-welcome-subject-en" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600 text-sm"></div>
                <div><label class="text-xs text-gray-400 dark:text-gray-500">üá≤üáΩ ES</label><input id="etpl-welcome-subject-es" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600 text-sm"></div>
              </div>
              <div class="grid md:grid-cols-3 gap-4 items-start">
                <label class="font-medium text-sm pt-2 dark:text-gray-300">Greeting</label>
                <div><label class="text-xs text-gray-400 dark:text-gray-500">üá∫üá∏ EN</label><input id="etpl-welcome-greeting-en" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600 text-sm"></div>
                <div><label class="text-xs text-gray-400 dark:text-gray-500">üá≤üáΩ ES</label><input id="etpl-welcome-greeting-es" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600 text-sm"></div>
              </div>
              <div class="grid md:grid-cols-3 gap-4 items-start">
                <label class="font-medium text-sm pt-2 dark:text-gray-300">Body Text</label>
                <div><label class="text-xs text-gray-400 dark:text-gray-500">üá∫üá∏ EN</label><textarea id="etpl-welcome-body-en" rows="3" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600 text-sm"></textarea></div>
                <div><label class="text-xs text-gray-400 dark:text-gray-500">üá≤üáΩ ES</label><textarea id="etpl-welcome-body-es" rows="3" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600 text-sm"></textarea></div>
              </div>
              <div class="grid md:grid-cols-3 gap-4 items-start">
                <label class="font-medium text-sm pt-2 dark:text-gray-300">Button Text</label>
                <div><label class="text-xs text-gray-400 dark:text-gray-500">üá∫üá∏ EN</label><input id="etpl-welcome-button-en" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600 text-sm"></div>
                <div><label class="text-xs text-gray-400 dark:text-gray-500">üá≤üáΩ ES</label><input id="etpl-welcome-button-es" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600 text-sm"></div>
              </div>
              <div class="grid md:grid-cols-3 gap-4 items-start">
                <label class="font-medium text-sm pt-2 dark:text-gray-300">Footer / Expiry</label>
                <div><label class="text-xs text-gray-400 dark:text-gray-500">üá∫üá∏ EN</label><textarea id="etpl-welcome-footer-en" rows="2" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600 text-sm"></textarea></div>
                <div><label class="text-xs text-gray-400 dark:text-gray-500">üá≤üáΩ ES</label><textarea id="etpl-welcome-footer-es" rows="2" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600 text-sm"></textarea></div>
              </div>
            </div>
          </div>

          <!-- Reset Template -->
          <div id="etpl-reset" class="etpl-panel hidden">
            <div class="bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-3 mb-4">
              <p class="text-xs font-medium text-amber-700 dark:text-amber-300">Available variables: <code>{{name}}</code> <code>{{setup_url}}</code> <code>{{email}}</code></p>
            </div>
            <div class="space-y-4">
              <div class="grid md:grid-cols-3 gap-4 items-start">
                <label class="font-medium text-sm pt-2 dark:text-gray-300">Subject Line</label>
                <div><label class="text-xs text-gray-400 dark:text-gray-500">üá∫üá∏ EN</label><input id="etpl-reset-subject-en" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600 text-sm"></div>
                <div><label class="text-xs text-gray-400 dark:text-gray-500">üá≤üáΩ ES</label><input id="etpl-reset-subject-es" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600 text-sm"></div>
              </div>
              <div class="grid md:grid-cols-3 gap-4 items-start">
                <label class="font-medium text-sm pt-2 dark:text-gray-300">Greeting</label>
                <div><label class="text-xs text-gray-400 dark:text-gray-500">üá∫üá∏ EN</label><input id="etpl-reset-greeting-en" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600 text-sm"></div>
                <div><label class="text-xs text-gray-400 dark:text-gray-500">üá≤üáΩ ES</label><input id="etpl-reset-greeting-es" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600 text-sm"></div>
              </div>
              <div class="grid md:grid-cols-3 gap-4 items-start">
                <label class="font-medium text-sm pt-2 dark:text-gray-300">Body Text</label>
                <div><label class="text-xs text-gray-400 dark:text-gray-500">üá∫üá∏ EN</label><textarea id="etpl-reset-body-en" rows="3" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600 text-sm"></textarea></div>
                <div><label class="text-xs text-gray-400 dark:text-gray-500">üá≤üáΩ ES</label><textarea id="etpl-reset-body-es" rows="3" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600 text-sm"></textarea></div>
              </div>
              <div class="grid md:grid-cols-3 gap-4 items-start">
                <label class="font-medium text-sm pt-2 dark:text-gray-300">Button Text</label>
                <div><label class="text-xs text-gray-400 dark:text-gray-500">üá∫üá∏ EN</label><input id="etpl-reset-button-en" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600 text-sm"></div>
                <div><label class="text-xs text-gray-400 dark:text-gray-500">üá≤üáΩ ES</label><input id="etpl-reset-button-es" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600 text-sm"></div>
              </div>
              <div class="grid md:grid-cols-3 gap-4 items-start">
                <label class="font-medium text-sm pt-2 dark:text-gray-300">Footer / Expiry</label>
                <div><label class="text-xs text-gray-400 dark:text-gray-500">üá∫üá∏ EN</label><textarea id="etpl-reset-footer-en" rows="2" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600 text-sm"></textarea></div>
                <div><label class="text-xs text-gray-400 dark:text-gray-500">üá≤üáΩ ES</label><textarea id="etpl-reset-footer-es" rows="2" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600 text-sm"></textarea></div>
              </div>
            </div>
          </div>

          <!-- Contact Template -->
          <div id="etpl-contact" class="etpl-panel hidden">
            <div class="bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-lg p-3 mb-4">
              <p class="text-xs font-medium text-purple-700 dark:text-purple-300">Available variables: <code>{{name}}</code> <code>{{email}}</code> <code>{{message}}</code></p>
            </div>
            <div class="space-y-4">
              <div class="grid md:grid-cols-3 gap-4 items-start">
                <label class="font-medium text-sm pt-2 dark:text-gray-300">Subject Line</label>
                <div><label class="text-xs text-gray-400 dark:text-gray-500">üá∫üá∏ EN</label><input id="etpl-contact-subject-en" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600 text-sm"></div>
                <div><label class="text-xs text-gray-400 dark:text-gray-500">üá≤üáΩ ES</label><input id="etpl-contact-subject-es" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600 text-sm"></div>
              </div>
              <div class="grid md:grid-cols-3 gap-4 items-start">
                <label class="font-medium text-sm pt-2 dark:text-gray-300">Greeting</label>
                <div><label class="text-xs text-gray-400 dark:text-gray-500">üá∫üá∏ EN</label><input id="etpl-contact-greeting-en" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600 text-sm"></div>
                <div><label class="text-xs text-gray-400 dark:text-gray-500">üá≤üáΩ ES</label><input id="etpl-contact-greeting-es" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600 text-sm"></div>
              </div>
              <div class="grid md:grid-cols-3 gap-4 items-start">
                <label class="font-medium text-sm pt-2 dark:text-gray-300">Body Text</label>
                <div><label class="text-xs text-gray-400 dark:text-gray-500">üá∫üá∏ EN</label><textarea id="etpl-contact-body-en" rows="3" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600 text-sm"></textarea></div>
                <div><label class="text-xs text-gray-400 dark:text-gray-500">üá≤üáΩ ES</label><textarea id="etpl-contact-body-es" rows="3" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600 text-sm"></textarea></div>
              </div>
              <div class="grid md:grid-cols-3 gap-4 items-start">
                <label class="font-medium text-sm pt-2 dark:text-gray-300">Button Text</label>
                <div><label class="text-xs text-gray-400 dark:text-gray-500">üá∫üá∏ EN</label><input id="etpl-contact-button-en" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600 text-sm"></div>
                <div><label class="text-xs text-gray-400 dark:text-gray-500">üá≤üáΩ ES</label><input id="etpl-contact-button-es" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600 text-sm"></div>
              </div>
              <div class="grid md:grid-cols-3 gap-4 items-start">
                <label class="font-medium text-sm pt-2 dark:text-gray-300">Footer Note</label>
                <div><label class="text-xs text-gray-400 dark:text-gray-500">üá∫üá∏ EN</label><textarea id="etpl-contact-footer-en" rows="2" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600 text-sm"></textarea></div>
                <div><label class="text-xs text-gray-400 dark:text-gray-500">üá≤üáΩ ES</label><textarea id="etpl-contact-footer-es" rows="2" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600 text-sm"></textarea></div>
              </div>
            </div>
          </div>

          <div class="mt-6 flex justify-end">
            <button onclick="saveEmailTemplates()" class="bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:opacity-90 transition">üìß Save Email Templates</button>
          </div>
        </div>

      </div>
    </div>

  </div>

<!-- NOTES MODAL -->
<div id="notes-modal" role="dialog" aria-modal="true" aria-labelledby="notes-modal-title" class="hidden fixed inset-0 z-50 flex items-center justify-center modal-overlay">
  <div class="bg-white rounded-xl shadow-2xl p-6 w-full max-w-lg mx-4 dark:bg-gray-800">
    <div class="flex justify-between items-center mb-4">
      <h3 id="notes-modal-title" class="text-lg font-bold text-gray-800 dark:text-gray-200" data-t="adminNotes">Admin Notes</h3>
      <button onclick="closeModal('notes-modal')" aria-label="Close" class="text-gray-400 hover:text-gray-600 text-2xl">&times;</button>
    </div>
    <textarea id="notes-text" rows="5" class="w-full border border-gray-300 rounded-lg p-3 text-sm focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-gray-100 dark:border-gray-600" data-t="notesPlaceholder" placeholder="Add notes about this appointment..."></textarea>
    <div class="flex justify-end gap-3 mt-4">
      <button onclick="closeModal('notes-modal')" class="px-4 py-2 text-sm text-gray-600 hover:text-gray-800" data-t="cancelNotes">Cancel</button>
      <button onclick="saveNotes()" class="px-4 py-2 text-sm bg-brand text-white rounded-lg hover:bg-green-700" data-t="saveNotes">Save Notes</button>
    </div>
  </div>
</div>

<!-- ACCOUNT SETTINGS MODAL -->
<div id="account-modal" role="dialog" aria-modal="true" aria-labelledby="account-modal-title" class="hidden fixed inset-0 z-50 flex items-center justify-center modal-overlay">
  <div class="bg-white rounded-xl shadow-2xl p-6 w-full max-w-lg mx-4 max-h-[90vh] overflow-y-auto dark:bg-gray-800">
    <div class="flex justify-between items-center mb-6">
      <h3 id="account-modal-title" class="text-lg font-bold text-gray-800 dark:text-gray-200" data-t="accountSettingsTitle">Account Settings</h3>
      <button onclick="closeModal('account-modal')" aria-label="Close" class="text-gray-400 hover:text-gray-600 text-2xl">&times;</button>
    </div>
    <!-- Notification Email -->
    <div class="mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg">
      <h4 class="text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2" data-t="notificationEmail">Admin Notification Email</h4>
      <div class="flex gap-2">
        <input id="settings-notification-email" type="email" class="flex-1 border border-gray-300 rounded-lg px-3 py-2 text-sm dark:bg-gray-700 dark:text-gray-100 dark:border-gray-600" placeholder="notification@email.com">
        <button onclick="updateNotificationEmail()" class="px-4 py-2 text-sm bg-brand text-white rounded-lg hover:bg-green-700" data-t="save">Save</button>
      </div>
    </div>
    <!-- Display Name -->
    <div class="mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg">
      <h4 class="text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2" data-t="displayName">Update Display Name</h4>
      <div class="flex gap-2">
        <input id="settings-name" type="text" class="flex-1 border border-gray-300 rounded-lg px-3 py-2 text-sm dark:bg-gray-700 dark:text-gray-100 dark:border-gray-600" placeholder="Your name">
        <button onclick="updateAccountName()" class="px-4 py-2 text-sm bg-brand text-white rounded-lg hover:bg-green-700" data-t="save">Save</button>
      </div>
    </div>
    <!-- Email -->
    <div class="mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg">
      <h4 class="text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2" data-t="updateEmail">Update Email</h4>
      <div class="flex gap-2">
        <input id="settings-email" type="email" class="flex-1 border border-gray-300 rounded-lg px-3 py-2 text-sm dark:bg-gray-700 dark:text-gray-100 dark:border-gray-600" placeholder="New email">
        <button onclick="updateAccountEmail()" class="px-4 py-2 text-sm bg-brand text-white rounded-lg hover:bg-green-700" data-t="save">Save</button>
      </div>
    </div>
    <!-- Language Preference -->
    <div class="mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg">
      <h4 class="text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2">Language Preference / Idioma</h4>
      <div class="flex gap-2">
        <select id="settings-language" class="flex-1 border border-gray-300 rounded-lg px-3 py-2 text-sm dark:bg-gray-700 dark:text-gray-100 dark:border-gray-600">
          <option value="en">üá∫üá∏ English</option>
          <option value="es">üá≤üáΩ Espa√±ol</option>
          <option value="both">üåê Both / Ambos</option>
        </select>
        <button onclick="updateLanguagePreference()" class="px-4 py-2 text-sm bg-brand text-white rounded-lg hover:bg-green-700">Save</button>
      </div>
      <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">Controls which language(s) you receive emails in / Controla en qu√© idioma(s) recibes correos</p>
    </div>
    <!-- Password -->
    <div class="p-4 bg-gray-50 dark:bg-gray-700 rounded-lg">
      <h4 class="text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2" data-t="updatePassword">Update Password</h4>
      <div class="space-y-2">
        <input id="settings-current-password" type="password" class="w-full border border-gray-300 rounded-lg px-3 py-2 text-sm dark:bg-gray-700 dark:text-gray-100 dark:border-gray-600" placeholder="Current password">
        <input id="settings-password" type="password" class="w-full border border-gray-300 rounded-lg px-3 py-2 text-sm dark:bg-gray-700 dark:text-gray-100 dark:border-gray-600" placeholder="New password (min 8 chars)">
        <input id="settings-password-confirm" type="password" class="w-full border border-gray-300 rounded-lg px-3 py-2 text-sm dark:bg-gray-700 dark:text-gray-100 dark:border-gray-600" placeholder="Confirm new password">
        <button onclick="updateAccountPassword()" class="w-full px-4 py-2 text-sm bg-brand text-white rounded-lg hover:bg-green-700" data-t="updatePassword">Update Password</button>
      </div>
    </div>
  </div>
</div>

<!-- EMAIL MODAL -->
<div id="email-modal" role="dialog" aria-modal="true" aria-labelledby="email-modal-title" class="hidden fixed inset-0 z-50 flex items-center justify-center modal-overlay">
  <div class="bg-white rounded-xl shadow-2xl p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto dark:bg-gray-800">
    <div class="flex justify-between items-center mb-4">
      <h3 id="email-modal-title" class="text-lg font-bold text-gray-800 dark:text-gray-100">Email Details</h3>
      <button onclick="closeModal('email-modal')" aria-label="Close" class="text-gray-400 hover:text-gray-600 text-2xl">&times;</button>
    </div>
    <h4 id="email-modal-subject" class="text-md font-semibold text-gray-700 mb-3 dark:text-gray-200"></h4>
    <div id="email-modal-meta" class="text-sm text-gray-600 space-y-1 mb-4 dark:text-gray-300"></div>
    <div id="email-modal-body" class="border rounded-lg bg-gray-50 p-4 min-h-[200px] overflow-auto max-h-[60vh] dark:bg-gray-700 dark:border-gray-600"></div>
  </div>
</div>

<!-- MESSAGE MODAL -->
<div id="message-modal" role="dialog" aria-modal="true" aria-labelledby="message-modal-title" class="hidden fixed inset-0 z-50 flex items-center justify-center modal-overlay">
  <div class="bg-white rounded-xl shadow-2xl p-6 w-full max-w-lg mx-4 dark:bg-gray-800">
    <div class="flex justify-between items-center mb-4">
      <h3 id="message-modal-title" class="text-lg font-bold text-gray-800 dark:text-gray-100">Message Details</h3>
      <button onclick="closeModal('message-modal')" aria-label="Close" class="text-gray-400 hover:text-gray-600 text-2xl">&times;</button>
    </div>
    <div id="message-modal-meta" class="text-sm text-gray-600 mb-4 dark:text-gray-300"></div>
    <div id="message-modal-body" class="border rounded-lg bg-gray-50 p-4 min-h-[100px] whitespace-pre-wrap dark:bg-gray-700 dark:border-gray-600 dark:text-gray-100"></div>
    <div id="message-modal-status" class="mt-4"></div>
  </div>
</div>

<!-- Set Password Modal -->
<div id="set-password-modal" role="dialog" aria-modal="true" class="hidden fixed inset-0 z-50 flex items-center justify-center modal-overlay">
  <div class="bg-white rounded-xl shadow-2xl p-6 w-full max-w-md mx-4 dark:bg-gray-800">
    <div class="flex justify-between items-center mb-4">
      <h3 class="text-lg font-bold text-gray-800 dark:text-gray-100">Set Password</h3>
      <button onclick="closeModal('set-password-modal')" aria-label="Close" class="text-gray-400 hover:text-gray-600 text-2xl">&times;</button>
    </div>
    <p class="text-sm text-gray-600 dark:text-gray-300 mb-4">Set password for <strong id="set-pw-admin-name" class="text-gray-800 dark:text-white"></strong></p>
    <input type="hidden" id="set-pw-admin-id">
    <div class="space-y-3">
      <div>
        <label class="text-sm font-medium dark:text-gray-300">New Password</label>
        <input type="password" id="set-pw-input" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600 dark:text-white" placeholder="Min 8 chars, upper + lower + number">
      </div>
      <div>
        <label class="text-sm font-medium dark:text-gray-300">Confirm Password</label>
        <input type="password" id="set-pw-confirm" class="w-full p-2 border rounded mt-1 dark:bg-gray-700 dark:border-gray-600 dark:text-white" placeholder="Type password again">
      </div>
      <p id="set-pw-error" class="text-red-600 text-sm dark:text-red-400"></p>
      <div class="bg-gray-50 rounded-lg p-3 text-xs text-gray-500 dark:bg-gray-700 dark:text-gray-400">
        <strong>Requirements:</strong> 8+ characters, one uppercase, one lowercase, one number
      </div>
    </div>
    <div class="flex gap-2 mt-4">
      <button onclick="submitSetPassword()" class="bg-brand text-white px-4 py-2 rounded-lg text-sm font-medium">Set Password</button>
      <button onclick="closeModal('set-password-modal')" class="border px-4 py-2 rounded-lg text-sm dark:border-gray-600 dark:text-gray-300">Cancel</button>
    </div>
  </div>
</div>

<!-- New Appointment Modal -->
<div id="new-appt-modal" role="dialog" aria-modal="true" class="hidden fixed inset-0 z-50 flex items-center justify-center" style="background:rgba(0,0,0,0.5)">
  <div class="bg-white dark:bg-gray-800 rounded-xl shadow-xl w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto p-6">
    <div class="flex justify-between items-center mb-4">
      <h3 class="text-lg font-bold text-gray-800 dark:text-gray-200" data-t="newAppointment">New Appointment</h3>
      <button onclick="closeModal('new-appt-modal')" class="text-gray-400 hover:text-gray-600 text-2xl">&times;</button>
    </div>
    <form id="new-appt-form" onsubmit="createAppointment(event)">
      <div class="grid grid-cols-2 gap-4 mb-4">
        <label class="block"><span class="text-sm font-medium text-gray-700 dark:text-gray-300">Source</span>
          <div class="flex gap-4 mt-1">
            <label class="flex items-center gap-1"><input type="radio" name="appt-source" value="walk-in" checked class="text-brand"> Walk-in</label>
            <label class="flex items-center gap-1"><input type="radio" name="appt-source" value="phone" class="text-brand"> Phone</label>
          </div>
        </label>
      </div>
      <div class="grid grid-cols-2 gap-4 mb-4">
        <label class="block"><span class="text-sm font-medium text-gray-700 dark:text-gray-300">First Name *</span>
          <input type="text" name="appt-first-name" required class="mt-1 w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white">
        </label>
        <label class="block"><span class="text-sm font-medium text-gray-700 dark:text-gray-300">Last Name *</span>
          <input type="text" name="appt-last-name" required class="mt-1 w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white">
        </label>
      </div>
      <div class="grid grid-cols-2 gap-4 mb-4">
        <label class="block"><span class="text-sm font-medium text-gray-700 dark:text-gray-300">Email *</span>
          <input type="email" name="appt-email" required class="mt-1 w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white">
        </label>
        <label class="block"><span class="text-sm font-medium text-gray-700 dark:text-gray-300">Phone *</span>
          <input type="tel" name="appt-phone" required class="mt-1 w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white">
        </label>
      </div>
      <div class="grid grid-cols-2 gap-4 mb-4">
        <label class="block"><span class="text-sm font-medium text-gray-700 dark:text-gray-300">Service *</span>
          <select name="appt-service" required class="mt-1 w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white">
            <option value="">Select...</option>
            <option value="tire-installation">Tire Installation</option>
            <option value="tire-repair">Tire Repair</option>
            <option value="wheel-alignment">Wheel Alignment</option>
            <option value="oil-change">Oil Change</option>
            <option value="brake-service">Brake Service</option>
            <option value="tuneup">Tuneup</option>
            <option value="mechanical-inspection">Mechanical Inspection</option>
            <option value="mobile-service">Mobile Service</option>
            <option value="other">Other</option>
          </select>
        </label>
        <div class="grid grid-cols-2 gap-2">
          <label class="block"><span class="text-sm font-medium text-gray-700 dark:text-gray-300">Date *</span>
            <input type="date" name="appt-date" required class="mt-1 w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white">
          </label>
          <label class="block"><span class="text-sm font-medium text-gray-700 dark:text-gray-300">Time *</span>
            <select name="appt-time" required class="mt-1 w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white">
              <option value="">Select...</option>
              <option value="07:00">7:00 AM</option>
              <option value="08:00">8:00 AM</option>
              <option value="09:00">9:00 AM</option>
              <option value="10:00">10:00 AM</option>
              <option value="11:00">11:00 AM</option>
              <option value="12:00">12:00 PM</option>
              <option value="13:00">1:00 PM</option>
              <option value="14:00">2:00 PM</option>
              <option value="15:00">3:00 PM</option>
              <option value="16:00">4:00 PM</option>
              <option value="17:00">5:00 PM</option>
              <option value="18:00">6:00 PM</option>
            </select>
          </label>
        </div>
      </div>
      <div class="grid grid-cols-3 gap-2 mb-4">
        <label class="block"><span class="text-xs text-gray-500 dark:text-gray-400">Year</span>
          <input type="text" name="appt-vehicle-year" maxlength="4" placeholder="2024" class="mt-1 w-full px-3 py-2 border rounded-lg text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white">
        </label>
        <label class="block"><span class="text-xs text-gray-500 dark:text-gray-400">Make</span>
          <input type="text" name="appt-vehicle-make" placeholder="Toyota" class="mt-1 w-full px-3 py-2 border rounded-lg text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white">
        </label>
        <label class="block"><span class="text-xs text-gray-500 dark:text-gray-400">Model</span>
          <input type="text" name="appt-vehicle-model" placeholder="Camry" class="mt-1 w-full px-3 py-2 border rounded-lg text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white">
        </label>
      </div>
      <div class="mb-4">
        <label class="block"><span class="text-sm font-medium text-gray-700 dark:text-gray-300">Assign Employee</span>
          <select id="new-appt-employee" class="mt-1 w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"></select>
        </label>
      </div>
      <div class="mb-4">
        <label class="block"><span class="text-sm font-medium text-gray-700 dark:text-gray-300">Notes</span>
          <textarea name="appt-notes" rows="2" class="mt-1 w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"></textarea>
        </label>
      </div>
      <div class="mb-4 flex gap-4">
        <label class="flex items-center gap-1"><input type="radio" name="appt-language" value="english" checked class="text-brand"> English</label>
        <label class="flex items-center gap-1"><input type="radio" name="appt-language" value="spanish" class="text-brand"> Espa√±ol</label>
      </div>
      <div id="new-appt-error" class="hidden text-red-600 text-sm mb-3"></div>
      <div class="flex justify-end gap-3">
        <button type="button" onclick="closeModal('new-appt-modal')" class="px-4 py-2 text-sm text-gray-600 hover:text-gray-800 dark:text-gray-400">Cancel</button>
        <button type="submit" id="new-appt-submit" class="bg-brand text-white px-6 py-2 rounded-lg font-semibold hover:opacity-90 transition" data-t="createAppointment">Create Appointment</button>
      </div>
    </form>
  </div>
</div>

<!-- Toast -->
<div id="toast" role="alert" aria-live="polite" class="hidden fixed bottom-4 right-4 z-50 bg-brand text-white px-6 py-3 rounded-lg shadow-lg transition-all"></div>

<script>
// ===== TRANSLATION SYSTEM =====
let currentLang = 'es'; // Admin defaults to Spanish

const adminT = {
  en: {
    // Login
    adminDashboard: 'Admin Dashboard',
    signInSubtitle: 'Sign in to manage your business',
    emailLabel: 'Email',
    passwordLabel: 'Password',
    signIn: 'Sign In',
    backToWebsite: '\u2190 Back to website',
    forgotPassword: 'Forgot Password?',
    resetPassword: 'Reset Password',
    resetSubtitle: 'Enter your email to receive a reset link',
    sendResetLink: 'Send Reset Link',
    backToLogin: '\u2190 Back to Sign In',
    resetLinkSent: 'If an account with that email exists, a reset link has been sent.',
    resetLinkError: 'Error sending reset link. Please try again.',
    sending: 'Sending...',
    // Header
    headerTitle: 'Admin Dashboard',
    managementSubtitle: 'Oregon Tires Management',
    accountSettings: '\u2699\uFE0F Account Settings',
    viewSite: 'View Site',
    signOut: 'Sign Out',
    // Nav Tabs
    tabOverview: 'Overview',
    tabAppointments: 'Appointments',
    tabMessages: 'Messages',
    tabEmployees: 'Employees',
    tabGallery: 'Promotions',
    tabAnalytics: 'Analytics',
    tabDocs: 'Docs',
    // Overview
    dashboardOverview: 'Dashboard Overview',
    totalAppointments: 'Total Appointments',
    pending: 'Pending',
    confirmed: 'Confirmed',
    completed: 'Completed',
    upcoming14Days: 'Upcoming Appointments (14 Days)',
    employeeSchedule: 'Employee Schedule',
    next14Days: 'Next 14 days',
    awaitingConfirmation: 'Awaiting confirmation',
    readyToGo: 'Ready to go',
    finished: 'Finished',
    // Appointments
    appointmentsHeading: 'Appointments',
    calendarSubtitle: 'Calendar view with employee assignment',
    calendarViewBtn: 'Calendar View',
    listViewBtn: 'List View',
    prevDay: '\u25C0 Prev Day',
    nextDay: 'Next Day \u25B6',
    searchPlaceholder: 'Search by name, email, service...',
    allStatus: 'All Status',
    newStatus: 'New',
    cancelled: 'Cancelled',
    thCustomer: 'Customer',
    thService: 'Service',
    thDateTime: 'Date & Time',
    thContact: 'Contact',
    thEmployee: 'Employee',
    thStatus: 'Status',
    thActions: 'Actions',
    // Messages
    messagesWebsiteChanges: 'Messages & Website Changes',
    messagesSubtitle: 'Manage all messages and website change history',
    contactMessages: 'Contact Messages',
    websiteChanges: 'Website Changes',
    thMessage: 'Message',
    thDate: 'Date',
    // Employees
    employeeAdminMgmt: 'Employee & Admin Management',
    employeesSubtitle: 'Manage team members and admin access',
    addNewEmployee: 'Add New Employee',
    nameRequired: 'Name *',
    emailLabel2: 'Email',
    phone: 'Phone',
    role: 'Role',
    save: 'Save',
    cancel: 'Cancel',
    createAdminAccount: 'Create Admin Account',
    // Gallery
    galleryServiceImages: 'Promotions & Service Images',
    gallerySubTab: 'Promotions',
    serviceImagesSubTab: 'Service Images',
    addNewImage: 'Add New Image',
    imageFile: 'Image File *',
    titleRequired: 'Title *',
    language: 'Language',
    description: 'Description',
    uploadAndSave: 'Upload & Save',
    // Analytics
    analyticsDashboard: 'Analytics Dashboard',
    analyticsSubtitle: 'Overview of your business metrics',
    analyticsLoading: 'Loading analytics...',
    analyticsError: 'Could not load analytics data',
    analyticsRefresh: 'Refresh',
    analyticsTotalAppts: 'Total Appointments',
    analyticsThisWeek: 'This Week',
    analyticsMessages: 'Messages',
    analyticsEmployees: 'Active Employees',
    analyticsConfirmedRate: 'Confirmed Rate',
    analyticsCompletionRate: 'Completion Rate',
    analyticsCancellationRate: 'Cancellation Rate',
    analyticsNewRate: 'New / Pending',
    analyticsStatusBreakdown: 'Status Breakdown',
    analyticsPopularServices: 'Popular Services',
    analyticsPeakTimes: 'Peak Appointment Times',
    analyticsBookingsTrend: 'Bookings Trend (Last 30 Days)',
    analyticsEmployeePerf: 'Employee Performance',
    analyticsEmployee: 'Employee',
    analyticsTotal: 'Total',
    analyticsCompleted: 'Completed',
    analyticsTotalTime: 'Total Time',
    analyticsAvgTime: 'Avg Time',
    analyticsNoData: 'No data available yet',
    analyticsAppointments: 'appointments',
    analyticsCustomers: 'Customers',
    analyticsRecurring: 'Recurring',
    analyticsAvgDuration: 'Avg Duration',
    analyticsMinutes: 'min',
    analyticsNew: 'New',
    analyticsConfirmed: 'Confirmed',
    analyticsCompletedStatus: 'Completed',
    analyticsCancelled: 'Cancelled',
    analyticsPending: 'Pending',
    analyticsMessagesSection: 'Messages Overview',
    analyticsUnread: 'Unread',
    analyticsPriority: 'Priority',
    analyticsResolved: 'Resolved',
    analyticsBookings: 'bookings',
    // Docs
    documentation: 'Documentation',
    docsSubtitle: 'Instruction manual, feature list, and improvement roadmap',
    docsManual: 'Manual',
    docsFeatures: 'Features',
    docsImprovements: 'Improvements',
    docsRoadmap: 'Roadmap',
    // Notes Modal
    adminNotes: 'Admin Notes',
    notesPlaceholder: 'Add notes about this appointment...',
    saveNotes: 'Save Notes',
    cancelNotes: 'Cancel',
    // Account Settings Modal
    accountSettingsTitle: 'Account Settings',
    notificationEmail: 'Admin Notification Email',
    displayName: 'Update Display Name',
    updateEmail: 'Update Email',
    updatePassword: 'Update Password',
    // Bulk Operations
    selectAll: 'Select All',
    selected: 'selected',
    selectedCount: '0 selected',
    changeStatus: 'Change Status',
    applyStatus: 'Apply',
    assignEmployee: 'Assign Employee',
    applyAssign: 'Assign',
    exportCsv: 'Export CSV',
    selectStatus: 'Select a status first',
    selectEmployee: 'Select an employee first',
    appointmentsUpdated: 'appointments updated',
    appointmentsAssigned: 'appointments assigned',
    // Dark Mode
    darkMode: 'Dark Mode',
    lightMode: 'Light Mode',
    // Dynamic/JS text
    noAppointments: 'No appointments found',
    noMessages: 'No messages found',
    loading: 'Loading...',
    confirmDelete: 'Are you sure you want to delete this?',
    saved: 'Saved successfully',
    invalidCredentials: 'Invalid credentials',
    accountLocked: 'Too many failed attempts. Please try again in {minutes} minutes.',
    attemptsRemaining: '{count} attempts remaining',
    passwordUpdateFailed: 'Could not update password. Please try again.',
    emailUpdateFailed: 'Could not update email. Please try again.',
    error: 'An error occurred',
    // Service Images
    svcHeroBackground: 'Hero Background Image', svcExpertTechnicians: 'Expert Technicians', svcQuickService: 'Quick Service', svcQualityParts: 'Quality Parts', svcBilingualSupport: 'Bilingual Support', svcTireServices: 'Tire Services', svcAutoMaintenance: 'Auto Maintenance', svcSpecializedServices: 'Specialized Services',
    // Site Content
    tabSiteContent: 'Site Content',
    siteContentHeading: 'Site Content',
    siteContentSubtitle: 'Edit business info displayed on the website',
    siteContentDesc: 'Changes here update the public website in real time. Each setting has an English and Spanish value.',
    saveSiteSettings: 'Save Site Settings',
    settingPhone: 'Phone Number',
    settingEmail: 'Email Address',
    settingAddress: 'Address',
    settingHoursWeekday: 'Weekday Hours',
    settingHoursSunday: 'Sunday Hours',
    settingRatingValue: 'Rating Value',
    settingReviewCount: 'Review Count',
    settingsSaved: 'Site settings saved successfully',
    settingsLoadError: 'Could not load site settings',
    settingsSaveError: 'Could not save site settings',
    lastUpdated: 'Last updated',
    // Toast messages
    notesSaved: 'Notes saved',
    positionSaved: 'Position saved & live on website!',
    emailTemplatesSaved: 'Email templates saved successfully',
    emailTemplatesSaveError: 'Could not save email templates',
    unassigned: '\u2014 Unassigned \u2014',
    unassignedLabel: 'Unassigned',
    employeeActivated: 'Employee activated',
    employeeDeactivated: 'Employee deactivated',
    employeeAdded: 'Employee added!',
    employeeUpdated: 'Employee updated!',
    statusUpdated: 'Status updated',
    employeeAssigned: 'Employee assigned & confirmed',
    assignmentRemoved: 'Assignment removed',
    assignBeforeConfirm: 'Assign an employee before confirming',
    messageStatusUpdated: 'Message status updated',
    imageDeleted: 'Image deleted',
    deleteFailed: 'Delete failed',
    imageIsLive: 'Image is now live!',
    uploadFailed: 'Upload failed',
    saveFailed: 'Save failed',
    selectFileFirst: 'Select a file first',
    selectAtLeastOneFile: 'Please select at least one file',
    enterTitle: 'Please enter a title',
    imagesUploaded: 'image(s) uploaded!',
    deleteImageConfirm: 'Delete this image permanently?',
    adminCreated: 'Admin created \u2014 setup email sent to',
    adminCreatedEmailFailed: 'Admin created but email failed',
    adminAccessRevoked: 'Admin access revoked',
    adminNotFound: 'Admin not found',
    setupEmailResent: 'Setup email resent!',
    passwordSetSuccess: 'Password set successfully!',
    revokeAdminConfirm: 'Revoke admin access?',
    revokeAdminForConfirm: 'Revoke admin access for',
    languageUpdated: 'Language preference updated',
    notificationEmailUpdated: 'Notification email updated to',
    nameUpdated: 'Name updated successfully',
    emailUpdated: 'Email updated successfully',
    passwordUpdated: 'Password updated successfully',
    passwordMin8: 'Password must be at least 8 characters',
    passwordsNoMatch: 'Passwords do not match',
    nameIsRequired: 'Name is required',
    emailIsRequired: 'Email is required',
    displayNameRequired: 'Display name is required',
    noActiveEmployees: 'No active employees to assign',
    noAppointmentsExport: 'No appointments to export',
    gaIdInvalid: 'Invalid Google Analytics ID format. Expected: G-XXXXXXXXXX',
    passwordMax72: 'Password must not exceed 72 characters',
    mustContainUppercase: 'Must contain an uppercase letter',
    mustContainLowercase: 'Must contain a lowercase letter',
    mustContainNumber: 'Must contain a number',
    newAppointment: 'New Appointment',
    createAppointment: 'Create Appointment',
    appointmentCreated: 'Appointment created!',
    creating: 'Creating...',
  },
  es: {
    // Login
    adminDashboard: 'Panel de Administraci\u00F3n',
    signInSubtitle: 'Inicia sesi\u00F3n para gestionar tu negocio',
    emailLabel: 'Correo electr\u00F3nico',
    passwordLabel: 'Contrase\u00F1a',
    signIn: 'Iniciar Sesi\u00F3n',
    backToWebsite: '\u2190 Volver al sitio web',
    forgotPassword: '\u00BFOlvidaste tu contrase\u00F1a?',
    resetPassword: 'Restablecer Contrase\u00F1a',
    resetSubtitle: 'Ingresa tu correo para recibir un enlace de restablecimiento',
    sendResetLink: 'Enviar Enlace',
    backToLogin: '\u2190 Volver a Iniciar Sesi\u00F3n',
    resetLinkSent: 'Si existe una cuenta con ese correo, se ha enviado un enlace de restablecimiento.',
    resetLinkError: 'Error al enviar el enlace. Por favor intenta de nuevo.',
    sending: 'Enviando...',
    // Header
    headerTitle: 'Panel de Administraci\u00F3n',
    managementSubtitle: 'Gesti\u00F3n de Oregon Tires',
    accountSettings: '\u2699\uFE0F Configuraci\u00F3n de Cuenta',
    viewSite: 'Ver Sitio',
    signOut: 'Cerrar Sesi\u00F3n',
    // Nav Tabs
    tabOverview: 'Resumen',
    tabAppointments: 'Citas',
    tabMessages: 'Mensajes',
    tabEmployees: 'Empleados',
    tabGallery: 'Promociones',
    tabAnalytics: 'Anal\u00EDticas',
    tabDocs: 'Documentos',
    // Overview
    dashboardOverview: 'Resumen del Panel',
    totalAppointments: 'Total de Citas',
    pending: 'Pendientes',
    confirmed: 'Confirmadas',
    completed: 'Completadas',
    upcoming14Days: 'Pr\u00F3ximas Citas (14 D\u00EDas)',
    employeeSchedule: 'Horario de Empleados',
    next14Days: 'Pr\u00F3ximos 14 d\u00EDas',
    awaitingConfirmation: 'Esperando confirmaci\u00F3n',
    readyToGo: 'Listas para atender',
    finished: 'Finalizadas',
    // Appointments
    appointmentsHeading: 'Citas',
    calendarSubtitle: 'Vista de calendario con asignaci\u00F3n de empleados',
    calendarViewBtn: 'Vista Calendario',
    listViewBtn: 'Vista Lista',
    prevDay: '\u25C0 D\u00EDa Anterior',
    nextDay: 'D\u00EDa Siguiente \u25B6',
    searchPlaceholder: 'Buscar por nombre, correo, servicio...',
    allStatus: 'Todos los Estados',
    newStatus: 'Nuevo',
    cancelled: 'Cancelada',
    thCustomer: 'Cliente',
    thService: 'Servicio',
    thDateTime: 'Fecha y Hora',
    thContact: 'Contacto',
    thEmployee: 'Empleado',
    thStatus: 'Estado',
    thActions: 'Acciones',
    // Messages
    messagesWebsiteChanges: 'Mensajes y Cambios del Sitio',
    messagesSubtitle: 'Administrar todos los mensajes e historial de cambios',
    contactMessages: 'Mensajes de Contacto',
    websiteChanges: 'Cambios del Sitio',
    thMessage: 'Mensaje',
    thDate: 'Fecha',
    // Employees
    employeeAdminMgmt: 'Gesti\u00F3n de Empleados y Administradores',
    employeesSubtitle: 'Administrar miembros del equipo y acceso de admin',
    addNewEmployee: 'Agregar Nuevo Empleado',
    nameRequired: 'Nombre *',
    emailLabel2: 'Correo electr\u00F3nico',
    phone: 'Tel\u00E9fono',
    role: 'Rol',
    save: 'Guardar',
    cancel: 'Cancelar',
    createAdminAccount: 'Crear Cuenta de Administrador',
    // Gallery
    galleryServiceImages: 'Promociones e Im\u00E1genes de Servicios',
    gallerySubTab: 'Promociones',
    serviceImagesSubTab: 'Im\u00E1genes de Servicios',
    addNewImage: 'Agregar Nueva Imagen',
    imageFile: 'Archivo de Imagen *',
    titleRequired: 'T\u00EDtulo *',
    language: 'Idioma',
    description: 'Descripci\u00F3n',
    uploadAndSave: 'Subir y Guardar',
    // Analytics
    analyticsDashboard: 'Panel de Anal\u00EDticas',
    analyticsSubtitle: 'Resumen de las m\u00E9tricas de tu negocio',
    analyticsLoading: 'Cargando anal\u00EDticas...',
    analyticsError: 'No se pudieron cargar los datos anal\u00EDticos',
    analyticsRefresh: 'Actualizar',
    analyticsTotalAppts: 'Total de Citas',
    analyticsThisWeek: 'Esta Semana',
    analyticsMessages: 'Mensajes',
    analyticsEmployees: 'Empleados Activos',
    analyticsConfirmedRate: 'Tasa de Confirmaci\u00F3n',
    analyticsCompletionRate: 'Tasa de Completaci\u00F3n',
    analyticsCancellationRate: 'Tasa de Cancelaci\u00F3n',
    analyticsNewRate: 'Nuevas / Pendientes',
    analyticsStatusBreakdown: 'Desglose por Estado',
    analyticsPopularServices: 'Servicios Populares',
    analyticsPeakTimes: 'Horarios M\u00E1s Solicitados',
    analyticsBookingsTrend: 'Tendencia de Reservas (\u00DAltimos 30 D\u00EDas)',
    analyticsEmployeePerf: 'Rendimiento de Empleados',
    analyticsEmployee: 'Empleado',
    analyticsTotal: 'Total',
    analyticsCompleted: 'Completadas',
    analyticsTotalTime: 'Tiempo Total',
    analyticsAvgTime: 'Tiempo Prom.',
    analyticsNoData: 'A\u00FAn no hay datos disponibles',
    analyticsAppointments: 'citas',
    analyticsCustomers: 'Clientes',
    analyticsRecurring: 'Recurrentes',
    analyticsAvgDuration: 'Duraci\u00F3n Prom.',
    analyticsMinutes: 'min',
    analyticsNew: 'Nuevas',
    analyticsConfirmed: 'Confirmadas',
    analyticsCompletedStatus: 'Completadas',
    analyticsCancelled: 'Canceladas',
    analyticsPending: 'Pendientes',
    analyticsMessagesSection: 'Resumen de Mensajes',
    analyticsUnread: 'Sin Leer',
    analyticsPriority: 'Prioritarios',
    analyticsResolved: 'Resueltos',
    analyticsBookings: 'reservas',
    // Docs
    documentation: 'Documentaci\u00F3n',
    docsSubtitle: 'Manual de instrucciones, lista de funciones y mejoras',
    docsManual: 'Manual',
    docsFeatures: 'Caracter\u00EDsticas',
    docsImprovements: 'Mejoras',
    docsRoadmap: 'Hoja de Ruta',
    // Notes Modal
    adminNotes: 'Notas de Administraci\u00F3n',
    notesPlaceholder: 'Agregar notas sobre esta cita...',
    saveNotes: 'Guardar Notas',
    cancelNotes: 'Cancelar',
    // Account Settings Modal
    accountSettingsTitle: 'Configuraci\u00F3n de Cuenta',
    notificationEmail: 'Correo de Notificaciones de Admin',
    displayName: 'Actualizar Nombre',
    updateEmail: 'Actualizar Correo',
    updatePassword: 'Actualizar Contrase\u00F1a',
    // Bulk Operations
    selectAll: 'Seleccionar Todo',
    selected: 'seleccionados',
    selectedCount: '0 seleccionados',
    changeStatus: 'Cambiar Estado',
    applyStatus: 'Aplicar',
    assignEmployee: 'Asignar Empleado',
    applyAssign: 'Asignar',
    exportCsv: 'Exportar CSV',
    selectStatus: 'Seleccione un estado primero',
    selectEmployee: 'Seleccione un empleado primero',
    appointmentsUpdated: 'citas actualizadas',
    appointmentsAssigned: 'citas asignadas',
    // Dark Mode
    darkMode: 'Modo Oscuro',
    lightMode: 'Modo Claro',
    // Dynamic/JS text
    noAppointments: 'No se encontraron citas',
    noMessages: 'No se encontraron mensajes',
    loading: 'Cargando...',
    confirmDelete: '\u00BFEst\u00E1s seguro de que deseas eliminar esto?',
    saved: 'Guardado exitosamente',
    invalidCredentials: 'Credenciales inv\u00E1lidas',
    accountLocked: 'Demasiados intentos fallidos. Intente de nuevo en {minutes} minutos.',
    attemptsRemaining: '{count} intentos restantes',
    passwordUpdateFailed: 'No se pudo actualizar la contrase\u00F1a. Int\u00E9ntelo de nuevo.',
    emailUpdateFailed: 'No se pudo actualizar el correo. Int\u00E9ntelo de nuevo.',
    error: 'Ocurri\u00F3 un error',
    // Service Images
    svcHeroBackground: 'Imagen de Fondo Principal', svcExpertTechnicians: 'T\u00E9cnicos Expertos', svcQuickService: 'Servicio R\u00E1pido', svcQualityParts: 'Partes de Calidad', svcBilingualSupport: 'Soporte Biling\u00FCe', svcTireServices: 'Servicios de Llantas', svcAutoMaintenance: 'Mantenimiento Automotriz', svcSpecializedServices: 'Servicios Especializados',
    // Site Content
    tabSiteContent: 'Contenido del Sitio',
    siteContentHeading: 'Contenido del Sitio',
    siteContentSubtitle: 'Editar informaci\u00F3n del negocio mostrada en el sitio web',
    siteContentDesc: 'Los cambios aqu\u00ED actualizan el sitio web p\u00FAblico en tiempo real. Cada ajuste tiene un valor en ingl\u00E9s y espa\u00F1ol.',
    saveSiteSettings: 'Guardar Configuraci\u00F3n',
    settingPhone: 'N\u00FAmero de Tel\u00E9fono',
    settingEmail: 'Correo Electr\u00F3nico',
    settingAddress: 'Direcci\u00F3n',
    settingHoursWeekday: 'Horario Entre Semana',
    settingHoursSunday: 'Horario Domingo',
    settingRatingValue: 'Calificaci\u00F3n',
    settingReviewCount: 'Cantidad de Rese\u00F1as',
    settingsSaved: 'Configuraci\u00F3n guardada exitosamente',
    settingsLoadError: 'No se pudo cargar la configuraci\u00F3n del sitio',
    settingsSaveError: 'No se pudo guardar la configuraci\u00F3n del sitio',
    lastUpdated: '\u00DAltima actualizaci\u00F3n',
    // Toast messages
    notesSaved: 'Notas guardadas',
    positionSaved: '\u00A1Posici\u00F3n guardada y en vivo en el sitio!',
    emailTemplatesSaved: 'Plantillas de correo guardadas exitosamente',
    emailTemplatesSaveError: 'No se pudieron guardar las plantillas de correo',
    unassigned: '\u2014 Sin asignar \u2014',
    unassignedLabel: 'Sin asignar',
    employeeActivated: 'Empleado activado',
    employeeDeactivated: 'Empleado desactivado',
    employeeAdded: '\u00A1Empleado agregado!',
    employeeUpdated: '\u00A1Empleado actualizado!',
    statusUpdated: 'Estado actualizado',
    employeeAssigned: 'Empleado asignado y confirmado',
    assignmentRemoved: 'Asignaci\u00F3n eliminada',
    assignBeforeConfirm: 'Asigne un empleado antes de confirmar',
    messageStatusUpdated: 'Estado del mensaje actualizado',
    imageDeleted: 'Imagen eliminada',
    deleteFailed: 'Error al eliminar',
    imageIsLive: '\u00A1La imagen est\u00E1 en vivo!',
    uploadFailed: 'Error al subir',
    saveFailed: 'Error al guardar',
    selectFileFirst: 'Seleccione un archivo primero',
    selectAtLeastOneFile: 'Seleccione al menos un archivo',
    enterTitle: 'Ingrese un t\u00EDtulo',
    imagesUploaded: 'imagen(es) subida(s)!',
    deleteImageConfirm: '\u00BFEliminar esta imagen permanentemente?',
    adminCreated: 'Admin creado \u2014 correo de configuraci\u00F3n enviado a',
    adminCreatedEmailFailed: 'Admin creado pero el correo fall\u00F3',
    adminAccessRevoked: 'Acceso de admin revocado',
    adminNotFound: 'Admin no encontrado',
    setupEmailResent: '\u00A1Correo de configuraci\u00F3n reenviado!',
    passwordSetSuccess: '\u00A1Contrase\u00F1a establecida exitosamente!',
    revokeAdminConfirm: '\u00BFRevocar acceso de admin?',
    revokeAdminForConfirm: '\u00BFRevocar acceso de admin para',
    languageUpdated: 'Preferencia de idioma actualizada',
    notificationEmailUpdated: 'Correo de notificaci\u00F3n actualizado a',
    nameUpdated: 'Nombre actualizado exitosamente',
    emailUpdated: 'Correo actualizado exitosamente',
    passwordUpdated: 'Contrase\u00F1a actualizada exitosamente',
    passwordMin8: 'La contrase\u00F1a debe tener al menos 8 caracteres',
    passwordsNoMatch: 'Las contrase\u00F1as no coinciden',
    nameIsRequired: 'El nombre es obligatorio',
    emailIsRequired: 'El correo es obligatorio',
    displayNameRequired: 'El nombre para mostrar es obligatorio',
    noActiveEmployees: 'No hay empleados activos para asignar',
    noAppointmentsExport: 'No hay citas para exportar',
    gaIdInvalid: 'Formato de ID de Google Analytics inv\u00E1lido. Esperado: G-XXXXXXXXXX',
    passwordMax72: 'La contrase\u00F1a no debe exceder 72 caracteres',
    mustContainUppercase: 'Debe contener una letra may\u00FAscula',
    mustContainLowercase: 'Debe contener una letra min\u00FAscula',
    mustContainNumber: 'Debe contener un n\u00FAmero',
    newAppointment: 'Nueva Cita',
    createAppointment: 'Crear Cita',
    appointmentCreated: '\u00A1Cita creada!',
    creating: 'Creando...',
  }
};

function toggleAdminLanguage() {
  currentLang = currentLang === 'en' ? 'es' : 'en';
  document.documentElement.lang = currentLang;
  document.getElementById('admin-lang-toggle').textContent = currentLang === 'en' ? 'ES' : 'EN';
  applyAdminTranslations();
  // Persist language preference to server + update settings dropdown
  var langEl = document.getElementById('settings-language');
  if (langEl) langEl.value = currentLang;
  if (currentUser) {
    currentUser.language = currentLang;
    api('account.php', { method: 'PUT', body: { action: 'update_language', language: currentLang } }).catch(function(){});
  }
}

function applyAdminTranslations() {
  document.querySelectorAll('[data-t]').forEach(function(el) {
    var key = el.getAttribute('data-t');
    if (adminT[currentLang][key]) {
      if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
        el.placeholder = adminT[currentLang][key];
      } else {
        el.textContent = adminT[currentLang][key];
      }
    }
  });
  // Toggle doc language content
  document.querySelectorAll('.doc-lang-en').forEach(function(el) {
    el.classList.toggle('hidden', currentLang !== 'en');
  });
  document.querySelectorAll('.doc-lang-es').forEach(function(el) {
    el.classList.toggle('hidden', currentLang !== 'es');
  });
}

// ===== DARK MODE =====
function toggleAdminDarkMode() {
  const html = document.documentElement;
  const isDark = html.classList.toggle('dark');
  localStorage.setItem('theme', isDark ? 'dark' : 'light');
  document.getElementById('admin-dark-toggle').textContent = isDark ? '\u2600\uFE0F' : '\uD83C\uDF19';
}

(function() {
  var saved = localStorage.getItem('theme');
  var shouldBeDark = saved === 'dark';
  if (shouldBeDark) {
    document.documentElement.classList.add('dark');
  } else {
    document.documentElement.classList.remove('dark');
  }
  var btn = document.getElementById('admin-dark-toggle');
  if (btn) btn.textContent = shouldBeDark ? '\u2600\uFE0F' : '\uD83C\uDF19';
})();

// ===== API CONFIG =====
const API = '/api/admin';
let csrfToken = '';

// ===== STATE =====
let appointments = [], messages = [], employees = [], emailLogs = [], galleryImages = [], serviceImages = [];
let currentNotesId = null, apptPage = 1, apptSortBy = 'created', apptSortOrder = 'desc';
let calDate = new Date(), calSelectedDate = new Date();
let adminUsers = [], currentUser = null;

// ===== API HELPERS =====
async function api(endpoint, opts = {}) {
  const url = API + '/' + endpoint;
  const headers = opts.headers || {};
  if (csrfToken && opts.method && opts.method !== 'GET') headers['X-CSRF-Token'] = csrfToken;
  if (opts.body && !(opts.body instanceof FormData)) { headers['Content-Type'] = 'application/json'; opts.body = JSON.stringify(opts.body); }
  const res = await fetch(url, { ...opts, headers, credentials: 'include' });
  const json = await res.json();
  if (!res.ok || !json.success) throw new Error(json.error || 'Request failed');
  return json;
}

// ===== RATE LIMITING =====
const MAX_LOGIN_ATTEMPTS = 5;
const LOCKOUT_DURATION_MS = 15 * 60 * 1000; // 15 minutes

function getLoginAttempts() {
  const data = JSON.parse(localStorage.getItem('loginAttempts') || '{"count":0,"firstAttempt":0}');
  if (Date.now() - data.firstAttempt > LOCKOUT_DURATION_MS) {
    localStorage.removeItem('loginAttempts');
    return { count: 0, firstAttempt: 0 };
  }
  return data;
}

function recordFailedAttempt() {
  const data = getLoginAttempts();
  if (data.count === 0) {
    data.firstAttempt = Date.now();
  }
  data.count++;
  localStorage.setItem('loginAttempts', JSON.stringify(data));
  return data;
}

function isLockedOut() {
  const data = getLoginAttempts();
  return data.count >= MAX_LOGIN_ATTEMPTS && (Date.now() - data.firstAttempt) < LOCKOUT_DURATION_MS;
}

function clearLoginAttempts() {
  localStorage.removeItem('loginAttempts');
}

function getRemainingLockoutTime() {
  const data = getLoginAttempts();
  const elapsed = Date.now() - data.firstAttempt;
  return Math.max(0, Math.ceil((LOCKOUT_DURATION_MS - elapsed) / 60000));
}

// ===== UTILS =====
function showToast(msg, isError) {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.className = `fixed bottom-4 right-4 z-50 px-6 py-3 rounded-lg shadow-lg text-white ${isError ? 'bg-red-600' : 'bg-brand'}`;
  setTimeout(() => t.classList.add('hidden'), 3000);
}
function statusBadge(s) { return `<span class="px-2 py-1 rounded-full text-xs font-medium status-${s||'new'}">${(s||'new').charAt(0).toUpperCase()+(s||'new').slice(1)}</span>`; }
function calSyncBadge(a) {
  if (!a) return '';
  if (a.google_event_id && a.calendar_sync_status === 'success') {
    var syncDate = a.calendar_synced_at ? new Date(a.calendar_synced_at).toLocaleString() : '';
    return `<span class="cal-sync-badge cal-sync-success" title="Synced to Google Calendar${syncDate ? ' on ' + syncDate : ''}">&#x1F4C5; Synced</span>`;
  }
  if (a.calendar_sync_status === 'failed') {
    return `<span class="cal-sync-badge cal-sync-failed" title="${esc(a.calendar_sync_error || 'Sync failed')}">&#x1F4C5; Failed</span>`;
  }
  if (a.calendar_sync_status === 'pending') {
    return `<span class="cal-sync-badge cal-sync-pending" title="Calendar sync pending">&#x1F4C5; Syncing...</span>`;
  }
  return '';
}
function fmtDate(d) { if(!d) return '‚Äî'; return new Date(d+'T00:00:00').toLocaleDateString('en-US',{month:'short',day:'numeric',year:'numeric'}); }
function fmtTime(t) { if(!t) return '‚Äî'; const [h,m]=t.split(':'); const hr=parseInt(h); return `${hr%12||12}:${m} ${hr>=12?'PM':'AM'}`; }
function fmtDateTime(d) { return new Date(d).toLocaleString(); }
function closeModal(id) { document.getElementById(id).classList.add('hidden'); }
function esc(s) { if(!s) return ''; const d=document.createElement('div'); d.textContent=s; return d.innerHTML; }

// ===== AUTH =====
document.getElementById('login-form').addEventListener('submit', async (e) => {
  e.preventDefault();
  const email = document.getElementById('login-email').value, password = document.getElementById('login-password').value;
  const errorEl = document.getElementById('login-error'), btn = document.getElementById('login-btn');
  const lockoutEl = document.getElementById('lockout-message');
  btn.textContent = 'Signing in...'; btn.disabled = true; errorEl.classList.add('hidden');

  if (isLockedOut()) {
    const minutes = getRemainingLockoutTime();
    lockoutEl.textContent = adminT[currentLang].accountLocked.replace('{minutes}', minutes);
    lockoutEl.classList.remove('hidden');
    btn.textContent = adminT[currentLang].signIn || 'Sign In'; btn.disabled = false;
    return;
  }
  lockoutEl.classList.add('hidden');

  try {
    const json = await api('login.php', { method: 'POST', body: { email, password } });
    clearLoginAttempts();
    csrfToken = json.data.csrf_token;
    showDashboard(json.data);
  } catch (err) {
    const attemptData = recordFailedAttempt();
    if (attemptData.count >= MAX_LOGIN_ATTEMPTS) {
      const minutes = getRemainingLockoutTime();
      lockoutEl.textContent = adminT[currentLang].accountLocked.replace('{minutes}', minutes);
      lockoutEl.classList.remove('hidden');
      errorEl.classList.add('hidden');
    } else {
      const remaining = MAX_LOGIN_ATTEMPTS - attemptData.count;
      const msg = (err.message || adminT[currentLang].invalidCredentials) + '. ' + adminT[currentLang].attemptsRemaining.replace('{count}', remaining);
      errorEl.textContent = msg;
      errorEl.classList.remove('hidden');
    }
  }
  finally { btn.textContent = adminT[currentLang].signIn || 'Sign In'; btn.disabled = false; }
});

// ===== FORGOT PASSWORD =====
function showForgotPassword() {
  document.getElementById('login-screen').classList.add('hidden');
  document.getElementById('forgot-password-screen').classList.remove('hidden');
  document.getElementById('forgot-email').value = document.getElementById('login-email').value || '';
  document.getElementById('forgot-status').classList.add('hidden');
}
function showLoginScreen() {
  document.getElementById('forgot-password-screen').classList.add('hidden');
  document.getElementById('login-screen').classList.remove('hidden');
}
document.getElementById('forgot-form').addEventListener('submit', async function(e) {
  e.preventDefault();
  var emailVal = document.getElementById('forgot-email').value.trim();
  var btn = document.getElementById('forgot-btn');
  var statusEl = document.getElementById('forgot-status');
  btn.disabled = true;
  btn.textContent = adminT[currentLang].sending || 'Sending...';
  statusEl.classList.add('hidden');
  try {
    var res = await fetch(API + '/forgot-password.php', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      credentials: 'include',
      body: JSON.stringify({ email: emailVal })
    });
    var json = await res.json();
    if (!res.ok || !json.success) throw new Error(json.error || 'Request failed');
    statusEl.className = 'text-sm text-center text-green-600 dark:text-green-400';
    statusEl.textContent = adminT[currentLang].resetLinkSent || 'If an account with that email exists, a reset link has been sent.';
    statusEl.classList.remove('hidden');
  } catch (err) {
    statusEl.className = 'text-sm text-center text-red-600';
    statusEl.textContent = adminT[currentLang].resetLinkError || 'Error sending reset link. Please try again.';
    statusEl.classList.remove('hidden');
  }
  btn.disabled = false;
  btn.textContent = adminT[currentLang].sendResetLink || 'Send Reset Link';
});

async function signOut() {
  try { await api('logout.php', { method: 'POST' }); } catch(e) {}
  csrfToken = '';
  currentUser = null;
  document.getElementById('admin-dashboard').classList.add('hidden');
  document.getElementById('forgot-password-screen').classList.add('hidden');
  document.getElementById('login-screen').classList.remove('hidden');
}

(async () => {
  try {
    const json = await api('session.php');
    csrfToken = json.data.csrf_token;
    showDashboard(json.data);
  } catch(e) { /* not logged in */ }
})();

function showDashboard(user) {
  currentUser = user;
  document.getElementById('login-screen').classList.add('hidden');
  document.getElementById('admin-dashboard').classList.remove('hidden');
  document.getElementById('admin-email').textContent = user.email;
  document.getElementById('admin-role').textContent = user.role || 'Admin';
  document.getElementById('settings-name').value = user.name || '';
  document.getElementById('settings-email').value = user.email || '';

  // Show Improvements tab only for superadmins
  var improvBtn = document.getElementById('docs-view-improvements');
  if (improvBtn) improvBtn.style.display = user.role === 'superadmin' ? '' : 'none';

  // Apply user's language preference to the admin panel UI
  var langEl = document.getElementById('settings-language');
  if(user.language && langEl) langEl.value = user.language;
  if (user.language === 'en') {
    currentLang = 'en';
  } else if (user.language === 'es') {
    currentLang = 'es';
  } else {
    // 'both' ‚Äî default to Spanish (primary audience)
    currentLang = 'es';
  }
  document.documentElement.lang = currentLang;
  document.getElementById('admin-lang-toggle').textContent = currentLang === 'en' ? 'ES' : 'EN';
  applyAdminTranslations();

  loadAllData();
  setupPolling();
  populateMonthFilter();
}

// ===== DATA =====
async function loadAllData() { await Promise.all([loadAppointments(), loadMessages(), loadEmployees(), loadEmailLogs(), loadGalleryImages(), loadServiceImages(), loadAdminUsers()]); }

async function loadAppointments() {
  try { const json = await api('appointments.php'); appointments = json.data || []; } catch(e) { appointments = []; }
  renderOverview(); renderAppointments(); renderCalendar();
}
async function loadMessages() {
  try { const json = await api('messages.php'); messages = json.data || []; } catch(e) { messages = []; }
  renderMessages(); renderOverview();
}
async function loadEmployees() {
  try { const json = await api('employees.php'); employees = json.data || []; } catch(e) { employees = []; }
  renderEmployees(); renderOverview();
  // Populate bulk assign employee dropdown
  var bulkEmpSelect = document.getElementById('bulk-employee');
  if (bulkEmpSelect) {
    var optionsHtml = '<option value="">' + (adminT[currentLang].assignEmployee || 'Assign Employee') + '</option>';
    employees.filter(function(e) { return e.is_active; }).forEach(function(emp) {
      optionsHtml += '<option value="' + emp.id + '">' + esc(emp.name) + '</option>';
    });
    bulkEmpSelect.innerHTML = optionsHtml;
  }
}
async function loadEmailLogs() {
  try { const json = await api('email-logs.php'); emailLogs = json.data || []; } catch(e) { emailLogs = []; }
  renderEmailLogs();
}
async function loadGalleryImages() {
  try { const json = await api('gallery.php'); galleryImages = json.data || []; } catch(e) { galleryImages = []; }
  renderGallery();
}
async function loadServiceImages() {
  try { const json = await api('service-images.php'); serviceImages = json.data || []; } catch(e) { serviceImages = []; }
  renderServiceImages();
}
async function loadAdminUsers() {
  try { const json = await api('admins.php'); adminUsers = json.data || []; } catch(e) { adminUsers = []; }
  renderEmployees();
}

let pollingInterval = null;
function setupPolling() {
  if (pollingInterval) clearInterval(pollingInterval);
  pollingInterval = setInterval(() => { loadAppointments(); loadMessages(); }, 30000);
}

// ===== MONTH FILTER =====
function populateMonthFilter() {
  const sel = document.getElementById('appt-month');
  for (let i = 0; i < 24; i++) {
    const d = new Date(); d.setMonth(d.getMonth() - i);
    const val = `${d.getFullYear()}-${String(d.getMonth()+1).padStart(2,'0')}`;
    const opt = document.createElement('option');
    opt.value = val;
    opt.textContent = d.toLocaleDateString('en-US',{month:'long',year:'numeric'});
    sel.appendChild(opt);
  }
}

// ===== OVERVIEW =====
function renderOverview() {
  const today = new Date(); today.setHours(0,0,0,0);
  const in14 = new Date(today); in14.setDate(in14.getDate()+14);
  const upcoming = appointments.filter(a => { const d = new Date(a.preferred_date+'T00:00:00'); return d >= today && d < in14; });
  
  document.getElementById('stat-total').textContent = upcoming.length;
  document.getElementById('stat-pending').textContent = upcoming.filter(a=>a.status==='new').length;
  document.getElementById('stat-confirmed').textContent = upcoming.filter(a=>a.status==='confirmed').length;
  document.getElementById('stat-completed').textContent = upcoming.filter(a=>a.status==='completed').length;

  // Upcoming by date
  const container = document.getElementById('overview-upcoming');
  const byDate = {};
  for (let i=0; i<14; i++) { const d = new Date(today); d.setDate(d.getDate()+i); byDate[d.toISOString().split('T')[0]] = []; }
  upcoming.forEach(a => { if(byDate[a.preferred_date]) byDate[a.preferred_date].push(a); });
  
  container.innerHTML = Object.entries(byDate).map(([date, apts]) => {
    const d = new Date(date+'T00:00:00');
    const dayLabel = d.toLocaleDateString('en-US',{weekday:'short',month:'short',day:'numeric'});
    const isToday = date === new Date().toISOString().split('T')[0];
    return `<div class="border-l-4 ${apts.length ? 'border-green-600 bg-green-50' : 'border-gray-300'} pl-4 py-2 rounded-r-lg ${isToday ? 'ring-2 ring-amber-500 bg-amber-50' : ''}">
      <div class="flex justify-between items-center mb-1">
        <h4 class="font-semibold text-sm ${isToday ? 'text-amber-800' : ''}">${isToday ? '‚≠ê Today ‚Äî ' : ''}${dayLabel}</h4>
        ${apts.length ? `<span class="text-xs bg-green-600 text-white px-2 py-1 rounded-full font-bold">${apts.length} appt${apts.length>1?'s':''}</span>` : '<span class="text-xs text-gray-400 italic">Open</span>'}
      </div>
      ${apts.length ? apts.slice(0,3).map(a => `<div class="text-sm flex justify-between items-center bg-white p-2 rounded mb-1 border">
        <span><strong>${fmtTime(a.preferred_time)}</strong> ‚Äî ${esc(a.first_name)} ${esc(a.last_name)} <span class="text-gray-500 text-xs">(${esc(a.service)})</span></span>${statusBadge(a.status)}${calSyncBadge(a)}
      </div>`).join('') + (apts.length>3 ? `<p class="text-xs text-gray-400">+${apts.length-3} more</p>` : '') : ''}
    </div>`;
  }).join('');

  // Employee schedule
  const empContainer = document.getElementById('overview-employees');
  const activeEmps = employees.filter(e=>e.is_active);
  empContainer.innerHTML = activeEmps.length ? activeEmps.map(emp => {
    const empApts = upcoming.filter(a=>a.assigned_employee_id===emp.id);
    return `<div class="border rounded-lg p-4">
      <div class="flex justify-between items-center mb-2"><div><h4 class="font-medium">${esc(emp.name)}</h4><p class="text-sm text-gray-500">${esc(emp.email||'')}</p></div>
      <div class="text-right"><p class="text-sm font-medium">${empApts.length} appointments</p><p class="text-xs text-gray-500">~${(empApts.length*1.5).toFixed(1)} hours</p></div></div>
      ${empApts.length ? empApts.slice(0,2).map(a=>`<div class="text-sm flex items-center gap-2 bg-gray-50 p-2 rounded mb-1">üìÖ ${fmtDate(a.preferred_date)} ${fmtTime(a.preferred_time)}</div>`).join('') + (empApts.length>2?`<p class="text-xs text-gray-400">+${empApts.length-2} more</p>`:'') : '<p class="text-sm text-gray-400">No appointments in next 14 days</p>'}
    </div>`;
  }).join('') : '<p class="text-gray-500 text-center py-4">No active employees</p>';
}

// ===== CALENDAR =====
function renderCalendar() {
  const grid = document.getElementById('cal-grid');
  const y = calDate.getFullYear(), m = calDate.getMonth();
  document.getElementById('cal-month-label').textContent = calDate.toLocaleDateString('en-US',{month:'long',year:'numeric'});
  
  const firstDay = new Date(y,m,1).getDay(), daysInMonth = new Date(y,m+1,0).getDate();
  let html = ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'].map(d=>`<div class="font-bold text-xs text-gray-500 py-1">${d}</div>`).join('');
  for(let i=0;i<firstDay;i++) html += '<div></div>';
  for(let d=1;d<=daysInMonth;d++) {
    const dateStr = `${y}-${String(m+1).padStart(2,'0')}-${String(d).padStart(2,'0')}`;
    const count = appointments.filter(a=>a.preferred_date===dateStr).length;
    const isSelected = calSelectedDate.toISOString().split('T')[0] === dateStr;
    const isToday = new Date().toISOString().split('T')[0] === dateStr;
    const hasAppts = count > 0;
    let cellClasses = 'p-1 text-center cursor-pointer rounded-lg hover:bg-gray-100 relative';
    if(isSelected) cellClasses += ' bg-brand text-white hover:bg-brand';
    else if(hasAppts) cellClasses += ' bg-green-100 border-2 border-green-500 font-bold';
    if(isToday && !isSelected) cellClasses += ' ring-2 ring-amber-500';
    html += `<div onclick="selectCalDay('${dateStr}')" class="${cellClasses}">
      <div class="text-sm">${d}</div>
      ${count ? `<div class="text-xs ${isSelected?'text-white/80':'text-green-700'} font-bold">${count} appt${count>1?'s':''}</div>` : ''}
    </div>`;
  }
  grid.innerHTML = html;
  renderCalDay();
}
function selectCalDay(dateStr) { calSelectedDate = new Date(dateStr+'T00:00:00'); renderCalendar(); }
function calNavMonth(dir) { calDate.setMonth(calDate.getMonth()+dir); renderCalendar(); }
function calNavDay(dir) { calSelectedDate.setDate(calSelectedDate.getDate()+dir); calDate = new Date(calSelectedDate); renderCalendar(); }
function renderCalDay() {
  const dateStr = calSelectedDate.toISOString().split('T')[0];
  document.getElementById('cal-day-label').textContent = calSelectedDate.toLocaleDateString('en-US',{weekday:'long',month:'long',day:'numeric',year:'numeric'});
  const dayApts = appointments.filter(a=>a.preferred_date===dateStr).sort((a,b)=>(a.preferred_time||'').localeCompare(b.preferred_time||''));
  const container = document.getElementById('cal-day-appointments');
  const activeEmps = employees.filter(e=>e.is_active);

  if (!dayApts.length) {
    container.innerHTML = '<div class="text-center py-12 text-gray-500"><div class="text-4xl mb-3">üìÖ</div><p class="text-lg font-medium">No appointments</p><p class="text-sm">This day is open for bookings</p></div>';
    return;
  }

  // Unassigned count
  const unassigned = dayApts.filter(a=>!a.assigned_employee_id).length;
  let headerHtml = '';
  if (unassigned > 0) {
    headerHtml = `<div class="bg-orange-50 border border-orange-300 rounded-lg p-3 mb-4 flex justify-between items-center">
      <span class="text-orange-800 font-medium">‚ö†Ô∏è ${unassigned} unassigned appointment${unassigned>1?'s':''}</span>
      <button onclick="quickAssignDay('${dateStr}')" class="bg-orange-600 text-white px-3 py-1 rounded text-sm hover:bg-orange-700">‚ö° Quick Assign All</button>
    </div>`;
  }

  container.innerHTML = headerHtml + dayApts.map(a => `
    <div class="border rounded-lg p-4 hover:shadow-md transition ${!a.assigned_employee_id ? 'border-orange-300 bg-orange-50/50' : 'hover:bg-gray-50'}">
      <div class="flex justify-between items-start gap-4">
        <div class="flex-1">
          <div class="flex items-center gap-2 mb-1">
            <span class="text-lg font-bold text-brand dark:text-green-400">${fmtTime(a.preferred_time)}</span>
            ${statusBadge(a.status)}${calSyncBadge(a)}
          </div>
          <h4 class="font-medium">${esc(a.first_name)} ${esc(a.last_name)}</h4>
          <p class="text-sm text-gray-600">${esc(a.service)}</p>
          <p class="text-sm text-gray-500">${esc(a.email)} ${a.phone?'‚Ä¢ '+esc(a.phone):''}</p>
          ${a.message ? `<p class="text-xs text-gray-500 mt-1 italic border-l-2 border-gray-300 pl-2">"${esc(a.message)}"</p>` : ''}
          ${a.admin_notes ? `<p class="text-xs text-blue-600 mt-1">üìù ${esc(a.admin_notes)}</p>` : ''}
        </div>
        <div class="flex flex-col gap-2 min-w-[180px]">
          <div>
            <label class="text-xs font-medium text-gray-500">Employee</label>
            <select onchange="updateApptAssignment('${a.id}',this.value)" class="w-full border rounded px-2 py-1.5 text-sm ${!a.assigned_employee_id ? 'border-orange-400 bg-orange-50' : 'border-green-400 bg-green-50'}">
              <option value="">${adminT[currentLang].unassigned}</option>
              ${activeEmps.map(e=>`<option value="${e.id}" ${a.assigned_employee_id===e.id?'selected':''}>${esc(e.name)}</option>`).join('')}
            </select>
          </div>
          <div>
            <label class="text-xs font-medium text-gray-500">Status</label>
            <select onchange="updateApptStatus('${a.id}',this.value)" class="w-full border rounded px-2 py-1.5 text-sm">
              <option value="new" ${a.status==='new'?'selected':''}>New</option>
              <option value="confirmed" ${a.status==='confirmed'?'selected':''}>Confirmed</option>
              <option value="completed" ${a.status==='completed'?'selected':''}>Completed</option>
              <option value="cancelled" ${a.status==='cancelled'?'selected':''}>Cancelled</option>
            </select>
          </div>
          <button onclick="openNotesModal('${a.id}')" class="border rounded px-2 py-1 text-xs hover:bg-gray-100 text-center">üìù Notes</button>
        </div>
      </div>
    </div>
  `).join('');
}

// ===== APPOINTMENTS =====
function sortAppts(col) { if(apptSortBy===col) apptSortOrder=apptSortOrder==='asc'?'desc':'asc'; else { apptSortBy=col; apptSortOrder='desc'; } renderAppointments(); }

function renderAppointments() {
  const filter = document.getElementById('appt-filter').value;
  const search = document.getElementById('appt-search').value.toLowerCase();
  const month = document.getElementById('appt-month').value;
  const perPage = document.getElementById('appt-per-page').value;

  let filtered = appointments.filter(a => {
    if (filter !== 'all' && a.status !== filter) return false;
    if (month !== 'all') { const [y,m] = month.split('-'); const ad = new Date(a.preferred_date+'T00:00:00'); if(ad.getFullYear()!==parseInt(y)||ad.getMonth()+1!==parseInt(m)) return false; }
    if (search) { const s = `${a.first_name} ${a.last_name} ${a.email} ${a.phone||''} ${a.service} ${a.status}`.toLowerCase(); if(!s.includes(search)) return false; }
    return true;
  });

  filtered.sort((a,b) => {
    let cmp = 0;
    if(apptSortBy==='customer') cmp=`${a.first_name} ${a.last_name}`.localeCompare(`${b.first_name} ${b.last_name}`);
    else if(apptSortBy==='service') cmp=a.service.localeCompare(b.service);
    else if(apptSortBy==='status') cmp=a.status.localeCompare(b.status);
    else if(apptSortBy==='date') cmp=new Date(a.preferred_date).getTime()-new Date(b.preferred_date).getTime();
    else cmp=new Date(a.created_at).getTime()-new Date(b.created_at).getTime();
    return apptSortOrder==='asc'?cmp:-cmp;
  });

  const showAll = perPage === 'all';
  const pp = showAll ? filtered.length : parseInt(perPage);
  const totalPages = showAll ? 1 : Math.ceil(filtered.length / pp);
  if(apptPage > totalPages) apptPage = totalPages || 1;
  const start = (apptPage-1)*pp, end = start+pp;
  const page = filtered.slice(start, end);

  const tbody = document.getElementById('appointments-table');
  // NOTE: All user data is escaped via esc() helper before insertion ‚Äî XSS-safe
  tbody.innerHTML = page.length ? page.map(a => `
    <tr class="border-b hover:bg-gray-50">
      <td class="px-4 py-3"><input type="checkbox" class="appt-checkbox rounded" value="${a.id}" onchange="updateBulkToolbar()"></td>
      <td class="p-3"><div class="font-medium">${esc(a.first_name)} ${esc(a.last_name)}</div><div class="text-xs text-gray-500">Created: ${new Date(a.created_at).toLocaleDateString()}</div></td>
      <td class="p-3">${esc(a.service)}</td>
      <td class="p-3"><div class="font-medium">${fmtDate(a.preferred_date)}</div><div class="text-xs text-gray-500">${fmtTime(a.preferred_time)}</div>
        ${a.status==='completed'&&a.actual_duration_minutes?`<div class="text-xs text-green-700 font-medium mt-1">Completed in ${a.actual_duration_minutes}min</div>`:''}</td>
      <td class="p-3"><div class="text-sm">${esc(a.email)}</div>${a.phone?`<div class="text-xs text-gray-500">${esc(a.phone)}</div>`:''}</td>
      <td class="p-3 text-sm">${a.assigned_employee_id ? esc(employees.find(e=>e.id===a.assigned_employee_id)?.name||'Unknown') : '<span class="text-gray-400">' + adminT[currentLang].unassignedLabel + '</span>'}</td>
      <td class="p-3">${statusBadge(a.status)}${calSyncBadge(a)}</td>
      <td class="p-3"><div class="flex flex-col gap-1">
        <select onchange="updateApptStatus('${a.id}',this.value)" class="border rounded px-2 py-1 text-xs">
          <option value="new" ${a.status==='new'?'selected':''}>New</option><option value="confirmed" ${a.status==='confirmed'?'selected':''}>Confirmed</option>
          <option value="completed" ${a.status==='completed'?'selected':''}>Completed</option><option value="cancelled" ${a.status==='cancelled'?'selected':''}>Cancelled</option>
        </select>
        <select onchange="updateApptAssignment('${a.id}',this.value)" class="border rounded px-2 py-1 text-xs">
          <option value="">${adminT[currentLang].unassignedLabel}</option>${employees.filter(e=>e.is_active).map(e=>`<option value="${e.id}" ${a.assigned_employee_id===e.id?'selected':''}>${esc(e.name)}</option>`).join('')}
        </select>
        <button onclick="openNotesModal('${a.id}')" class="border rounded px-2 py-1 text-xs hover:bg-gray-100">üìù Notes</button>
      </div></td>
    </tr>
  `).join('') : '<tr><td colspan="8" class="p-6 text-center text-gray-500">No appointments found</td></tr>';
  // Reset select-all checkbox and bulk toolbar on re-render
  const selectAllCb = document.getElementById('select-all-appts');
  if (selectAllCb) selectAllCb.checked = false;
  updateBulkToolbar();

  // Pagination
  const pagDiv = document.getElementById('appt-pagination');
  if(totalPages > 1) {
    pagDiv.innerHTML = `<button onclick="apptPage=Math.max(1,apptPage-1);renderAppointments()" class="px-3 py-1 border rounded ${apptPage===1?'opacity-50':'hover:bg-gray-100'}" ${apptPage===1?'disabled':''}>‚Üê Prev</button>` +
      Array.from({length:totalPages},(_,i)=>`<button onclick="apptPage=${i+1};renderAppointments()" class="px-3 py-1 border rounded ${apptPage===i+1?'bg-brand text-white':'hover:bg-gray-100'}">${i+1}</button>`).join('') +
      `<button onclick="apptPage=Math.min(${totalPages},apptPage+1);renderAppointments()" class="px-3 py-1 border rounded ${apptPage===totalPages?'opacity-50':'hover:bg-gray-100'}" ${apptPage===totalPages?'disabled':''}>Next ‚Üí</button>`;
  } else pagDiv.innerHTML = '';
}

// ===== MESSAGES =====
function renderMessages() {
  const tbody = document.getElementById('messages-table');
  tbody.innerHTML = messages.length ? messages.map(m => `
    <tr class="border-b hover:bg-gray-50">
      <td class="p-3 font-medium text-brand-light">${esc(m.first_name)} ${esc(m.last_name)}</td>
      <td class="p-3 text-sm"><div>${esc(m.email)}</div>${m.phone?`<div class="text-xs text-gray-500">${esc(m.phone)}</div>`:''}</td>
      <td class="p-3 text-sm max-w-[400px]">
        <div class="line-clamp-2">${esc(m.message)}</div>
        ${m.message && m.message.length > 80 ? `<button onclick="openMessageModal('${m.id}')" class="text-brand-light text-xs font-medium hover:underline mt-1">Read full message ‚Üí</button>` : ''}
      </td>
      <td class="p-3 text-sm">${new Date(m.created_at).toLocaleDateString()}</td>
      <td class="p-3">
        <select onchange="updateMsgStatus('${m.id}',this.value)" class="border rounded px-2 py-1 text-xs">
          <option value="new" ${m.status==='new'?'selected':''}>New</option><option value="priority" ${m.status==='priority'?'selected':''}>Priority</option><option value="completed" ${m.status==='completed'?'selected':''}>Completed</option>
        </select>
        <button onclick="openMessageModal('${m.id}')" class="border rounded px-2 py-1 text-xs hover:bg-gray-100 mt-1 block w-full">üëÅ View</button>
      </td>
    </tr>
  `).join('') : '<tr><td colspan="5" class="p-6 text-center text-gray-500">No messages found</td></tr>';
}

// ===== EMAIL LOGS =====
function renderEmailLogs() {
  const container = document.getElementById('email-logs-list');
  if(!emailLogs.length) { container.innerHTML = '<div class="bg-white rounded-xl shadow p-8 text-center text-gray-500">üìß No emails have been sent yet.</div>'; return; }
  container.innerHTML = emailLogs.map(log => {
    const typeColors = {appointment_created:'bg-blue-100 text-blue-800',appointment_assigned:'bg-amber-100 text-amber-800',appointment_completed:'bg-green-100 text-green-800'};
    const typeLabels = {appointment_created:'Confirmation',appointment_assigned:'Assignment',appointment_completed:'Completion'};
    return `<div class="bg-white rounded-xl shadow p-4 hover:shadow-md transition">
      <div class="flex justify-between items-start">
        <div class="space-y-1">
          <div class="flex gap-2"><span class="px-2 py-1 rounded-full text-xs font-medium ${typeColors[log.email_type]||'bg-gray-100 text-gray-800'}">${typeLabels[log.email_type]||log.email_type}</span>
          <span class="px-2 py-1 rounded-full text-xs font-medium border">${log.recipient_type}</span></div>
          <h4 class="font-medium">${esc(log.subject)}</h4>
        </div>
        <button onclick="viewEmail('${log.id}')" class="border rounded px-3 py-1 text-sm hover:bg-gray-50">üëÅ View</button>
      </div>
      <div class="flex justify-between items-center text-sm text-gray-500 mt-2">
        <div>üë§ ${esc(log.recipient_name)} ‚Ä¢ üìß ${esc(log.recipient_email)}</div>
        <div>üìÖ ${new Date(log.sent_at).toLocaleDateString()} üïê ${new Date(log.sent_at).toLocaleTimeString()}</div>
      </div>
    </div>`;
  }).join('');
}
function viewEmail(id) {
  const log = emailLogs.find(l=>l.id===id); if(!log) return;
  document.getElementById('email-modal-subject').textContent = log.subject;
  document.getElementById('email-modal-meta').innerHTML = `
    <div><strong>To:</strong> ${esc(log.recipient_name)} (${esc(log.recipient_email)})</div>
    <div><strong>Type:</strong> ${esc(log.email_type)}</div>
    <div><strong>Sent:</strong> ${fmtDateTime(log.sent_at)}</div>
    <div><strong>Message ID:</strong> ${esc(log.resend_message_id||'N/A')}</div>`;
  const bodyContainer = document.getElementById('email-modal-body');
  bodyContainer.textContent = '';
  const iframe = document.createElement('iframe');
  iframe.sandbox = 'allow-same-origin';
  iframe.style.cssText = 'width:100%;min-height:200px;border:none;';
  bodyContainer.appendChild(iframe);
  iframe.srcdoc = log.body || '';
  iframe.onload = function() { iframe.style.height = iframe.contentDocument.body.scrollHeight + 'px'; };
  document.getElementById('email-modal').classList.remove('hidden');
}

function openMessageModal(id) {
  const m = messages.find(msg => msg.id === id); if(!m) return;
  document.getElementById('message-modal-meta').innerHTML = `
    <div class="grid grid-cols-2 gap-4">
      <div><strong>Name:</strong> ${esc(m.first_name)} ${esc(m.last_name)}</div>
      <div><strong>Email:</strong> ${esc(m.email)}</div>
      ${m.phone ? `<div><strong>Phone:</strong> ${esc(m.phone)}</div>` : ''}
      <div><strong>Date:</strong> ${new Date(m.created_at).toLocaleString()}</div>
    </div>`;
  document.getElementById('message-modal-body').textContent = m.message;
  document.getElementById('message-modal-status').innerHTML = `
    <select onchange="updateMsgStatus('${m.id}',this.value)" class="border rounded px-3 py-2 text-sm">
      <option value="new" ${m.status==='new'?'selected':''}>New</option>
      <option value="priority" ${m.status==='priority'?'selected':''}>Priority</option>
      <option value="completed" ${m.status==='completed'?'selected':''}>Completed</option>
    </select>`;
  document.getElementById('message-modal').classList.remove('hidden');
}

// ===== EMPLOYEES =====
function toggleAddEmployeeForm() { document.getElementById('add-employee-form').classList.toggle('hidden'); }
function toggleAddAdminForm() { document.getElementById('add-admin-form').classList.toggle('hidden'); }

function renderEmployees() {
  const container = document.getElementById('employees-content');
  const active = employees.filter(e=>e.is_active), inactive = employees.filter(e=>!e.is_active);
  // Find admins not in employee list
  const empEmails = employees.map(e => (e.email||'').toLowerCase()).filter(Boolean);
  const adminOnly = adminUsers.filter(u => !empEmails.includes(u.email.toLowerCase()));
  
  container.innerHTML = `
    <div class="flex justify-end gap-2 mb-4">
      <button onclick="toggleAddEmployeeForm()" class="bg-brand text-white px-4 py-2 rounded-lg text-sm">+ Add Employee</button>
      <button onclick="toggleAddAdminForm()" class="bg-blue-600 text-white px-4 py-2 rounded-lg text-sm">+ Add Admin</button>
    </div>
    ${adminOnly.length ? `<h3 class="font-bold text-green-700 mb-3">üõ° Dashboard Admins (${adminOnly.length})</h3>
      <div class="space-y-3 mb-6">${adminOnly.map(u => {
        const status = u.invite_status || 'no_invite';
        const statusBadge = status === 'active' ? '<span class="bg-green-600 text-white px-2 py-0.5 rounded-full text-xs">Active</span>'
          : status === 'invited' ? '<span class="bg-amber-500 text-white px-2 py-0.5 rounded-full text-xs">Invited</span>'
          : status === 'invite_expired' ? '<span class="bg-red-500 text-white px-2 py-0.5 rounded-full text-xs">Invite Expired</span>'
          : '<span class="bg-gray-400 text-white px-2 py-0.5 rounded-full text-xs">No Invite</span>';
        const statusLine = status === 'active' && u.last_login_at ? 'Last login: ' + new Date(u.last_login_at).toLocaleDateString()
          : status === 'active' ? 'Password set: ' + new Date(u.setup_completed_at).toLocaleDateString()
          : 'Created: ' + new Date(u.created_at).toLocaleDateString();
        const langLabel = u.language === 'es' ? 'üá≤üáΩ ES' : u.language === 'both' ? 'üåê EN/ES' : 'üá∫üá∏ EN';
        const needsPassword = status !== 'active';
        return `
        <div class="border border-green-200 rounded-lg bg-green-50 p-4 flex items-center justify-between dark:bg-green-900/20 dark:border-green-800">
          <div class="flex items-center gap-3">
            <div class="h-10 w-10 bg-green-600 rounded-full flex items-center justify-center text-white font-bold">üõ°</div>
            <div>
              <div class="flex items-center gap-2 flex-wrap"><span class="font-medium dark:text-white">${esc(u.display_name)}</span><span class="bg-green-600 text-white px-2 py-0.5 rounded-full text-xs">Admin</span>${statusBadge}<span class="bg-gray-100 text-gray-600 px-2 py-0.5 rounded-full text-xs dark:bg-gray-700 dark:text-gray-300">${langLabel}</span></div>
              <div class="text-sm text-gray-600 dark:text-gray-400">${esc(u.email)}</div>
              <div class="text-sm text-gray-500 dark:text-gray-500">${statusLine}</div>
            </div>
          </div>
          <div class="flex items-center gap-2 flex-wrap">
            <button onclick="openSetPasswordModal('${u.id}','${esc(u.display_name)}')" class="text-green-700 border border-green-300 px-3 py-1 rounded-lg text-sm hover:bg-green-50 dark:text-green-400 dark:border-green-700 dark:hover:bg-green-900/40">üîë Set Password</button>
            ${(status === 'invited' || status === 'invite_expired' || status === 'no_invite') ? `<button onclick="resendAdminInvite('${u.id}')" class="text-blue-600 border border-blue-200 px-3 py-1 rounded-lg text-sm hover:bg-blue-50 dark:text-blue-400 dark:border-blue-700 dark:hover:bg-blue-900/40">üì® Send Invite</button>` : ''}
            <button onclick="revokeAdmin('${u.id}')" class="text-red-600 border border-red-200 px-3 py-1 rounded-lg text-sm hover:bg-red-50 dark:text-red-400 dark:border-red-700 dark:hover:bg-red-900/40">üóë Revoke</button>
          </div>
        </div>`;
      }).join('')}</div>` : ''}
    <h3 class="font-bold text-brand mb-3">Active Employees (${active.length})</h3>
    <div class="space-y-3 mb-6">${active.length ? active.map(renderEmployeeCard).join('') : '<p class="text-gray-500">No active employees</p>'}</div>
    ${inactive.length ? `<h3 class="font-bold text-gray-500 mb-3">Inactive Employees (${inactive.length})</h3><div class="space-y-3">${inactive.map(e=>renderEmployeeCard(e,true)).join('')}</div>` : ''}
  `;
}

function renderEmployeeCard(emp, inactive) {
  const upcoming = appointments.filter(a => a.assigned_employee_id===emp.id && new Date(a.preferred_date+'T00:00:00') >= new Date(new Date().toISOString().split('T')[0]+'T00:00:00'));
  const isEmpAdmin = adminUsers.some(u => u.email && emp.email && u.email.toLowerCase() === emp.email.toLowerCase());
  return `<div class="border rounded-lg p-4 ${inactive?'bg-gray-50':isEmpAdmin?'bg-green-50 border-green-200':'bg-white'}" id="emp-card-${emp.id}">
    <div id="emp-view-${emp.id}">
      <div class="flex items-center justify-between">
        <div class="flex-1">
          <div class="flex items-center gap-2">
            <span class="font-medium">${esc(emp.name)}</span>
            <span class="text-xs px-2 py-1 rounded-full ${emp.role==='Manager'?'bg-blue-100 text-blue-800':'bg-gray-100 text-gray-800'}">${emp.role||'Employee'}</span>
            ${isEmpAdmin?'<span class="text-xs px-2 py-1 rounded-full bg-green-600 text-white">üõ° Admin</span>':''}
            ${inactive?'<span class="text-xs px-2 py-1 rounded-full bg-gray-200 text-gray-600">Inactive</span>':''}
          </div>
          <div class="text-sm text-gray-600">${emp.email?esc(emp.email):''}${emp.email&&emp.phone?' ‚Ä¢ ':''}${emp.phone?esc(emp.phone):''}</div>
          ${!inactive && upcoming.length ? `<div class="mt-2 p-2 bg-blue-50 rounded text-sm">üìÖ <span class="text-blue-800 font-medium">${upcoming.length} upcoming</span>
            ${upcoming[0]?` ‚Ä¢ Next: ${fmtDate(upcoming[0].preferred_date)}`:''}</div>` : ''}
        </div>
        <div class="flex items-center gap-2">
          <button onclick="startEditEmployee('${emp.id}')" class="border rounded px-3 py-1 text-xs text-gray-600 hover:bg-gray-100">‚úèÔ∏è Edit</button>
          <button onclick="toggleEmployeeStatus('${emp.id}',${!emp.is_active})" class="border rounded px-3 py-1 text-xs ${inactive?'text-green-600 hover:bg-green-50':'text-red-600 hover:bg-red-50'}">${inactive?'‚ö° Activate':'‚èª Deactivate'}</button>
          ${!inactive && emp.email && !isEmpAdmin ? `<button onclick="makeAdmin('${esc(emp.email)}','${esc(emp.name)}')" class="border rounded px-3 py-1 text-xs text-blue-600 hover:bg-blue-50">üõ° Make Admin</button>` : ''}
          ${isEmpAdmin ? `<button onclick="revokeAdminByEmail('${esc(emp.email)}')" class="border rounded px-3 py-1 text-xs text-red-600 hover:bg-red-50">üõ° Revoke Admin</button>` : ''}
        </div>
      </div>
    </div>
    <div id="emp-edit-${emp.id}" class="hidden">
      <div class="grid md:grid-cols-4 gap-3 items-end">
        <div><label class="text-xs font-medium">Name *</label><input id="edit-emp-name-${emp.id}" value="${esc(emp.name)}" class="w-full p-2 border rounded mt-1 text-sm"></div>
        <div><label class="text-xs font-medium">Email</label><input id="edit-emp-email-${emp.id}" value="${esc(emp.email||'')}" class="w-full p-2 border rounded mt-1 text-sm"></div>
        <div><label class="text-xs font-medium">Phone</label><input id="edit-emp-phone-${emp.id}" value="${esc(emp.phone||'')}" class="w-full p-2 border rounded mt-1 text-sm"></div>
        <div><label class="text-xs font-medium">Role</label><select id="edit-emp-role-${emp.id}" class="w-full p-2 border rounded mt-1 text-sm"><option value="Employee" ${emp.role==='Employee'?'selected':''}>Employee</option><option value="Manager" ${emp.role==='Manager'?'selected':''}>Manager</option></select></div>
      </div>
      <div class="flex gap-2 mt-3">
        <button onclick="saveEditEmployee('${emp.id}')" class="bg-brand text-white px-4 py-2 rounded-lg text-sm">üíæ Save</button>
        <button onclick="cancelEditEmployee('${emp.id}')" class="border px-4 py-2 rounded-lg text-sm">Cancel</button>
      </div>
    </div>
  </div>`;
}

// ===== GALLERY =====
function toggleAddGalleryForm() { document.getElementById('add-gallery-form').classList.toggle('hidden'); }

function renderGallery() {
  const container = document.getElementById('gallery-grid');
  container.innerHTML = galleryImages.length ? galleryImages.map(img => `
    <div class="border rounded-lg bg-white p-3 flex items-start gap-4">
      <img src="${esc(img.image_url)}" alt="${esc(img.title)}" class="w-20 h-20 object-cover rounded">
      <div class="flex-1">
        <div class="flex justify-between items-start">
          <div><h4 class="font-medium">${esc(img.title)}</h4><p class="text-sm text-gray-600 capitalize">${img.language||'english'} ‚Ä¢ Order: ${img.display_order||0} ‚Ä¢ ${img.is_active!==false?'Active':'Inactive'}</p>
          ${img.description?`<p class="text-sm text-gray-500 mt-1">${esc(img.description)}</p>`:''}</div>
          <button onclick="deleteGalleryImage('${img.id}','${esc(img.image_url)}')" class="text-red-600 border border-red-200 px-2 py-1 rounded text-xs hover:bg-red-50">üóë</button>
        </div>
      </div>
    </div>
  `).join('') : '<div class="text-center py-8 text-gray-500">No gallery images found. Add your first image above.</div>';
}

// ===== IMAGE COMPRESSION =====
function formatFileSize(bytes) {
  if (bytes < 1024) return bytes + ' B';
  if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(1) + ' KB';
  return (bytes / (1024 * 1024)).toFixed(1) + ' MB';
}

function compressImage(file, maxWidth, quality) {
  maxWidth = maxWidth || 1920;
  quality = quality || 0.85;
  return new Promise(function(resolve, reject) {
    // Skip compression for small files under 200KB
    if (file.size < 200 * 1024) {
      resolve(file);
      return;
    }
    const reader = new FileReader();
    reader.onload = function(e) {
      const img = new Image();
      img.onload = function() {
        const canvas = document.createElement('canvas');
        let w = img.width, h = img.height;
        if (w > maxWidth) { h = Math.round(h * maxWidth / w); w = maxWidth; }
        canvas.width = w;
        canvas.height = h;
        const ctx = canvas.getContext('2d');
        ctx.drawImage(img, 0, 0, w, h);
        canvas.toBlob(function(blob) {
          if (!blob) { reject(new Error('Compression failed')); return; }
          const compressed = new File([blob], file.name.replace(/\.[^.]+$/, '.jpg'), { type: 'image/jpeg' });
          resolve(compressed);
        }, 'image/jpeg', quality);
      };
      img.onerror = function() { reject(new Error('Failed to load image')); };
      img.src = e.target.result;
    };
    reader.onerror = function() { reject(new Error('Failed to read file')); };
    reader.readAsDataURL(file);
  });
}

// ===== DRAG AND DROP =====
function initDragAndDrop() {
  // Gallery drop zone
  const galleryZone = document.getElementById('gallery-drop-zone');
  if (galleryZone) {
    setupDropZone(galleryZone, document.getElementById('gallery-file'));
  }
}

function setupDropZone(zone, fileInput) {
  zone.addEventListener('dragover', function(e) {
    e.preventDefault();
    e.stopPropagation();
    zone.classList.add('drag-over');
  });
  zone.addEventListener('dragleave', function(e) {
    e.preventDefault();
    e.stopPropagation();
    zone.classList.remove('drag-over');
  });
  zone.addEventListener('drop', function(e) {
    e.preventDefault();
    e.stopPropagation();
    zone.classList.remove('drag-over');
    if (e.dataTransfer.files.length && fileInput) {
      fileInput.files = e.dataTransfer.files;
      fileInput.dispatchEvent(new Event('change'));
    }
  });
  zone.addEventListener('click', function(e) {
    if (e.target !== fileInput && !fileInput.contains(e.target)) {
      fileInput.click();
    }
  });
  // Show compression info when files are selected
  if (fileInput) {
    fileInput.addEventListener('change', async function() {
      const infoEl = document.getElementById('gallery-compression-info');
      const detailsEl = document.getElementById('compression-details');
      if (!infoEl || !detailsEl) return;
      const files = Array.from(fileInput.files);
      if (!files.length) { infoEl.classList.add('hidden'); return; }
      const totalOriginal = files.reduce(function(s, f) { return s + f.size; }, 0);
      detailsEl.textContent = files.length + ' file(s) selected ‚Äî Total: ' + formatFileSize(totalOriginal) + ' (will auto-compress files over 200KB)';
      infoEl.classList.remove('hidden');
    });
  }
}

// ===== BULK GALLERY UPLOAD =====
async function uploadGalleryImages() {
  const fileInput = document.getElementById('gallery-file');
  const files = Array.from(fileInput.files);
  const title = document.getElementById('gallery-title').value;
  if (!files.length) { showToast(adminT[currentLang].selectAtLeastOneFile, true); return; }
  // Single file mode requires title
  if (files.length === 1 && !title) { showToast(adminT[currentLang].enterTitle, true); return; }
  const btn = document.getElementById('gallery-upload-btn');
  btn.textContent = 'Uploading...'; btn.disabled = true;
  const progressContainer = document.getElementById('gallery-upload-progress');
  progressContainer.classList.remove('hidden');
  progressContainer.innerHTML = '';
  let successCount = 0;
  for (let i = 0; i < files.length; i++) {
    const file = files[i];
    const fileTitle = files.length === 1 ? title : (title || file.name.replace(/\.[^.]+$/, ''));
    // Create progress element
    const progEl = document.createElement('div');
    progEl.id = 'upload-progress-' + i;
    progEl.className = 'flex items-center gap-2 text-sm';
    progEl.innerHTML = '<span class="flex-1 truncate">' + file.name + '</span><span class="file-progress text-gray-500">Compressing...</span>';
    progressContainer.appendChild(progEl);
    try {
      // Compress image
      const compressed = await compressImage(file, 1920, 0.85);
      const statusEl = progEl.querySelector('.file-progress');
      if (compressed !== file) {
        statusEl.textContent = 'Compressed: ' + formatFileSize(file.size) + ' ‚Üí ' + formatFileSize(compressed.size);
      }
      statusEl.textContent = 'Uploading...';
      const fd = new FormData();
      fd.append('image', compressed);
      fd.append('title', fileTitle);
      fd.append('description', document.getElementById('gallery-desc').value);
      const json = await api('gallery.php', { method: 'POST', body: fd, headers: { 'X-CSRF-Token': csrfToken } });
      statusEl.textContent = 'Done';
      statusEl.className = 'file-progress text-green-600 font-medium';
      successCount++;
    } catch (e) {
      const statusEl = progEl.querySelector('.file-progress');
      statusEl.textContent = 'Failed: ' + e.message;
      statusEl.className = 'file-progress text-red-600';
    }
  }
  showToast(successCount + ' / ' + files.length + ' ' + adminT[currentLang].imagesUploaded);
  if (successCount > 0) loadGalleryImages();
  btn.textContent = 'üíæ Upload & Save'; btn.disabled = false;
  fileInput.value = '';
  document.getElementById('gallery-title').value = '';
  document.getElementById('gallery-desc').value = '';
  const infoEl = document.getElementById('gallery-compression-info');
  if (infoEl) infoEl.classList.add('hidden');
  setTimeout(function() { progressContainer.classList.add('hidden'); progressContainer.innerHTML = ''; }, 3000);
}

// Keep single-file function for backward compat
async function uploadGalleryImage() {
  return uploadGalleryImages();
}

async function deleteGalleryImage(id, url) {
  if(!confirm(adminT[currentLang].deleteImageConfirm)) return;
  try {
    await api('gallery.php?id=' + id, { method: 'DELETE' });
    showToast(adminT[currentLang].imageDeleted); loadGalleryImages();
  } catch(e) { showToast(adminT[currentLang].deleteFailed, true); }
}

// ===== ASSET PATH NORMALIZER =====
const ASSET_PATH_MAP = {
  '1290fb5e-e45c-4fc3-b523-e71d756ec1ef.png': 'logo.png',
  'afc0de17-b407-4b29-b6a2-6f44d5dcad0d.png': 'hero-bg.png',
  'b0182aa8-dde3-4175-8f09-21b6122f47f4.png': 'favicon.png',
};
function normalizeAssetPath(url) {
  if (!url || typeof url !== 'string') return url;
  if (!url.includes('/lovable-uploads/')) return url;
  let normalized = url.replace('/lovable-uploads/', '/assets/');
  for (const [uuid, name] of Object.entries(ASSET_PATH_MAP))
    normalized = normalized.replace(uuid, name);
  return normalized;
}

// ===== SERVICE IMAGES =====
function renderServiceImages() {
  const services = [
    {key:'hero-background',tKey:'svcHeroBackground'},{key:'expert-technicians',tKey:'svcExpertTechnicians'},
    {key:'fast-cars',tKey:'svcQuickService'},{key:'quality-car-parts',tKey:'svcQualityParts'},
    {key:'bilingual-support',tKey:'svcBilingualSupport'},{key:'tire-shop',tKey:'svcTireServices'},
    {key:'auto-repair',tKey:'svcAutoMaintenance'},{key:'specialized-tools',tKey:'svcSpecializedServices'}
  ];
  const container = document.getElementById('service-images-grid');
  const matched = services.map(s => ({ ...s, img: serviceImages.find(i=>i.service_key===s.key) }));
  container.innerHTML = matched.map(s => {
    const title = (adminT[currentLang] && adminT[currentLang][s.tKey]) || s.key;
    const imgUrl = s.img ? normalizeAssetPath(s.img.image_url) : null;
    // Crop preview: hero uses 16:9 ratio, service cards use 3:1 ratio
    const isHero = s.key === 'hero-background';
    const aspectClass = isHero ? 'aspect-[16/9]' : 'aspect-[3/1]';
    const aspectLabel = isHero ? '16:9 (hero viewport)' : '3:1 (service card)';
    return `
    <div class="bg-white rounded-xl shadow overflow-hidden">
      <div class="p-4"><h3 class="font-bold text-brand dark:text-green-400">${title}</h3><p class="text-xs text-gray-500">${s.key}</p></div>
      <div class="relative h-48 bg-gray-100 overflow-hidden" id="svc-preview-${s.key}">
        ${imgUrl ? `<div class="absolute inset-0 bg-cover" style="background-image:url(${imgUrl});background-position:${s.img.position_x||50}% ${s.img.position_y||50}%;background-size:${(s.img.scale||1)*100}%"></div>
          <div class="absolute inset-0 bg-black/30"></div>
          <div class="absolute top-2 right-2"><span class="bg-green-500 text-white px-2 py-1 rounded-full text-xs">üïê Live</span></div>
          <div class="crop-preview-overlay" id="crop-overlay-${s.key}"></div>`
          : '<div class="flex items-center justify-center h-full text-gray-400">No image uploaded</div>'}
      </div>
      ${imgUrl ? `<div class="p-3 border-t bg-amber-50">
        <button onclick="toggleCropPreview('${s.key}','${isHero}')" class="text-xs text-brand font-medium hover:underline">üëÅ Toggle Crop Preview (${aspectLabel})</button>
        <div id="crop-demo-${s.key}" class="hidden mt-2 mx-auto overflow-hidden border-2 border-amber-500 rounded ${aspectClass}" style="max-width:100%;">
          <div class="w-full h-full bg-cover" style="background-image:url(${imgUrl});background-position:${s.img.position_x||50}% ${s.img.position_y||50}%;background-size:${(s.img.scale||1)*100}%;min-height:60px;"></div>
        </div>
      </div>` : ''}
      ${s.img ? `<div class="p-4 border-t bg-gray-50 space-y-3">
        <div>
          <label class="text-xs font-medium text-gray-600">Horizontal Position: <span id="pos-x-val-${s.key}">${s.img.position_x||50}%</span></label>
          <input type="range" min="0" max="100" value="${s.img.position_x||50}" id="pos-x-${s.key}" oninput="document.getElementById('pos-x-val-${s.key}').textContent=this.value+'%';previewPosition('${s.key}')" class="w-full h-2 accent-green-700">
        </div>
        <div>
          <label class="text-xs font-medium text-gray-600">Vertical Position: <span id="pos-y-val-${s.key}">${s.img.position_y||50}%</span></label>
          <input type="range" min="0" max="100" value="${s.img.position_y||50}" id="pos-y-${s.key}" oninput="document.getElementById('pos-y-val-${s.key}').textContent=this.value+'%';previewPosition('${s.key}')" class="w-full h-2 accent-green-700">
        </div>
        <div>
          <label class="text-xs font-medium text-gray-600">Zoom: <span id="scale-val-${s.key}">${((s.img.scale||1)*100).toFixed(0)}%</span></label>
          <input type="range" min="100" max="300" value="${((s.img.scale||1)*100).toFixed(0)}" id="scale-${s.key}" oninput="document.getElementById('scale-val-${s.key}').textContent=this.value+'%';previewPosition('${s.key}')" class="w-full h-2 accent-green-700">
        </div>
        <button onclick="saveImagePosition('${s.key}','${s.img.id}')" class="bg-brand text-white px-4 py-2 rounded-lg text-sm w-full">üíæ Save Position & Crop</button>
      </div>` : ''}
      <div class="p-4 border-t">
        <label class="text-sm font-medium">Upload New Image</label>
        <div class="svc-drop-zone drop-zone mt-1" id="svc-drop-${s.key}">
          <div class="text-gray-400 text-xs mb-1">Drag & drop or click to browse</div>
          <input type="file" accept="image/*" id="svc-file-${s.key}" class="w-full text-sm border rounded p-1">
        </div>
        <button onclick="uploadServiceImage('${s.key}')" class="bg-brand text-white px-3 py-1 rounded text-sm mt-2 w-full">‚¨Ü Upload</button>
      </div>
    </div>
  `}).join('');
  // Initialize drag-and-drop for service image zones
  initServiceDropZones();
}

function initServiceDropZones() {
  document.querySelectorAll('.svc-drop-zone').forEach(function(zone) {
    const fileInput = zone.querySelector('input[type="file"]');
    if (!fileInput) return;
    setupDropZone(zone, fileInput);
  });
}

function toggleCropPreview(key, isHero) {
  const demo = document.getElementById('crop-demo-' + key);
  if (demo) demo.classList.toggle('hidden');
}

function showCropPreview(key) {
  const demo = document.getElementById('crop-demo-' + key);
  if (demo) demo.classList.remove('hidden');
}

function previewPosition(key) {
  const card = document.querySelector(`#service-images-grid [style*="${key}"]`)?.closest('.relative');
  if (!card) return;
  const bg = card.querySelector('[style*="background-image"]');
  if (!bg) return;
  const x = document.getElementById('pos-x-'+key)?.value || 50;
  const y = document.getElementById('pos-y-'+key)?.value || 50;
  const s = document.getElementById('scale-'+key)?.value || 100;
  bg.style.backgroundPosition = `${x}% ${y}%`;
  bg.style.backgroundSize = `${s}%`;
  // Also update the crop demo preview if visible
  const cropDemo = document.getElementById('crop-demo-' + key);
  if (cropDemo) {
    const cropBg = cropDemo.querySelector('[style*="background-image"]');
    if (cropBg) { cropBg.style.backgroundPosition = `${x}% ${y}%`; cropBg.style.backgroundSize = `${s}%`; }
  }
}

async function saveImagePosition(key, imageId) {
  const x = parseInt(document.getElementById('pos-x-'+key)?.value || 50);
  const y = parseInt(document.getElementById('pos-y-'+key)?.value || 50);
  const s = parseInt(document.getElementById('scale-'+key)?.value || 100) / 100;
  try {
    await api('service-images.php', { method: 'PUT', body: { id: imageId, position_x: x, position_y: y, scale: s } });
    showToast(adminT[currentLang].positionSaved);
    loadServiceImages();
  } catch(e) { showToast(adminT[currentLang].saveFailed + ': '+e.message, true); }
}

async function uploadServiceImage(key) {
  const input = document.getElementById('svc-file-'+key);
  const file = input?.files?.[0]; if(!file) { showToast(adminT[currentLang].selectFileFirst, true); return; }
  try {
    const compressed = await compressImage(file, 1920, 0.85);
    const fd = new FormData();
    fd.append('image', compressed);
    fd.append('service_key', key);
    await api('service-images.php', { method: 'POST', body: fd, headers: { 'X-CSRF-Token': csrfToken } });
    showToast(adminT[currentLang].imageIsLive); input.value=''; loadServiceImages();
  } catch(e) { showToast(adminT[currentLang].uploadFailed + ': '+e.message, true); }
}

// ===== ANALYTICS =====
let analyticsLoaded = false;

async function loadAnalytics() {
  var T = adminT[currentLang];
  var container = document.getElementById('analytics-content');

  // Show loading state
  container.textContent = '';
  var loadingDiv = document.createElement('div');
  loadingDiv.className = 'flex items-center justify-center py-16';
  var spinWrap = document.createElement('div');
  spinWrap.className = 'text-center';
  var spinner = document.createElement('div');
  spinner.className = 'inline-block w-8 h-8 border-4 border-brand border-t-transparent rounded-full animate-spin mb-4';
  var loadText = document.createElement('p');
  loadText.className = 'text-gray-500 dark:text-gray-400';
  loadText.textContent = T.analyticsLoading;
  spinWrap.appendChild(spinner);
  spinWrap.appendChild(loadText);
  loadingDiv.appendChild(spinWrap);
  container.appendChild(loadingDiv);

  try {
    // Fetch server-side analytics + use local appointment/employee/message data
    var serverData = await api('analytics.php').catch(function() { return { data: null }; });
    var sData = serverData.data || serverData;

    // Local data computations
    var total = appointments.length;
    var thisWeek = new Date(); thisWeek.setDate(thisWeek.getDate() - 7);
    var recent = appointments.filter(function(a) { return new Date(a.created_at) > thisWeek; }).length;

    // Status counts from server or local fallback
    var statusMap = {};
    if (sData && sData.appointments_by_status) {
      sData.appointments_by_status.forEach(function(s) { statusMap[s.status] = parseInt(s.count); });
    } else {
      appointments.forEach(function(a) { statusMap[a.status] = (statusMap[a.status] || 0) + 1; });
    }
    var newA = statusMap['new'] || 0;
    var pending = statusMap['pending'] || 0;
    var confirmed = statusMap['confirmed'] || 0;
    var completed = statusMap['completed'] || 0;
    var cancelled = statusMap['cancelled'] || 0;
    var totalFromStatus = newA + pending + confirmed + completed + cancelled || total;

    // Rates
    var confirmedRate = totalFromStatus ? Math.round((confirmed / totalFromStatus) * 100) : 0;
    var completionRate = totalFromStatus ? Math.round((completed / totalFromStatus) * 100) : 0;
    var cancellationRate = totalFromStatus ? Math.round((cancelled / totalFromStatus) * 100) : 0;

    // Services from server or local
    var serviceData = [];
    if (sData && sData.appointments_by_service) {
      serviceData = sData.appointments_by_service;
    } else {
      var svcMap = {};
      appointments.forEach(function(a) { svcMap[a.service] = (svcMap[a.service] || 0) + 1; });
      serviceData = Object.entries(svcMap).map(function(e) { return { service: e[0], count: e[1] }; }).sort(function(a, b) { return b.count - a.count; });
    }
    var maxSvc = serviceData.length ? Math.max.apply(null, serviceData.map(function(s) { return parseInt(s.count); })) : 1;

    // Peak times from server or local
    var peakData = [];
    if (sData && sData.peak_times) {
      peakData = sData.peak_times;
    } else {
      var timeCounts = {};
      appointments.forEach(function(a) {
        if (a.preferred_time) {
          var h = parseInt(a.preferred_time.split(':')[0]);
          timeCounts[h] = (timeCounts[h] || 0) + 1;
        }
      });
      peakData = Object.entries(timeCounts).map(function(e) { return { hour_slot: parseInt(e[0]), count: parseInt(e[1]) }; }).sort(function(a, b) { return a.hour_slot - b.hour_slot; });
    }
    var maxPeak = peakData.length ? Math.max.apply(null, peakData.map(function(p) { return parseInt(p.count); })) : 1;

    // Bookings trend from server
    var trendData = (sData && sData.bookings_trend) || [];

    // Messages from server or local
    var msgStatusMap = {};
    if (sData && sData.messages_by_status) {
      sData.messages_by_status.forEach(function(m) { msgStatusMap[m.status] = parseInt(m.count); });
    } else {
      messages.forEach(function(m) { msgStatusMap[m.status] = (msgStatusMap[m.status] || 0) + 1; });
    }
    var totalMsgs = sData ? (sData.total_messages || 0) : messages.length;
    var unreadMsgs = msgStatusMap['new'] || 0;
    var priorityMsgs = msgStatusMap['priority'] || 0;
    var resolvedMsgs = msgStatusMap['completed'] || 0;

    // Employees
    var totalEmps = sData ? (sData.total_employees || 0) : employees.filter(function(e) { return e.is_active; }).length;

    // Customers (local only)
    var custMap = {};
    appointments.forEach(function(a) {
      var k = a.email.toLowerCase();
      if (!custMap[k]) custMap[k] = { count: 0 };
      custMap[k].count++;
    });
    var totalCustomers = Object.keys(custMap).length;
    var recurringCustomers = Object.values(custMap).filter(function(c) { return c.count > 1; }).length;

    // Avg duration (local)
    var withTime = appointments.filter(function(a) { return a.status === 'completed' && a.actual_duration_minutes; });
    var avgDuration = withTime.length ? Math.round(withTime.reduce(function(s, a) { return s + (a.actual_duration_minutes || 0); }, 0) / withTime.length) : 0;

    // Employee performance (local)
    var empStats = employees.filter(function(e) { return e.is_active; }).map(function(e) {
      var eApts = appointments.filter(function(a) { return a.assigned_employee_id === e.id; });
      var eDone = eApts.filter(function(a) { return a.status === 'completed' && a.actual_duration_minutes; });
      var totalTime = eDone.reduce(function(s, a) { return s + (a.actual_duration_minutes || 0); }, 0);
      return { name: e.name, total: eApts.length, completed: eDone.length, totalTime: totalTime, avgTime: eDone.length ? Math.round(totalTime / eDone.length) : 0 };
    });

    // Format hour helper
    function fmtHour(h) { var hr = parseInt(h); return (hr % 12 || 12) + ':00 ' + (hr >= 12 ? 'PM' : 'AM'); }

    // ---- BUILD DOM ----
    container.textContent = '';
    var frag = document.createDocumentFragment();

    // Helper to create elements
    function el(tag, cls, text) {
      var e = document.createElement(tag);
      if (cls) e.className = cls;
      if (text !== undefined) e.textContent = text;
      return e;
    }

    // -- Top Stats Row (4 cards) --
    var topRow = el('div', 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6');

    var card1 = el('div', 'bg-white dark:bg-gray-800 rounded-xl shadow p-6');
    card1.appendChild(el('div', 'text-sm text-gray-500 dark:text-gray-400', T.analyticsTotalAppts));
    card1.appendChild(el('div', 'text-3xl font-bold text-brand dark:text-green-400', String(totalFromStatus)));
    var sub1 = el('p', 'text-xs text-gray-400 dark:text-gray-500 mt-1', T.analyticsThisWeek + ': ' + recent);
    card1.appendChild(sub1);
    topRow.appendChild(card1);

    var card2 = el('div', 'bg-white dark:bg-gray-800 rounded-xl shadow p-6');
    card2.appendChild(el('div', 'text-sm text-gray-500 dark:text-gray-400', T.analyticsMessages));
    card2.appendChild(el('div', 'text-3xl font-bold text-blue-600', String(totalMsgs)));
    card2.appendChild(el('p', 'text-xs text-gray-400 dark:text-gray-500 mt-1', T.analyticsUnread + ': ' + unreadMsgs));
    topRow.appendChild(card2);

    var card3 = el('div', 'bg-white dark:bg-gray-800 rounded-xl shadow p-6');
    card3.appendChild(el('div', 'text-sm text-gray-500 dark:text-gray-400', T.analyticsCustomers));
    card3.appendChild(el('div', 'text-3xl font-bold text-purple-600', String(totalCustomers)));
    card3.appendChild(el('p', 'text-xs text-gray-400 dark:text-gray-500 mt-1', T.analyticsRecurring + ': ' + recurringCustomers));
    topRow.appendChild(card3);

    var card4 = el('div', 'bg-white dark:bg-gray-800 rounded-xl shadow p-6');
    card4.appendChild(el('div', 'text-sm text-gray-500 dark:text-gray-400', T.analyticsEmployees));
    card4.appendChild(el('div', 'text-3xl font-bold text-amber-600', String(totalEmps)));
    if (avgDuration) card4.appendChild(el('p', 'text-xs text-gray-400 dark:text-gray-500 mt-1', T.analyticsAvgDuration + ': ' + avgDuration + ' ' + T.analyticsMinutes));
    topRow.appendChild(card4);

    frag.appendChild(topRow);

    // -- Rate Cards Row (4 cards) --
    var rateRow = el('div', 'grid grid-cols-2 md:grid-cols-4 gap-4 mb-6');

    var r1 = el('div', 'bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-xl p-4 text-center');
    r1.appendChild(el('div', 'text-sm text-blue-800 dark:text-blue-300', T.analyticsNewRate));
    r1.appendChild(el('div', 'text-2xl font-bold text-blue-600 dark:text-blue-400', String(newA + pending)));
    rateRow.appendChild(r1);

    var r2 = el('div', 'bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-xl p-4 text-center');
    r2.appendChild(el('div', 'text-sm text-green-800 dark:text-green-300', T.analyticsConfirmedRate));
    r2.appendChild(el('div', 'text-2xl font-bold text-green-600 dark:text-green-400', confirmedRate + '%'));
    rateRow.appendChild(r2);

    var r3 = el('div', 'bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl p-4 text-center');
    r3.appendChild(el('div', 'text-sm text-gray-800 dark:text-gray-300', T.analyticsCompletionRate));
    r3.appendChild(el('div', 'text-2xl font-bold text-gray-600 dark:text-gray-300', completionRate + '%'));
    rateRow.appendChild(r3);

    var r4 = el('div', 'bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-4 text-center');
    r4.appendChild(el('div', 'text-sm text-red-800 dark:text-red-300', T.analyticsCancellationRate));
    r4.appendChild(el('div', 'text-2xl font-bold text-red-600 dark:text-red-400', cancellationRate + '%'));
    rateRow.appendChild(r4);

    frag.appendChild(rateRow);

    // -- Two-Column: Popular Services + Status Breakdown --
    var midRow = el('div', 'grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6');

    // Popular Services
    var svcCard = el('div', 'bg-white dark:bg-gray-800 rounded-xl shadow p-6');
    svcCard.appendChild(el('h3', 'text-lg font-bold text-gray-800 dark:text-gray-200 mb-4', T.analyticsPopularServices));
    if (serviceData.length) {
      var svcList = el('div', 'space-y-3');
      serviceData.forEach(function(s) {
        var pct = Math.round((parseInt(s.count) / maxSvc) * 100);
        var row = el('div', '');
        var hdr = el('div', 'flex justify-between text-sm mb-1');
        hdr.appendChild(el('span', 'font-medium text-gray-700 dark:text-gray-300', s.service));
        hdr.appendChild(el('span', 'text-gray-500 dark:text-gray-400', s.count + ' ' + T.analyticsAppointments));
        row.appendChild(hdr);
        var barBg = el('div', 'w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3');
        var barFill = el('div', 'bg-brand rounded-full h-3 transition-all');
        barFill.style.width = pct + '%';
        barBg.appendChild(barFill);
        row.appendChild(barBg);
        svcList.appendChild(row);
      });
      svcCard.appendChild(svcList);
    } else {
      svcCard.appendChild(el('p', 'text-gray-400 dark:text-gray-500 text-center py-8', T.analyticsNoData));
    }
    midRow.appendChild(svcCard);

    // Status Breakdown
    var statusCard = el('div', 'bg-white dark:bg-gray-800 rounded-xl shadow p-6');
    statusCard.appendChild(el('h3', 'text-lg font-bold text-gray-800 dark:text-gray-200 mb-4', T.analyticsStatusBreakdown));
    if (totalFromStatus) {
      var statusItems = [
        { label: T.analyticsNew, count: newA, color: 'bg-blue-500', textColor: 'text-blue-600 dark:text-blue-400' },
        { label: T.analyticsPending, count: pending, color: 'bg-yellow-500', textColor: 'text-yellow-600 dark:text-yellow-400' },
        { label: T.analyticsConfirmed, count: confirmed, color: 'bg-green-500', textColor: 'text-green-600 dark:text-green-400' },
        { label: T.analyticsCompletedStatus, count: completed, color: 'bg-gray-500', textColor: 'text-gray-600 dark:text-gray-400' },
        { label: T.analyticsCancelled, count: cancelled, color: 'bg-red-500', textColor: 'text-red-600 dark:text-red-400' }
      ];
      // Stacked bar
      var stackedBar = el('div', 'flex rounded-full h-6 overflow-hidden mb-4');
      statusItems.forEach(function(item) {
        if (item.count > 0) {
          var pct = Math.max(Math.round((item.count / totalFromStatus) * 100), 2);
          var seg = el('div', item.color + ' transition-all');
          seg.style.width = pct + '%';
          seg.title = item.label + ': ' + item.count;
          stackedBar.appendChild(seg);
        }
      });
      statusCard.appendChild(stackedBar);
      // Legend
      var legend = el('div', 'grid grid-cols-2 sm:grid-cols-3 gap-3 mt-4');
      statusItems.forEach(function(item) {
        var legItem = el('div', 'flex items-center gap-2');
        legItem.appendChild(el('div', 'w-3 h-3 rounded-full ' + item.color));
        legItem.appendChild(el('span', 'text-sm text-gray-600 dark:text-gray-400', item.label));
        legItem.appendChild(el('span', 'text-sm font-bold ' + item.textColor, String(item.count)));
        legend.appendChild(legItem);
      });
      statusCard.appendChild(legend);
    } else {
      statusCard.appendChild(el('p', 'text-gray-400 dark:text-gray-500 text-center py-8', T.analyticsNoData));
    }
    midRow.appendChild(statusCard);

    frag.appendChild(midRow);

    // -- Two-Column: Peak Times + Bookings Trend --
    var timeRow = el('div', 'grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6');

    // Peak Times
    var peakCard = el('div', 'bg-white dark:bg-gray-800 rounded-xl shadow p-6');
    peakCard.appendChild(el('h3', 'text-lg font-bold text-gray-800 dark:text-gray-200 mb-4', T.analyticsPeakTimes));
    if (peakData.length) {
      var peakList = el('div', 'space-y-2');
      peakData.forEach(function(p) {
        var pct = Math.round((parseInt(p.count) / maxPeak) * 100);
        var peakRow = el('div', 'flex items-center gap-3');
        peakRow.appendChild(el('span', 'w-20 text-sm font-medium text-gray-700 dark:text-gray-300', fmtHour(p.hour_slot)));
        var pBarBg = el('div', 'flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-4');
        var pBarFill = el('div', 'bg-amber-500 rounded-full h-4 transition-all');
        pBarFill.style.width = pct + '%';
        pBarBg.appendChild(pBarFill);
        peakRow.appendChild(pBarBg);
        peakRow.appendChild(el('span', 'text-sm text-gray-500 dark:text-gray-400 w-8 text-right', String(p.count)));
        peakList.appendChild(peakRow);
      });
      peakCard.appendChild(peakList);
    } else {
      peakCard.appendChild(el('p', 'text-gray-400 dark:text-gray-500 text-center py-8', T.analyticsNoData));
    }
    timeRow.appendChild(peakCard);

    // Bookings Trend
    var trendCard = el('div', 'bg-white dark:bg-gray-800 rounded-xl shadow p-6');
    trendCard.appendChild(el('h3', 'text-lg font-bold text-gray-800 dark:text-gray-200 mb-4', T.analyticsBookingsTrend));
    if (trendData.length) {
      var maxTrend = Math.max.apply(null, trendData.map(function(t) { return parseInt(t.count); }));
      var chartWrap = el('div', 'flex items-end gap-1 h-40');
      trendData.forEach(function(d) {
        var pct = maxTrend ? Math.round((parseInt(d.count) / maxTrend) * 100) : 0;
        var barH = Math.max(pct, 4);
        var colDiv = el('div', 'flex-1 flex flex-col items-center justify-end h-full group relative');
        var tooltip = el('div', 'absolute -top-6 left-1/2 -translate-x-1/2 bg-gray-800 text-white text-xs rounded px-2 py-1 opacity-0 group-hover:opacity-100 pointer-events-none whitespace-nowrap z-10', d.date + ': ' + d.count + ' ' + T.analyticsBookings);
        colDiv.appendChild(tooltip);
        var bar = el('div', 'w-full bg-brand rounded-t transition-all hover:bg-green-600');
        bar.style.height = barH + '%';
        colDiv.appendChild(bar);
        chartWrap.appendChild(colDiv);
      });
      trendCard.appendChild(chartWrap);
      // X-axis labels
      if (trendData.length >= 3) {
        var xAxis = el('div', 'flex justify-between text-xs text-gray-400 dark:text-gray-500 mt-2 px-1');
        xAxis.appendChild(el('span', '', trendData[0].date.substring(5)));
        xAxis.appendChild(el('span', '', trendData[Math.floor(trendData.length / 2)].date.substring(5)));
        xAxis.appendChild(el('span', '', trendData[trendData.length - 1].date.substring(5)));
        trendCard.appendChild(xAxis);
      }
    } else {
      trendCard.appendChild(el('p', 'text-gray-400 dark:text-gray-500 text-center py-8', T.analyticsNoData));
    }
    timeRow.appendChild(trendCard);

    frag.appendChild(timeRow);

    // -- Bottom Row: Messages + Employee Performance --
    var btmRow = el('div', 'grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6');

    // Messages Overview
    var msgCard = el('div', 'bg-white dark:bg-gray-800 rounded-xl shadow p-6');
    msgCard.appendChild(el('h3', 'text-lg font-bold text-gray-800 dark:text-gray-200 mb-4', T.analyticsMessagesSection));
    var msgGrid = el('div', 'grid grid-cols-2 gap-4');
    var mg1 = el('div', 'bg-gray-50 dark:bg-gray-700 p-4 rounded-lg text-center');
    mg1.appendChild(el('p', 'text-sm text-gray-600 dark:text-gray-400', T.analyticsTotal));
    mg1.appendChild(el('p', 'text-2xl font-bold text-gray-800 dark:text-gray-200', String(totalMsgs)));
    msgGrid.appendChild(mg1);
    var mg2 = el('div', 'bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg text-center');
    mg2.appendChild(el('p', 'text-sm text-blue-600 dark:text-blue-400', T.analyticsUnread));
    mg2.appendChild(el('p', 'text-2xl font-bold text-blue-600 dark:text-blue-400', String(unreadMsgs)));
    msgGrid.appendChild(mg2);
    var mg3 = el('div', 'bg-amber-50 dark:bg-amber-900/20 p-4 rounded-lg text-center');
    mg3.appendChild(el('p', 'text-sm text-amber-600 dark:text-amber-400', T.analyticsPriority));
    mg3.appendChild(el('p', 'text-2xl font-bold text-amber-600 dark:text-amber-400', String(priorityMsgs)));
    msgGrid.appendChild(mg3);
    var mg4 = el('div', 'bg-green-50 dark:bg-green-900/20 p-4 rounded-lg text-center');
    mg4.appendChild(el('p', 'text-sm text-green-600 dark:text-green-400', T.analyticsResolved));
    mg4.appendChild(el('p', 'text-2xl font-bold text-green-600 dark:text-green-400', String(resolvedMsgs)));
    msgGrid.appendChild(mg4);
    msgCard.appendChild(msgGrid);
    btmRow.appendChild(msgCard);

    // Employee Performance
    var empCard = el('div', 'bg-white dark:bg-gray-800 rounded-xl shadow p-6');
    empCard.appendChild(el('h3', 'text-lg font-bold text-gray-800 dark:text-gray-200 mb-4', T.analyticsEmployeePerf));
    if (empStats.length) {
      var tableWrap = el('div', 'overflow-x-auto');
      var table = el('table', 'w-full text-sm');
      var thead = document.createElement('thead');
      var headRow = document.createElement('tr');
      headRow.className = 'border-b dark:border-gray-700';
      [T.analyticsEmployee, T.analyticsTotal, T.analyticsCompleted, T.analyticsTotalTime, T.analyticsAvgTime].forEach(function(label, i) {
        var th = document.createElement('th');
        th.className = i === 0 ? 'text-left p-2 text-gray-600 dark:text-gray-400' : 'p-2 text-gray-600 dark:text-gray-400';
        th.textContent = label;
        headRow.appendChild(th);
      });
      thead.appendChild(headRow);
      table.appendChild(thead);
      var tbody = document.createElement('tbody');
      empStats.forEach(function(e) {
        var tr = document.createElement('tr');
        tr.className = 'border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50';
        var td1 = el('td', 'p-2 font-medium text-gray-800 dark:text-gray-200', e.name);
        var td2 = el('td', 'p-2 text-center text-gray-700 dark:text-gray-300', String(e.total));
        var td3 = el('td', 'p-2 text-center text-green-600 dark:text-green-400 font-semibold', String(e.completed));
        var td4 = el('td', 'p-2 text-center text-gray-700 dark:text-gray-300', e.totalTime + ' ' + T.analyticsMinutes);
        var td5 = el('td', 'p-2 text-center text-gray-700 dark:text-gray-300', e.avgTime + ' ' + T.analyticsMinutes);
        tr.appendChild(td1); tr.appendChild(td2); tr.appendChild(td3); tr.appendChild(td4); tr.appendChild(td5);
        tbody.appendChild(tr);
      });
      table.appendChild(tbody);
      tableWrap.appendChild(table);
      empCard.appendChild(tableWrap);
    } else {
      empCard.appendChild(el('p', 'text-gray-400 dark:text-gray-500 text-center py-8', T.analyticsNoData));
    }
    btmRow.appendChild(empCard);

    frag.appendChild(btmRow);

    container.textContent = '';
    container.appendChild(frag);
    analyticsLoaded = true;

  } catch (err) {
    console.error('loadAnalytics error:', err);
    container.textContent = '';
    var errDiv = el('div', 'text-center py-16');
    errDiv.appendChild(el('p', 'text-red-500 text-lg mb-4', T.analyticsError));
    var retryBtn = el('button', 'bg-brand text-white px-6 py-2 rounded-lg hover:bg-green-700 transition', T.analyticsRefresh);
    retryBtn.addEventListener('click', loadAnalytics);
    errDiv.appendChild(retryBtn);
    container.appendChild(errDiv);
  }
}

// Keep backward compatibility
function renderAnalytics() { loadAnalytics(); }

// ===== ACTIONS =====
async function updateApptStatus(id, status) {
  if(status==='confirmed') { const a=appointments.find(x=>x.id===id); if(!a?.assigned_employee_id) { showToast(adminT[currentLang].assignBeforeConfirm,true); loadAppointments(); return; } }
  try {
    await api('appointments.php', { method: 'PUT', body: { id, status } });
    showToast(adminT[currentLang].statusUpdated + ' \u2192 ' + status);
    loadAppointments();
  } catch(e) { showToast(adminT[currentLang].error + ': '+e.message, true); }
}

async function updateApptAssignment(id, empId) {
  const update = { id, assigned_employee_id: empId || null };
  if(empId) update.status = 'confirmed';
  try {
    await api('appointments.php', { method: 'PUT', body: update });
    showToast(empId ? adminT[currentLang].employeeAssigned : adminT[currentLang].assignmentRemoved);
    loadAppointments();
  } catch(e) { showToast(adminT[currentLang].error + ': '+e.message, true); }
}

// ===== BULK OPERATIONS =====
function toggleSelectAll(checked) {
  document.querySelectorAll('.appt-checkbox').forEach(function(cb) { cb.checked = checked; });
  updateBulkToolbar();
}

function updateBulkToolbar() {
  const checked = document.querySelectorAll('.appt-checkbox:checked');
  const toolbar = document.getElementById('bulk-toolbar');
  const countEl = document.getElementById('bulk-count');
  if (!toolbar || !countEl) return;
  if (checked.length > 0) {
    toolbar.classList.remove('hidden');
    countEl.textContent = checked.length + ' ' + (adminT[currentLang].selected || 'selected');
  } else {
    toolbar.classList.add('hidden');
  }
}

async function applyBulkStatus() {
  const status = document.getElementById('bulk-status').value;
  if (!status) { showToast(adminT[currentLang].selectStatus || 'Select a status first', true); return; }
  const ids = Array.from(document.querySelectorAll('.appt-checkbox:checked')).map(function(cb) { return cb.value; });
  if (!ids.length) return;
  try {
    await api('appointments.php', { method: 'POST', body: { action: 'bulk_status', ids, status } });
    showToast(ids.length + ' ' + (adminT[currentLang].appointmentsUpdated || 'appointments updated'));
    loadAppointments();
  } catch(e) { showToast(adminT[currentLang].error + ': '+e.message, true); }
}

async function applyBulkAssign() {
  const empId = document.getElementById('bulk-employee').value;
  if (!empId) { showToast(adminT[currentLang].selectEmployee || 'Select an employee first', true); return; }
  const ids = Array.from(document.querySelectorAll('.appt-checkbox:checked')).map(function(cb) { return cb.value; });
  if (!ids.length) return;
  try {
    await api('appointments.php', { method: 'POST', body: { action: 'bulk_assign', ids, employee_id: empId } });
    showToast(ids.length + ' ' + (adminT[currentLang].appointmentsAssigned || 'appointments assigned'));
    loadAppointments();
  } catch(e) { showToast(adminT[currentLang].error + ': '+e.message, true); }
}

function exportAppointmentsCsv() {
  const rows = document.querySelectorAll('#appointments-table tr');
  if (!rows.length || (rows.length === 1 && rows[0].querySelector('td[colspan]'))) {
    showToast(adminT[currentLang].noAppointments || 'No appointments to export', true);
    return;
  }
  const headers = ['Customer', 'Service', 'Date', 'Time', 'Phone', 'Email', 'Employee', 'Status'];
  var csv = headers.join(',') + '\n';
  rows.forEach(function(row) {
    var cells = row.querySelectorAll('td');
    if (cells.length >= 8) {
      var rowData = Array.from(cells).slice(1, -1).map(function(cell) {
        var text = cell.textContent.trim().replace(/"/g, '""');
        return '"' + text + '"';
      });
      csv += rowData.join(',') + '\n';
    }
  });
  var blob = new Blob([csv], { type: 'text/csv' });
  var url = URL.createObjectURL(blob);
  var a = document.createElement('a');
  a.href = url;
  a.download = 'appointments-' + new Date().toISOString().slice(0, 10) + '.csv';
  a.click();
  URL.revokeObjectURL(url);
}

async function updateMsgStatus(id, status) {
  try {
    await api('messages.php', { method: 'PUT', body: { id, status } });
    showToast(adminT[currentLang].messageStatusUpdated + ' \u2192 ' + status); loadMessages();
  } catch(e) { showToast(adminT[currentLang].error + ': '+e.message, true); }
}

function openNotesModal(id) {
  currentNotesId = id;
  const a = appointments.find(x=>x.id===id);
  document.getElementById('notes-text').value = a?.admin_notes || '';
  document.getElementById('notes-modal').classList.remove('hidden');
}
async function saveNotes() {
  if(!currentNotesId) return;
  const notes = document.getElementById('notes-text').value;
  try {
    await api('appointments.php', { method: 'PUT', body: { id: currentNotesId, admin_notes: notes } });
    showToast(adminT[currentLang].notesSaved); closeModal('notes-modal'); loadAppointments();
  } catch(e) { showToast(adminT[currentLang].error + ': '+e.message, true); }
}

async function addEmployee() {
  const name = document.getElementById('new-emp-name').value;
  const email = document.getElementById('new-emp-email').value || null;
  if(!name) { showToast(adminT[currentLang].nameIsRequired, true); return; }
  try {
    await api('employees.php', { method: 'POST', body: {
      name, email,
      phone: document.getElementById('new-emp-phone').value||null,
      role: document.getElementById('new-emp-role').value
    }});
    showToast(adminT[currentLang].employeeAdded);
    toggleAddEmployeeForm();
    document.getElementById('new-emp-name').value=''; document.getElementById('new-emp-email').value='';
    document.getElementById('new-emp-phone').value=''; loadEmployees();
  } catch(e) { showToast(adminT[currentLang].error + ': '+e.message, true); }
}

async function toggleEmployeeStatus(id, newStatus) {
  try {
    await api('employees.php', { method: 'PUT', body: { id, is_active: newStatus } });
    showToast(newStatus ? adminT[currentLang].employeeActivated : adminT[currentLang].employeeDeactivated); loadEmployees();
  } catch(e) { showToast(adminT[currentLang].error + ': '+e.message, true); }
}

function startEditEmployee(id) {
  document.getElementById('emp-view-'+id).classList.add('hidden');
  document.getElementById('emp-edit-'+id).classList.remove('hidden');
}
function cancelEditEmployee(id) {
  document.getElementById('emp-edit-'+id).classList.add('hidden');
  document.getElementById('emp-view-'+id).classList.remove('hidden');
}
async function saveEditEmployee(id) {
  const name = document.getElementById('edit-emp-name-'+id).value;
  if(!name) { showToast(adminT[currentLang].nameIsRequired, true); return; }
  try {
    await api('employees.php', { method: 'PUT', body: {
      id, name, email: document.getElementById('edit-emp-email-'+id).value || null,
      phone: document.getElementById('edit-emp-phone-'+id).value || null,
      role: document.getElementById('edit-emp-role-'+id).value
    }});
    showToast(adminT[currentLang].employeeUpdated); loadEmployees();
  } catch(e) { showToast(adminT[currentLang].error + ': '+e.message, true); }
}

async function makeAdmin(email, name, role, language) {
  try {
    const json = await api('admins.php', { method: 'POST', body: { email, display_name: name, role: role || 'admin', language: language || 'both' } });
    if(json.data?.email_sent) {
      showToast(adminT[currentLang].adminCreated + ' ' + email);
    } else {
      showToast(adminT[currentLang].adminCreatedEmailFailed + ': ' + (json.data?.email_error || 'unknown'));
    }
    loadAdminUsers();
  } catch(e) { showToast(adminT[currentLang].error + ': '+e.message, true); }
}

async function addAdmin() {
  const email = document.getElementById('new-admin-email').value;
  const name = document.getElementById('new-admin-name').value;
  const role = document.getElementById('new-admin-role').value;
  const language = document.getElementById('new-admin-language').value;
  if(!email) { showToast(adminT[currentLang].emailIsRequired, true); return; }
  if(!name) { showToast(adminT[currentLang].displayNameRequired, true); return; }
  await makeAdmin(email, name, role, language);
  document.getElementById('new-admin-email').value='';
  document.getElementById('new-admin-name').value='';
  document.getElementById('new-admin-role').value='admin';
  document.getElementById('new-admin-language').value='both';
  toggleAddAdminForm();
}

async function revokeAdmin(userId) {
  if(!confirm(adminT[currentLang].revokeAdminConfirm)) return;
  try {
    await api('admins.php?id=' + userId, { method: 'DELETE' });
    showToast(adminT[currentLang].adminAccessRevoked); loadAdminUsers(); loadEmployees();
  } catch(e) { showToast(adminT[currentLang].error + ': '+e.message, true); }
}

async function resendAdminInvite(userId) {
  try {
    await api('admins.php?action=resend_invite&id=' + userId, { method: 'POST', body: { action: 'resend_invite', id: parseInt(userId) } });
    showToast(adminT[currentLang].setupEmailResent);
    loadAdminUsers();
  } catch(e) { showToast(adminT[currentLang].error + ': '+e.message, true); }
}

function openSetPasswordModal(userId, displayName) {
  document.getElementById('set-pw-admin-id').value = userId;
  document.getElementById('set-pw-admin-name').textContent = displayName;
  document.getElementById('set-pw-input').value = '';
  document.getElementById('set-pw-confirm').value = '';
  document.getElementById('set-pw-error').textContent = '';
  document.getElementById('set-password-modal').classList.remove('hidden');
}

async function submitSetPassword() {
  var adminId = document.getElementById('set-pw-admin-id').value;
  var password = document.getElementById('set-pw-input').value;
  var confirm = document.getElementById('set-pw-confirm').value;
  var errorEl = document.getElementById('set-pw-error');
  errorEl.textContent = '';

  if (password.length < 8) { errorEl.textContent = adminT[currentLang].passwordMin8; return; }
  if (password.length > 72) { errorEl.textContent = adminT[currentLang].passwordMax72; return; }
  if (!/[A-Z]/.test(password)) { errorEl.textContent = adminT[currentLang].mustContainUppercase; return; }
  if (!/[a-z]/.test(password)) { errorEl.textContent = adminT[currentLang].mustContainLowercase; return; }
  if (!/[0-9]/.test(password)) { errorEl.textContent = adminT[currentLang].mustContainNumber; return; }
  if (password !== confirm) { errorEl.textContent = adminT[currentLang].passwordsNoMatch; return; }

  try {
    await api('admins.php', { method: 'POST', body: { action: 'set_password', id: parseInt(adminId), password: password } });
    showToast(adminT[currentLang].passwordSetSuccess);
    document.getElementById('set-password-modal').classList.add('hidden');
    loadAdminUsers();
  } catch(e) { errorEl.textContent = e.message; }
}

async function updateLanguagePreference() {
  const lang = document.getElementById('settings-language').value;
  try {
    await api('account.php', { method: 'PUT', body: { action: 'update_language', language: lang } });
    // Sync UI language immediately
    if (lang === 'en' || lang === 'es') {
      currentLang = lang;
    } else {
      currentLang = 'es'; // 'both' defaults to Spanish
    }
    if (currentUser) currentUser.language = lang;
    document.documentElement.lang = currentLang;
    document.getElementById('admin-lang-toggle').textContent = currentLang === 'en' ? 'ES' : 'EN';
    applyAdminTranslations();
    showToast(adminT[currentLang].languageUpdated);
  } catch(e) { showToast(adminT[currentLang].error + ': '+e.message, true); }
}

async function revokeAdminByEmail(email) {
  if(!confirm(adminT[currentLang].revokeAdminForConfirm + ' ' + email + '?')) return;
  const admin = adminUsers.find(u => u.email.toLowerCase() === email.toLowerCase());
  if(admin) {
    try {
      await api('admins.php?id=' + admin.id, { method: 'DELETE' });
      showToast(adminT[currentLang].adminAccessRevoked); loadAdminUsers(); loadEmployees();
    } catch(e) { showToast(adminT[currentLang].error + ': '+e.message, true); }
  } else { showToast(adminT[currentLang].adminNotFound, true); }
}

// ===== SITE SETTINGS (Editable Content) =====
const SITE_SETTINGS_KEYS = ['phone', 'email', 'address', 'hours_weekday', 'hours_sunday', 'rating_value', 'review_count', 'google_analytics_id'];
const SITE_SETTINGS_DEFAULTS = {
  phone: { en: '(503) 367-9714', es: '(503) 367-9714' },
  email: { en: 'oregontirespdx@gmail.com', es: 'oregontirespdx@gmail.com' },
  address: { en: '8536 SE 82nd Ave, Portland, OR 97266', es: '8536 SE 82nd Ave, Portland, OR 97266' },
  hours_weekday: { en: 'Mon-Sat 7AM-7PM', es: 'Lun-S\u00E1b 7AM-7PM' },
  hours_sunday: { en: 'Sunday: Closed', es: 'Domingo: Cerrado' },
  rating_value: { en: '4.8', es: '4.8' },
  review_count: { en: '150+', es: '150+' },
  google_analytics_id: { en: 'G-CHYMTNB6LH', es: 'G-CHYMTNB6LH' }
};

async function loadSiteSettings() {
  try {
    const json = await api('site-settings.php');
    const data = json.data || [];
    let latestUpdate = null;
    if (data.length) {
      for (const row of data) {
        const enInput = document.getElementById('setting-' + row.setting_key + '-en');
        const esInput = document.getElementById('setting-' + row.setting_key + '-es');
        if (enInput) enInput.value = row.value_en || '';
        if (esInput) esInput.value = row.value_es || '';
        if (row.updated_at && (!latestUpdate || new Date(row.updated_at) > new Date(latestUpdate))) {
          latestUpdate = row.updated_at;
        }
      }
    } else {
      for (const key of SITE_SETTINGS_KEYS) {
        const enInput = document.getElementById('setting-' + key + '-en');
        const esInput = document.getElementById('setting-' + key + '-es');
        if (enInput) enInput.value = SITE_SETTINGS_DEFAULTS[key].en;
        if (esInput) esInput.value = SITE_SETTINGS_DEFAULTS[key].es;
      }
    }
    const updEl = document.getElementById('settings-last-updated');
    if (updEl && latestUpdate) {
      updEl.textContent = (adminT[currentLang].lastUpdated || 'Last updated') + ': ' + new Date(latestUpdate).toLocaleString();
    }
    // Update GA tracking ID from loaded settings
    const gaInput = document.getElementById('setting-google_analytics_id-en');
    if (gaInput && gaInput.value && typeof window.__updateGaId === 'function') window.__updateGaId(gaInput.value);
  } catch (err) {
    console.error('loadSiteSettings error:', err);
    showToast(adminT[currentLang].settingsLoadError || 'Could not load site settings', true);
  }
}

async function saveSiteSettings() {
  const btn = document.getElementById('save-site-settings');
  btn.disabled = true;
  btn.textContent = adminT[currentLang].loading || 'Loading...';
  try {
    // Validate GA ID format before saving
    const gaVal = document.getElementById('setting-google_analytics_id-en').value.trim();
    if (gaVal && !/^G-[A-Z0-9]{6,12}$/.test(gaVal)) {
      showToast(adminT[currentLang].gaIdInvalid, true);
      return;
    }
    const settings = SITE_SETTINGS_KEYS.map(key => ({
      setting_key: key,
      value_en: document.getElementById('setting-' + key + '-en').value.trim(),
      value_es: document.getElementById('setting-' + key + '-es').value.trim()
    }));
    await api('site-settings.php', { method: 'POST', body: { settings } });
    showToast(adminT[currentLang].settingsSaved || 'Site settings saved successfully');
    loadSiteSettings();
  } catch (err) {
    console.error('saveSiteSettings error:', err);
    showToast(adminT[currentLang].settingsSaveError || 'Could not save site settings', true);
  } finally {
    btn.disabled = false;
    btn.textContent = adminT[currentLang].saveSiteSettings || 'Save Site Settings';
  }
}

// ===== EMAIL TEMPLATES =====
const EMAIL_TPL_TYPES = ['welcome', 'reset', 'contact'];
const EMAIL_TPL_FIELDS = ['subject', 'greeting', 'body', 'button', 'footer'];

function switchEmailTplTab(type) {
  document.querySelectorAll('.etpl-panel').forEach(el => el.classList.add('hidden'));
  document.getElementById('etpl-' + type).classList.remove('hidden');
  EMAIL_TPL_TYPES.forEach(t => {
    const btn = document.getElementById('etpl-tab-' + t);
    if (t === type) { btn.className = 'px-4 py-2 rounded-lg text-sm font-medium bg-blue-600 text-white'; }
    else { btn.className = 'px-4 py-2 rounded-lg text-sm font-medium border hover:bg-gray-50'; }
  });
}

async function loadEmailTemplates() {
  try {
    const json = await api('site-settings.php');
    const data = json.data || [];
    for (const row of data) {
      if (!row.setting_key.startsWith('email_tpl_')) continue;
      // e.g. email_tpl_welcome_subject ‚Üí welcome-subject
      const parts = row.setting_key.replace('email_tpl_', '').split('_');
      const type = parts[0]; // welcome, reset, contact
      const field = parts.slice(1).join('_'); // subject, greeting, body, button, footer
      const enEl = document.getElementById('etpl-' + type + '-' + field + '-en');
      const esEl = document.getElementById('etpl-' + type + '-' + field + '-es');
      if (enEl) enEl.value = row.value_en || '';
      if (esEl) esEl.value = row.value_es || '';
    }
  } catch(err) {
    console.error('loadEmailTemplates error:', err);
  }
}

async function saveEmailTemplates() {
  try {
    const settings = [];
    for (const type of EMAIL_TPL_TYPES) {
      for (const field of EMAIL_TPL_FIELDS) {
        const enEl = document.getElementById('etpl-' + type + '-' + field + '-en');
        const esEl = document.getElementById('etpl-' + type + '-' + field + '-es');
        if (enEl && esEl) {
          settings.push({
            setting_key: 'email_tpl_' + type + '_' + field,
            value_en: enEl.value.trim(),
            value_es: esEl.value.trim()
          });
        }
      }
    }
    await api('site-settings.php', { method: 'POST', body: { settings } });
    showToast(adminT[currentLang].emailTemplatesSaved);
    loadEmailTemplates();
  } catch(err) {
    console.error('saveEmailTemplates error:', err);
    showToast(adminT[currentLang].emailTemplatesSaveError, true);
  }
}

// ===== TAB SWITCHING =====
function switchTab(tab) {
  document.querySelectorAll('.tab-content').forEach(el => el.classList.add('hidden'));
  document.querySelectorAll('.tab-btn').forEach(el => { el.classList.remove('tab-active'); el.classList.add('text-white','hover:bg-green-600'); el.setAttribute('aria-selected', 'false'); });
  document.getElementById('tab-' + tab).classList.remove('hidden');
  const btn = document.querySelector(`.tab-btn[data-tab="${tab}"]`);
  if(btn) { btn.classList.add('tab-active'); btn.classList.remove('text-white','hover:bg-green-600'); btn.setAttribute('aria-selected', 'true'); }
  if(tab==='analytics') loadAnalytics();
  if(tab==='appointments') renderCalendar();
  if(tab==='sitecontent') { loadSiteSettings(); loadEmailTemplates(); }
}

// Sub-tab switching for Appointments (Calendar vs List)
function switchApptView(view) {
  document.getElementById('appt-subtab-calendar').classList.toggle('hidden', view !== 'calendar');
  document.getElementById('appt-subtab-list').classList.toggle('hidden', view !== 'list');
  document.getElementById('appt-view-calendar').className = view === 'calendar' ? 'px-4 py-2 rounded-lg text-sm font-medium bg-brand text-white' : 'px-4 py-2 rounded-lg text-sm font-medium border hover:bg-gray-50';
  document.getElementById('appt-view-list').className = view === 'list' ? 'px-4 py-2 rounded-lg text-sm font-medium bg-brand text-white' : 'px-4 py-2 rounded-lg text-sm font-medium border hover:bg-gray-50';
  if(view === 'calendar') renderCalendar();
  if(view === 'list') renderAppointments();
}

// Sub-tab switching for Documentation
function switchDocsView(view) {
  var tabs = ['manual','features','improvements','vision'];
  var active = 'px-4 py-2 rounded-lg text-sm font-medium bg-brand text-white';
  var inactive = 'px-4 py-2 rounded-lg text-sm font-medium border text-gray-700 hover:bg-gray-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700';
  var visionActive = 'px-4 py-2 rounded-lg text-sm font-medium bg-brand text-white';
  var visionInactive = 'px-4 py-2 rounded-lg text-sm font-medium border text-gray-700 hover:bg-gray-50 bg-gradient-to-r from-green-50 to-amber-50 border-green-300 dark:from-green-900/30 dark:to-amber-900/30 dark:border-green-700 dark:text-green-300 dark:hover:from-green-900/50 dark:hover:to-amber-900/50';
  tabs.forEach(function(t) {
    document.getElementById('docs-subtab-'+t).classList.toggle('hidden', view !== t);
    var btn = document.getElementById('docs-view-'+t);
    if (t === 'vision') btn.className = view === t ? visionActive : visionInactive;
    else btn.className = view === t ? active : inactive;
  });
}

// Quick assign all unassigned appointments for a day
function quickAssignDay(dateStr) {
  const dayApts = appointments.filter(a => a.preferred_date === dateStr && !a.assigned_employee_id);
  const activeEmps = employees.filter(e => e.is_active);
  if(!activeEmps.length) { showToast(adminT[currentLang].noActiveEmployees, true); return; }
  dayApts.forEach((apt, i) => {
    const emp = activeEmps[i % activeEmps.length];
    updateApptAssignment(apt.id, emp.id);
  });
}

// Sub-tab switching for Messages
function switchMessagesSubTab(sub) {
  document.getElementById('msg-subtab-contacts').classList.toggle('hidden', sub !== 'contacts');
  document.getElementById('msg-subtab-emaillogs').classList.toggle('hidden', sub !== 'emaillogs');
  document.getElementById('msg-sub-contacts').className = sub === 'contacts' ? 'px-4 py-2 rounded-lg text-sm font-medium bg-brand text-white' : 'px-4 py-2 rounded-lg text-sm font-medium border hover:bg-gray-50';
  document.getElementById('msg-sub-emaillogs').className = sub === 'emaillogs' ? 'px-4 py-2 rounded-lg text-sm font-medium bg-brand text-white' : 'px-4 py-2 rounded-lg text-sm font-medium border hover:bg-gray-50';
  if(sub === 'emaillogs') loadEmailLogs();
}

// Sub-tab switching for Gallery
function switchGallerySubTab(sub) {
  document.getElementById('gal-subtab-gallery').classList.toggle('hidden', sub !== 'gallery');
  document.getElementById('gal-subtab-serviceimgs').classList.toggle('hidden', sub !== 'serviceimgs');
  document.getElementById('gal-sub-gallery').className = sub === 'gallery' ? 'px-4 py-2 rounded-lg text-sm font-medium bg-brand text-white' : 'px-4 py-2 rounded-lg text-sm font-medium border hover:bg-gray-50';
  document.getElementById('gal-sub-serviceimgs').className = sub === 'serviceimgs' ? 'px-4 py-2 rounded-lg text-sm font-medium bg-brand text-white' : 'px-4 py-2 rounded-lg text-sm font-medium border hover:bg-gray-50';
  document.getElementById('gallery-add-btn').classList.toggle('hidden', sub !== 'gallery');
  if(sub === 'serviceimgs') loadServiceImages();
}

// ===== ACCOUNT SETTINGS =====
function openAccountSettings() {
  if(currentUser) {
    document.getElementById('settings-name').value = currentUser.name || '';
    document.getElementById('settings-email').value = currentUser.email || '';
  }
  document.getElementById('settings-password').value = '';
  document.getElementById('settings-password-confirm').value = '';
  api('account.php').then(json => {
    document.getElementById('settings-notification-email').value = json.data?.notification_email || (currentUser ? currentUser.email : '');
    var sLang = document.getElementById('settings-language');
    if(json.data?.language && sLang) sLang.value = json.data.language;
  }).catch(() => {});
  document.getElementById('account-modal').classList.remove('hidden');
}

async function updateNotificationEmail() {
  const email = document.getElementById('settings-notification-email').value.trim();
  if(!email) { showToast(adminT[currentLang].emailIsRequired, true); return; }
  try {
    await api('account.php', { method: 'PUT', body: { action: 'update_notification_email', notification_email: email } });
    showToast(adminT[currentLang].notificationEmailUpdated + ' ' + email);
  } catch(e) { showToast(adminT[currentLang].error + ': ' + e.message, true); }
}

async function updateAccountName() {
  const name = document.getElementById('settings-name').value.trim();
  if(!name) { showToast(adminT[currentLang].nameIsRequired, true); return; }
  try {
    await api('account.php', { method: 'PUT', body: { action: 'update_name', name } });
    document.getElementById('admin-email').textContent = name;
    currentUser.name = name;
    showToast(adminT[currentLang].nameUpdated);
  } catch(e) { showToast(adminT[currentLang].error + ': ' + e.message, true); }
}

async function updateAccountEmail() {
  const email = document.getElementById('settings-email').value.trim();
  if(!email) { showToast(adminT[currentLang].emailIsRequired, true); return; }
  try {
    await api('account.php', { method: 'PUT', body: { action: 'update_email', email } });
    currentUser.email = email;
    showToast(adminT[currentLang].emailUpdated);
  } catch(e) { showToast(adminT[currentLang].emailUpdateFailed || e.message, true); }
}

async function updateAccountPassword() {
  const currentPw = document.getElementById('settings-current-password')?.value || '';
  const pw = document.getElementById('settings-password').value;
  const pwConfirm = document.getElementById('settings-password-confirm').value;
  if(!pw || pw.length < 8) { showToast(adminT[currentLang].passwordMin8, true); return; }
  if(pw !== pwConfirm) { showToast(adminT[currentLang].passwordsNoMatch, true); return; }
  try {
    await api('account.php', { method: 'PUT', body: { action: 'update_password', current_password: currentPw, new_password: pw } });
    document.getElementById('settings-password').value = '';
    document.getElementById('settings-password-confirm').value = '';
    if(document.getElementById('settings-current-password')) document.getElementById('settings-current-password').value = '';
    showToast(adminT[currentLang].passwordUpdated);
  } catch(e) { showToast(e.message || adminT[currentLang].passwordUpdateFailed, true); }
}

// Close modals on overlay click
document.querySelectorAll('.modal-overlay').forEach(m => m.addEventListener('click', (e) => { if(e.target===m) m.classList.add('hidden'); }));

// Close modals on Escape key
document.addEventListener('keydown', (e) => {
  if (e.key === 'Escape') {
    document.querySelectorAll('.modal-overlay:not(.hidden)').forEach(modal => {
      modal.classList.add('hidden');
    });
  }
});

// Apply default language translations on page load
applyAdminTranslations();

// Initialize drag-and-drop zones for gallery upload
initDragAndDrop();

// ===== NEW APPOINTMENT =====
function showNewApptModal() {
  var empSelect = document.getElementById('new-appt-employee');
  empSelect.innerHTML = '';
  var defOpt = document.createElement('option');
  defOpt.value = '';
  defOpt.textContent = '\u2014 Unassigned \u2014';
  empSelect.appendChild(defOpt);
  employees.filter(function(e) { return e.is_active; }).forEach(function(e) {
    var opt = document.createElement('option');
    opt.value = e.id;
    opt.textContent = e.name;
    empSelect.appendChild(opt);
  });
  var today = new Date().toISOString().split('T')[0];
  var dateInput = document.querySelector('#new-appt-form [name="appt-date"]');
  dateInput.setAttribute('min', today);
  dateInput.value = today;
  document.getElementById('new-appt-form').reset();
  dateInput.value = today;
  document.getElementById('new-appt-error').classList.add('hidden');
  document.getElementById('new-appt-modal').classList.remove('hidden');
}

async function createAppointment(e) {
  e.preventDefault();
  var form = document.getElementById('new-appt-form');
  var errorEl = document.getElementById('new-appt-error');
  var btn = document.getElementById('new-appt-submit');
  errorEl.classList.add('hidden');
  var data = {
    action: 'create',
    source: (form.querySelector('input[name="appt-source"]:checked') || {}).value || 'walk-in',
    first_name: form.querySelector('[name="appt-first-name"]').value.trim(),
    last_name: form.querySelector('[name="appt-last-name"]').value.trim(),
    email: form.querySelector('[name="appt-email"]').value.trim(),
    phone: form.querySelector('[name="appt-phone"]').value.trim(),
    service: form.querySelector('[name="appt-service"]').value,
    preferred_date: form.querySelector('[name="appt-date"]').value,
    preferred_time: form.querySelector('[name="appt-time"]').value,
    vehicle_year: form.querySelector('[name="appt-vehicle-year"]').value || '',
    vehicle_make: form.querySelector('[name="appt-vehicle-make"]').value.trim() || '',
    vehicle_model: form.querySelector('[name="appt-vehicle-model"]').value.trim() || '',
    assigned_employee_id: document.getElementById('new-appt-employee').value || null,
    notes: form.querySelector('[name="appt-notes"]').value.trim() || '',
    language: (form.querySelector('input[name="appt-language"]:checked') || {}).value || 'english'
  };
  if (!data.first_name || !data.last_name) { errorEl.textContent = 'Name is required'; errorEl.classList.remove('hidden'); return; }
  if (!data.email) { errorEl.textContent = 'Email is required'; errorEl.classList.remove('hidden'); return; }
  if (!data.phone) { errorEl.textContent = 'Phone is required'; errorEl.classList.remove('hidden'); return; }
  if (!data.service) { errorEl.textContent = 'Service is required'; errorEl.classList.remove('hidden'); return; }
  if (!data.preferred_date) { errorEl.textContent = 'Date is required'; errorEl.classList.remove('hidden'); return; }
  if (!data.preferred_time) { errorEl.textContent = 'Time is required'; errorEl.classList.remove('hidden'); return; }
  btn.disabled = true;
  btn.textContent = adminT[currentLang].creating || 'Creating...';
  try {
    var json = await api('appointments.php', { method: 'POST', body: data });
    showToast((adminT[currentLang].appointmentCreated || 'Appointment created!') + ' \u2014 ' + json.data.reference_number);
    document.getElementById('new-appt-modal').classList.add('hidden');
    loadAppointments();
  } catch (err) {
    errorEl.textContent = err.message || 'Error creating appointment';
    errorEl.classList.remove('hidden');
  }
  btn.disabled = false;
  btn.textContent = adminT[currentLang].createAppointment || 'Create Appointment';
}
</script>
</body>
</html>
